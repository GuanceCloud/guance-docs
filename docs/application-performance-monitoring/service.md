# 服务
---

## 简介

链路数据采集到观测云后，您可以登录到观测云工作空间，点击 「应用性能监测」的「服务」列表，查看选定时间范围内的所有链路服务列表及其对应的关键性能指标，包括平均请求数、平均响应时间、P75响应时间、P95响应时间、错误数，默认按照“错误数”降序排序，支持点击关键性能指标名称调整排序显示。

![](img/3.apm_1.png)

## 服务查询和分析

### 时间控件

在「应用性能监测」的「服务」列表，默认展示最近 15 分钟的数据，通过右上角的「时间控件」，您可以选择数据展示的时间范围。更多详情可参考文档 [时间控件说明](../getting-started/necessary-for-beginners/explorer-search.md#time) 。

### 搜索与筛选

在服务搜索栏，支持关键字搜索、通配符搜索、关联搜索、等多种搜索方式，支持基于服务类型（type）、环境（env）、版本（version）、项目（project）和服务（service）等一个或多个标签对链路服务进行字段筛选，包括正向筛选、反向筛选、模糊匹配、反向模糊匹配等多种筛选方式。更多搜索与筛选可参考文档 [查看器的搜索和筛选](../getting-started/necessary-for-beginners/explorer-search.md) 。

**注意：当您切换查看「服务」或「链路」查看器时，观测云默认为您保留当前的筛选条件和时间范围。关于如何配置标签用于筛选，可参考文档 [Tracing 数据采集通用配置](../datakit/datakit-tracing.md#tracing-common-config) 。**

### 快捷筛选

在快捷筛选，您可以快速基于服务类型（type）、环境（env）、版本（version）、项目（project）和服务（service）进行筛选，更多快捷筛选可参考文档 [快捷筛选](../getting-started/necessary-for-beginners/explorer-search.md#quick-filter) 。

### 查看错误列表

鼠标悬停至服务性能指标「错误数」，点击右侧显示的 :octicons-search-16: ，即可跳转至「链路」页，查看该服务在当前选定的时间范围内，数据状态 "status" 为“error” 的链路数据。

![](img/3.apm_2.gif)

## 服务拓扑图 {#map}

在「应用性能监测」的「服务」列表，支持点击![](img/1.apm_9.png)切换列表至「拓扑图」模式查看各个服务之间的调用关系。

### 拓扑图说明

- 区分环境和版本：支持基于服务（service）和服务环境版本（service+env+version)两种维度绘制链路拓扑图，开启“区分环境和版本”后，将按照不同的环境版本绘制服务拓扑图。比如说金丝雀发布，通过开启环境和版本，即可查看不同环境版本下的服务调用情况。

- 填充：支持选择不同的性能指标“请求数”、“P50响应时间”、“P75响应时间”、“P99响应时间”和“错误数”来查看服务节点颜色

- 自定义区间：为选择的「填充指标」自定义服务节点颜色区间范围。节点的颜色根据最大值和最小值等分为 5 个区间，每个区间将自动对应五个不同的颜色

- 节点尺寸：节点大小共有3种尺寸，对服务每秒请求数的“最大值（Max）”和“最小值（Min）”进行三等分，得出的三个区间对应 3 种图形尺寸。

  **注意：若每秒请求数<0.01，则直接显示为<0.01，但实际⚪的尺寸大小要以真实数据为准，这里只作显示（举例：查询出来的最大值为0.009，最小值为0.0003，都小于0.01，则显示为Min<0.01，Max<0.01，但真实的尺寸大小还是以0.009和0.0003计算）**

![](img/1.apm_8.png)



### 操作说明

=== "节点指标数据查询"

    将鼠标悬浮在服务节点处时，对应服务高亮显示，其他无关联服务及连接线变灰，您可以查看该服务的“请求数”、“错误率”、“平均响应时间”、和“P99响应时间”等指标数据。

=== "自定义颜色区间"

    开启「自定义区间」为选择的「填充指标」自定义服务节点颜色区间范围。通过「填充」选择不同的性能指标“请求数”、“P50响应时间”、“P75响应时间”、“P99响应时间”和“错误数”来查看服务节点颜色。

=== "查看缩略图"

    放大拓扑图，可在左下角查看小缩略图。

=== "查看上下游"

    在服务拓扑图，点击服务图标，点击“查看上下游”，即可查看当前服务的上下游服务关联；点击左上角“返回总览”可返回到原服务拓扑图，在搜索框进行搜索或筛选可过滤关联的上下游服务，根据搜索或筛选的结果显示匹配的关联上下游服务。

=== "关联查询"

    在服务拓扑图，点击服务图标，可查看“关联日志以”及“关联链路”。

![](img/1.apm_10.gif)

