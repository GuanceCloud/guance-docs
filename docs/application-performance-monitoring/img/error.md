# 错误追踪
---

## 简介

观测云提供应用性能监测错误数据分析查看器，通过统计所有上报的错误

在观测云控制台，您可以在「应用性能监测」的「错误追踪」，快速查看链路中的类似错误及其分布情况，帮助快速定位性能问题。

## 数据查询与分析

观测云查看器提供强大的查询和分析功能，您可以通过时间控件，对一定时间范围内的数据进行搜索与筛选、快捷筛选、自定义显示列、数据导出等操作，通过图表分析模式，对所有错误的链路数据基于**1-3个标签**进行分组统计，以反映出错误链路在不同的分组下，不同时间的分布特征与趋势，帮助您快速发现错误链路来定位性能问题。更多详情可参考文档 [查看器说明](../getting-started/necessary-for-beginners/explorer-search.md) 。

## 应用场景

- 需要整体查看所有在项目应用中发生的链路错误
- 通过聚类分析，快速查看最频繁发生的需要被解决的链路错误

## 所有错误

若您需要整体查看所有在项目应用中发生的链路错误，您可以在观测云工作空间「应用性能监测」-「错误追踪」，选择「所有错误」列表，即可查看和分析所有链路的错误数据。
注意：所有错误的链路数据统计的是基于 `status=error` ，且含有 `error_type` 字段的顶层 `span` 。

![](img/1.apm_error_1.png)

## 聚类分析

若您需要快速查看最频繁发生的需要被解决的链路错误，您可以在观测云工作空间「应用性能监测」-「错误追踪」，选择「聚类分析」列表，即可

对所有错误的链路数据基于 `error_msg` 和 `error_type` 两个字段进行进行相似度计算分析，根据右上方选择的时间范围固定当前时间段，并获取该时间段内 10000 条数据进行聚类分析，将近似度高的错误链路进行聚合，提取并统计共同的 Pattern 聚类，帮助快速发现异常链路和定位问题。

![](img/1.apm_error_5.png)





## 错误详情 {#detail}

在错误追踪查看器，您可以通过点击任意错误查看对应的错误链路详情，包括服务、错误类型、错误内容、错误分布图、错误详情、链路详情、扩展属性以及关联的日志、主机、网络等。

![](img/1.apm_error_2.png)

![](img/1.apm_error_3.png)

### 查看链路

在错误追踪详情页，点击右上角“查看链路”，即可跳转到链路详情页查看错误链路关联的上下文 span，点击“返回”可跳转回错误链路详情页。

![](img/1.apm_error_4.png)

### 扩展属性

在错误链路详情页，您可以在「扩展属性」查看当前错误链路的相关字段属性，点击字段可通过“筛选字段值”、“反向筛选字段值”、“添加到显示列”和“复制”进行快速筛选查看。

- “筛选字段值”，即添加该字段至查看器，查看与该字段相关的全部数据
- “反向筛选字段值”，即添加该字段至查看器，查看除了该字段以外的其他数据
- “添加到显示列”，即添加该字段到查看器列表进行查看
- “复制”，即复制该字段至剪贴板 

![](img/1.apm_error_8.png)

### 关联分析

=== "关联日志"

    在错误链路详情页，点击「日志」，即可查看和链路ID（trace_id）关联的日志。您可以对日志进行关键字搜索和多标签筛选，日志内容默认按照日志查看器的 “最大显示行数”、“显示列” 的配置展示，支持自定义，若您需要查看更详细的日志内容，您可以点击日志内容跳转到日志详情页面，或点击跳转按钮到日志页打开。

=== "关联主机"

    在错误链路详情页，点击「主机」，即可查看关联主机（关联字段：host）的指标视图和属性视图。

=== "关联网络"

    在错误链路详情页，点击「网络」，查看相关视图（包括主机、Pod 和 Deployment）的数据连接情况。

