# Rollup 函数

---

观测云拥有全面的数据聚合能力，支持通过 Rollup 函数提高数据分组返回效率。即将数据切片成指定时间间隔的数据，并对每个时间间隔的数据进行计算返回。目前支持选择的函数如下所示：

| Rollup 函数 | 描述 | 示例| 
| --- | --- |--- |
| avg | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据计算平均值 |  `M:cpu:load5s [::1m:avg]`  |
| sum | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据求和 | `M:cpu:load5s [::1m:sum]`|
| min |  将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据计算最小值 | `M:cpu:load5s [::1m:min]` |
| max | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据计算最大值 |  `M:cpu:load5s [::1m:max]` |
| count | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据统计数量 |`M:cpu:load5s [::1m:count]`   |
| first | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据计算第一个值 | `M:cpu:load5s [::1m:first]` |
| last | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据计算最后一个值 | `M:cpu:load5s [::1m:last]` |
| rate | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据计算变化率，适用于计算短时间窗口内的瞬时变化率 |  `M:cpu:load5s [::1m:rate]` |
| irate | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据计算变化率，适用于计算长时间范围内的平均变化率 | `M:cpu:load5s [::1m:irate]`  |
| median | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据计算中位数 | `M:cpu:load5s [::1m:median]`  |
| stddev |  将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据计算标准差 |   `M:cpu:load5s [::1m:stddev]`  |
| deriv | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据计算相邻元素的每秒导数 | `M:cpu:load5s [::1m:deriv]` |
| p99 | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据返回百分之 99 分位数的值  | `M:cpu:load5s [::1m:p99]` |
| p90 | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据返回百分之 90 分位数的值  |  `M:cpu:load5s [::1m:p90]` |
| p95 | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据返回百分之 95 分位数的值 |  `M:cpu:load5s [::1m:p95]` |
| p75 | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据返回百分之 75 分位数的值 | `M:cpu:load5s [::1m:p75]`  |
| p50 | 将数据切片成指定时间间隔的数据，并对每个时间间隔内的数据返回百分之 50 分位数的值 |  `M:cpu:load5s [::1m:p50]` |
