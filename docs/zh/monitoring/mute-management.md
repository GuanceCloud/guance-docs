# 静默管理
---

您可以对当前工作空间下不同的监控器、智能巡检、自建巡检、SLO、告警策略的全部规则进行静默管理。此处的静默指的是：**满足静默规则的事件不会发送告警通知，但事件数据依然产生**。设置静默后，静默对象**在静默时间内不会向任何告警通知对象发送告警通知**。


## 开始新建

1. 输入静默规则的名称，按需输入该规则的描述；
2. 选择[静默范围](#scope)；
3. 定义[静默时间](#time)；
4. 为静默规则配置对应的[通知对象](#target)；
5. 添加附加信息，标识静默的原因或来源等，从实际业务的角度获取各种监控场景的信息；
6. 点击保存。

### 静默范围 {#scope}

主要包含四个维度：

<div class="grid" markdown>

=== "基于监控规则"

    选择需要静默的监控规则，包含【监控器】【智能监控】【智能巡检】【SLO】；可多选。选中的监控规则在静默时间内不发送告警通知，但仍然会产生事件。      

=== "基于告警策略"

    关联告警策略的监控规则在静默时间内不发送告警通知，但仍然会产生事件；可多选。           

=== "基于监控器标签"

    选择标签，若监控器属于所选标签则会被静默；可多选。

=== "自定义"

    基于任意维度选择要静默的监控器；可多选；<br/>可以选定相关的监控器、智能巡检、自建巡检、SLO、告警策略作为静默对象，点击 :material-arrow-right-top-bold: 即可跳转到详情页查看详情。          

</div>

---

#### 高级筛选

监控规则的检测结果都会记录为事件，所有事件的属性字段都可以作为筛选条件，从而对静默范围做进一步过滤。

事件属性可以通过下拉列表提供的字段进行标签筛选；还可以手动输入 `key`、`value` 进行绑定。

筛选条件格式如下：`attribute:value`、`attribute:*value*`、`-attribute:value`、`-attribute:*value*`，不同字段组合关系为 AND，相同字段的多个值为 OR。您可以对不同字段进行 AND 和 OR 的自由组合。

输入筛选条件后，针对**标签**存在以下几种情况：

![](img/logic.png)

*示例：*

假设前提为监控器存在 by host,service 分组。在高级筛选，我们配置 `host:cn-hangzhou AND service:guance` 的筛选条件。若 `host:cn-hangzhou AND service:guance` 和 `host:cn-shanghai AND service:guance` 这两个组合的检测对象同时触发阈值生成了事件，那么仅 `host:cn-hangzhou AND service:guance` 会被静默，`host:cn-shanghai AND service:guance` 仍然发送告警通知。

> 更多示例，可参考 [如何理解静默规则中的事件属性](./faq.md)。


### 静默时间 {#time}


即，在设定的时间范围内将不发送告警信息。

**注意**：调整[全局时区](../management/index.md#zone)不影响此处设置静默规则的静默时间。

<div class="grid" markdown>

=== "仅一次"

    您可以自定义告警静默的时区、开始时间和结束时间，还可以快速设定为 1 小时、6 小时、12 小时、1 天、1 周。

=== "重复"

    1. 选择时区；
    2. 选择静默的开始时间和持续时长；
    3. 选择从某一时刻开始后的静默周期，包括按天、按周、按月；
    4. 选择静默的结束时间，即到期时间。可选择永远按照以上的时间重复或重复到某一个特定时刻。

    点击右上角**静默计划**，即可预览当前静默时间配置。

    ![](img/time-preview.png)

</div>

---
    
## 通知对象 {#target}


配置当前静默规则时，可指定通知对象，并自定义通知内容，以便接收者清楚了解静默规则的具体信息。同时，还可设定通知触发的具体时间。包含静默规则生效后立刻发送或静默开始前 15 分钟、30 分钟、1 小时发送。

## 管理规则

在静默规则列表，您可以查看当前工作空间内的全部静默规则，包含其静默范围、状态信息、静默类型、重复频率、静默时间等信息。

???- abstract "三种静默状态"

    待生效：还未到静默生效时间；

    进行中：正在静默时间范围内，匹配到的事件处于静默状态不会对外发送告警通知；

    已过期：静默时间为过去时间，静默规则已失效。

您可以通过以下操作对列表进行管理。

- 搜索：基于静默范围的关键字搜索相关静默规则。
- 设置：调整显示列，包含规则名称、状态、静默范围、静默类型、重复、描述、静默时间；    

- 禁用/启用：禁用或启用静默规则都会产生操作审计事件，可前往工作空间**管理 > [审计事件](../management/operation-audit.md)**查看。

    - 启用：静默规则按照正常流程执行；
    - 禁用：静默规则不生效；若有设置静默通知策略，选择的是开始前“xx分钟”且静默通知操作还未执行的情况下，通知不会执行。              

- 编辑：对静默任务进行重新编辑；                       

- 操作审计：点击即可跳转查看与该条静默规则相关的操作记录；
- 删除：被删除的静默范围将会恢复告警状态；

- 快捷筛选：基于状态、是否启用、静默类型、创建人和更新人五种字段进行筛选过滤。            



              




