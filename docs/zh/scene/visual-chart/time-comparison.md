# 同期对比
---

## 简介
同期对比功能可用于表示某一事物在对比时期内数据的发展变化。在**折线图**和**概览图**中支持开启，现有 4 种对比维度可选，分别为：与一小时前对比、日同比、周同比、月同比。

使用场景举例：统计今日的用户访问数（PV）并与昨日 PV 进行对比分析。

## 时序图
显示上一同等时间的折线图查询趋势对比情况。（同期对比情况下的折线图显示为虚线折线图）

![](../img/time01.png)

### 对比维度说明

对比维度支持**多选**。对比维度可选择：与一小时前对比、日同比、周同比、月同比。

- 默认查询的折线图显示为实线；
- 同期对比的折线图显示为虚线。

### 对比逻辑说明

**默认查询的折线图**：根据所选 [开始时间 - 结束时间] 绘制。

**同期对比的折线图**：根据所选对比维度，向前推相同时间范围绘制。

### 举例说明

*以查询主机 A 的 CPU 使用率趋势为例：*

- 对比维度选择【小时】：即向前推一个小时查询：

若查询【最近1小时】（3/2 10:00 - 3/2 11:00）主机 A 的 CPU 使用率趋势，则同期对比查询的就是（3/2 09:00 - 3/2 10:00）主机 A 的 CPU 使用率趋势。

若默认查询【今天】（3/2 00:00 - 3/2 11:00）主机 A 的 CPU 使用率趋势，则同期对比查询的就是（3/1 23:00 - 3/2 10:00）主机 A 的 CPU 使用率趋势。

- 对比维度选择【日】：即向前推一天（24h）查询：

若默认查询【最近1小时】（3/2 10:00 - 3/2 11:00）主机 A 的 CPU 使用率趋势，则同期对比查询的就是（3/1 10:00 - 3/1 11:00）主机 A 的 CPU 使用率趋势。

若默认查询【今天】（3/2 00:00 - 3/2 11:00）主机 A 的 CPU 使用率趋势，则同期对比查询的就是（3/1 00:00 - 3/1 11:00）主机 A 的 CPU 使用率趋势。

**注意**：当对比维度选择【月】，若默认查询【3d】（3/28 10:00 - 3/31 10:00）的主机 A 的 CPU 使用率趋势，则同期对比查询的就是（2/28 10:00:00 - 2/28 23:59:59）数据，因为 2 月没有 29、30、31号。



## 概览图

与上一同等时间的数据进行查询趋势对比。显示查询趋势结果为**升/降百分比**。

![](../img/time02.png)

### 对比维度说明

支持多选对比维度。对比维度可选择：与一小时前对比、日同比、周同比、月同比。

### 对比逻辑说明

概览图的值下方会显示**升/降百分比**，百分比计算结果为：（当前查询结果 - 对比查询结果）/ 对比查询结果 *100%。

### 举例说明

| 对比维度 | 对比查询逻辑 | 【当前】查询的时间范围 | 【对比】查询的时间范围 | 百分比显示 (示例) ｜
| --- | --- | --- | --- | --- |
| 小时 | 向前推 **1小时查询** 对比的时间范围 | 【1h】3/2 10:00-3/2 11:00 | 3/2 09:00 - 3/2 10:00 | 与一小时前对比 xx% ⬆ |
| | | **今日/昨日/上周/本周/本月/上月** | **不对比** | **无** |
| 日 | 向前推 **24 小时查询** 对比的时间范围 | 【1h】3/2 10:00-3/2 11:00 | 3/1 10:00 - 3/1 11:00 | 日同比 xx% ⬆ |
| | | 【今日】3/2 00:00:00 - 当前时间 | 3/1 00:00:00 - 23:59:59 | 日同比 xx% ⬆ |
| | | **上周/本周/本月/上月** | **不对比** | **无** |
| 周 | 向前推 **7 天查询** 对比的时间范围 | 【1h】3/2 10:00 - 3/2 11:00 （周三） | 2/23 10:00 - 2/23 11:00 （上周三）| 周同比 xx% ⬆ |
| | | 【今日】3/2 00:00 - 3/2 11:00 （周三） | 2/23 00:00:00-23:59:59 （上周三全天） | 周同比 xx% ⬆ |
| | | 【本周】2/28 00:00 - 当前时间 （周一到周三） | 2/21 00:00:00 - 2/27 23:59:59（上周一整周） | 周同比 xx% ⬆ |
| | | **本月/上月** | **不对比** | **无** |
| 月 | 向前推 **1 个月查询** 对比的时间范围 | 【3d】3/2 10:00 - 3/5 10:00 | 2/2 10:00 - 2/5 10:00 | 月同比 xx% ⬆ |
| | | 【今日】3/2 00:00:00 - 当前时间 | 2/2 00:00:00 - 23:59:59（上月2号全天） | 月同比 xx% ⬆ |
| | | 【本月】3/1 00:00:00-当前时间 | 2/1 00:00:00 - 2/28 23:59:59 （上月一整月） | 月同比 xx% ⬆ |
| | | 【3d】3/26 10:00 - 3/29 10:00 | 2/26 10:00 - 2/28  23:59:59（因为2月不存在29号） | 月同比 xx% ⬆ |
| | | **上周/本周** | **不对比** | **无** |
| | | **【1d】3/29 10:00 - 3/30 10:00**| **不对比（因为 2 月不存在29、30号）** | **无** |