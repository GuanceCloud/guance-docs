# 通知分组的好处与妙用
---

## 概述

良好的通知能够与用户搭建桥梁，从而实现信息及时、有效、精准的转播。然而，大量的用户正在遭受凌乱的通知轰炸，每天收到的通知太多烦不胜烦，有用的信息却淹没在不重要的推送消息中。特别是系统的开发和运维过程中，及时的告警和响应至关重要，耽搁多一秒的排障时间，都会造成巨大的损失。如果系统告警通知堆栈在大量推送消息中，用户将无法了解当前存在的故障并采取相应措施，故障带来的损失也会随着时间的流逝无限扩大，给公司业务带来负面影响更是无法弥补的。

观测云提供了多渠道的通知分组管理，支持您将通知信息有意义的组合在一起并通过多种渠道分发，这将有助于您一目了然的获取更多信息，防止信息交叉造成的重复通知和低效告警。同时，如果您的应用通知能够以分组的形式被统一管理，这将更加便于您配置通知对象与告警沉默。

## 前置条件

您需要先创建一个 [观测云账号](https://www.guance.com)，并在您的主机上 [安装 DataKit](../../datakit/datakit-install.md)，开启相关集成的运行，进行数据采集。

## 自定义分组

自定义分组的方式能够帮助您创建有意义的通知组合，比如：用途和范围、通知渠道、通知对象等，这将有助于您集中分配、统一管理日常需要的消息通知，让信息更精准的触达相关人。

### 用途和范围

观测云支持您依据自身需求自建监控器，并通过添加分组标签统一管理监控器发出的告警通知。您可以使用自定义分组标签功能将同一属性或同一类别（如：主机、应用性能、用户体验、SLO等）的通知分组，让某一个用途或范围的通知仅发送到对应的负责人，避免不必要的信息交叉，增加通知的处理速度。

在自定义监控器检测规则时，简单「添加分组标签」就可以使监控器被统一关联，使同一分组下的监控器被集中管理。

![](../img/5.inform_group_1.png)

在**监控器**列表中，点击**分组名称**或点击**告警通知**按钮，就可以对同一分组下的监控器集中配置事件通知等级、告警通知成员和告警沉默时长等操作。

![](../img/5.inform_group_2.png)

这让您的通知消息以分组聚合，并自动计算 “来自观测云的 2 个警报”，帮助您减少通知条目，集中处理相关事件。

![](../img/5.inform_group_3.png)

### 通知对象和渠道


随着在线办公的兴起，群消息、个人通知、邮件通知、代办事项等应接不暇，以通知渠道为分组可以拨繁去冗，以最少的通知数量、更更富的通知方式来满足更多场景的沟通需求。

通过**管理 > 通知对象管理**设置告警事件的通知对象（包括钉钉机器人、企业微信机器人、飞书机器人、Webhook 自定义、邮件组和短信组），让相关异常检测通知实时推送到相关负责人。

- 邮件组：您可以组合多个空间成员为通知对象，并让通知以邮件方式被分发；  
- 钉钉机器人、企业微信机器人、飞书机器人：您可以设置工作群组为通知对象，实时实现信息同步和任务分发；  
- Webhook 自定义：自行设定通知方式和内容，让通知更灵活；  
- 短信：设置短信通知，满足不同场景、不同终端设备需求，让通知有更多的途径触及相关人，以保障实时性。 

![](../img/5.inform_group_4.png)

## 统一管理

统一消息管理是为了让同一个组合的通知被集中管理和分发，观测云为帮助您减少无效的信息轰炸，支持为分组统一配置静默规则和通知对象。

### 分组沉默

若同一个事件不是非常紧急，但是告警通知频率高，您可以通过设置告警沉默的方式减少告警通知频率。观测云的分组静默支持对分组设置告警沉默。被设置为**告警沉默**的分组，相关监控器在静默时间范围内不发送告警通知。

在**监控**功能中，点击**新建静默规则**，即可开始新建一个分组静默配置，包括设置静默范围、静默时间、静默通知对象、通知内容、通知时间等。

![](../img/5.inform_group_5.png)

### 通知对象管理

随着IT规模越来越大、系统越来越复杂，运维保障工作由最初的硬件运维不断细分为网络运维、系统运维、软件运维、基础环境运维、安全工程师等。每个细分的岗位都需要负责维护并确保某个服务的高可用性，将某个服务的通知绑定到相关负责人可以让信息点对点传递，增加通知的有效性。

观测云支持统一为监控器分组配置一个或多个通知对象，您可以添加**空间成员**、**邮件组**、**钉钉机器人**、**企业微信机器人**、**飞书机器人**和 **Webhook 自定义**为通知对象，实现点对点的信息传递。

![](../img/5.inform_group_6.png)

