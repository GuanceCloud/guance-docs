# 快照保存及分享
---

## 简介

观测云快照，支持为场景仪表板、基础设施、指标、日志、事件、应用性能监测、用户访问监测、云拨测、安全巡检、CI 可视化等查看器，创建**自定义时间段即时拷贝的数据副本，并生成指定查看权限的快捷访问链接**。

- 若有类似**留存业务系统产生问题或异常时刻数据**的需求时，「保存快照」功能可以有效地帮助 IT 工程师**快速记录真实且准确的观测数据**，帮助快速定位问题。
- 若企业内部不同团队之间、或与外部合作伙伴之间等，在保证数据权限隔离的前提下，有**共享部分观测数据**的需求时，「分享快照」功能可以有效地**提升不同分工成员之间的协作效率**，帮助企业快速解决问题。

## 第一步：保存快照 

### 快照权限 {#permission}

- 对于支持保存快照的页面，成员的[4个默认角色](../../management/role-management.md#_3)中，只有当前工作空间的**拥有者（Owner）、管理员（Administrator）** 拥有「保存快照」、「快照分享」、「快照分享管理」的权限。
- 除默认角色外，您还可以通过[自定义角色](../../management/role-management.md#_5)，授予相关快照权限，并将该角色分配给所需成员。

### 保存方式

进入想要保存快照的页面，调整右上角时间控件、并过滤出需要保存的数据后，使用如下方法即可弹出「保存快照」窗口。

<div class="grid" markdown>

=== "快捷键"

    :fontawesome-brands-windows: &nbsp; &nbsp; ++ctrl+k++

    :fontawesome-brands-apple: &nbsp; &nbsp; ++cmd+k++

    > **注意**：当您的后台程序存在的快捷键与如上快捷键冲突时，将无法使用「保存快照」的快捷键功能。

=== "查看器页面 快照按钮"
    
    「查看器」页面 - 顶部「快照按钮」（搜索框左侧），点击「保存快照」。

    ![](../img/snapshot-1.png)

</div>

### 快照设置 {#snapshot-setting}

成功弹出「保存快照」窗口后，即可对该条快照进行相关设置。

![](../img/snapshot-2.png)

- **可见范围**：包括「公开」和「仅自己可见」。<br/>
&nbsp;公开表示当前工作空间的用户，都可以查看该条快照；仅自己可见表示其他用户权限查看该条快照。
- **包括时间筛选**：即保存当前所选的时间范围，分享出去的链接不支持切换时间控件；若关闭则跟随系统默认，分享出去的快照可以切换时间控件。
- **锁定绝对时间**：「包括时间筛选」为开启状态时才会显示，开启即选择保存当前所选的绝对时间。

## 第二步：查看快照

### 常规功能

- 支持快照名称关键字搜索，通过关键词模糊匹配相关快照名称。
- 支持分享、复制链接和删除功能。
- 点击「快照名称」即可打开对应的数据副本，并复现该快照保存时的数据标签。
- 若在保存快照时，[「可见范围」选择”仅自己可见”](#snapshot-setting)，该快照名称后面会显示「:material-lock:」，其他人无法查看。

### 查看方式

如下两种查看快照的方式，除了上述常规功能外，也各有特殊功能。

<div class="grid" markdown>

=== "在快照菜单查看" 

    - 「工作空间」- 左下角「快捷入口」- 点击「快照」菜单，可查看**当前工作空间，保存的所有快照**。

    ![](../img/snapshot-3.png)

    - 每页最多可显示20个快照名称，通过跳转至下一页，可以查看更多快照。

    ![](../img/snapshot-4.png)


=== "在查看器页面查看" 

    - 「查看器」页面 - 顶部「快照按钮」，仅展示**当前查看器，保存的快照**。例如，在「日志查看器」保存的快照，无法在「应用性能监测」-「链路」查看器中查看。
    - 鼠标放在保存的历史快照上，会悬浮窗口展示对应的时间范围、筛选条件。时间范围根据保存快照时的选择，分为“绝对时间”、“相对时间”和“默认”三种。

    ![](../img/snapshot-5.png)

    - 若已经点击进入某条历史快照，再次点击「快照按钮」，会新增「返回查看器」按钮，点击即可回到进入该历史快照之前的默认查看器。

    ![](../img/snapshot-6.png)


</div>

## 第三步：分享快照

### 分享方式 {#sharing-method}

观测云支持公开分享和加密分两种快照分享方式，被分享的快照会自动生成对应链接。您可以分享快照链接给“任何人”，或者加密分享给拥有密钥的人。

???+ tip "分享快照链接的数据时段说明"

    - 若在保存快照的时候选择「开启绝对时间」，分享后则显示保存快照时的绝对时间。<br/>
    例如：若在`13:30`选择保存最近15分钟数据的快照，那么在 `14:00`打开快照链接，显示`13:15 ~ 13:30`的数据。
    - 若在保存快照的时候选择「关闭绝对时间」，分享后则显示保存快照时的相对时间。<br/>
    例如：若在`13:30`选择保存最近15分钟数据的快照，那么在`14:00`打开快照链接，显示`13:45 ~ 14:00`的数据。

<div class="grid" markdown>

=== "公开分享" 
    
    获得分享链接的用户，即可查看此条快照所展示的观测云工作空间数据。

    ![](../img/snapshot-7.png)

=== "私密分享" 

    设置符合`4-8位数字和英文组合`的密码形式，获得分享链接和对应密码的用户，才可以查看此条快照所展示的观测云工作空间数据。

    ![](../img/snapshot-8.png)

</div>

### 高级设置

<div class="grid" markdown>

=== "设置有效时间" 

    快照分享支持设置有效时间，支持选择 “48 小时”或者“永久有效”。<br/>
    > **注意**：永久有效分享容易存在数据安全风险，请谨慎使用。

    ![](../img/snapshot-9.png)

=== "隐藏顶部栏" 
    
    - 开启隐藏顶部栏分享的效果

    ![](../img/snapshot-10.png)

    - 关闭隐藏顶部栏分享的效果，可以看到顶部会有平台的介绍说明。

    ![](../img/snapshot-11.png)

</div>

## 分享快照管理

拥有[保存、分析、管理快照权限的成员](#permission)，可以通过以下两种方式进入「分享快照」管理页面，进行查看快照、查看分享链接、取消分享等操作。

> 更多详情参看<[分享管理](../../management/share-management.md#_3)>

<div class="grid" markdown>

=== "管理 模块" 

    依次点击左侧导航栏的「管理」-「分享管理」-「分享快照」模块

    ![](../img/snapshot-12.png)

=== "快照分享 窗口" 

    [第三步：快照分享](#sharing-method)，在选择公开分享或私密分享方式时，可点击右上角「查看分享列表」，即可跳转到「分享快照」管理模块。

</div>
