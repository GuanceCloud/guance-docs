# 错误追踪
---

## 简介

观测云提供应用性能监测错误数据分析查看器，您可以在**应用性能监测**的**错误追踪**，快速查看链路中的类似错误的产生历史趋势及其分布情况，帮助快速定位性能问题。

错误追踪查看器包括**所有错误**和**聚类分析**两个列表：

- [所有错误](#errors)：用于<u>需要整体查看所有</u>在项目应用中发生的链路错误；  

- [聚类分析](#analysis)：用于<u>快速查看最频繁发生</u>的需要被解决的链路错误

> 观测云查看器提供强大的查询和分析功能，更多详情可参考文档 [查看器说明](../getting-started/function-details/explorer-search.md) 。

## 所有错误 {#errors}

在观测云工作空间**应用性能监测 > 错误追踪**，选择**所有错误**列表，即可查看和分析所有链路的错误数据。

<font color=coral>**注意：**</font>所有错误的数据统计的是基于错误状态 `status=error`，且含有错误类型 `error_type` 字段的 Span。

![](img/1.apm_error_12.png)

### 错误链路关联分析

在错误追踪查看器，您可以通过点击任意错误查看对应的错误链路详情，包括服务、错误类型、错误内容、错误分布图、错误详情、链路详情、扩展属性以及关联的日志、主机、网络等。

#### 错误分布图

在错误查看器详情页 > 错误分布图，基于错误信息 `error_message` 和错误类型 `error_type` 两个字段，<u>聚合统计近似度高的错误链路，并按照错误查看器选择的时间范围，自动选取相应的时间间隔展示错误的分布趋势</u>，帮助您直观地查看频繁发生错误的时间点或者时间范围，快速定位链路问题。

![](img/1.apm_error_11.1.png)


#### 查看链路详情

点击右上角的**查看链路**，您可以通过查看错误链路的火焰图上下游 Span 来定位链路问题，点击 Span 即可查看对应的**链路详情**。

![](img/1.apm_error_13.png)

切换到**错误详情**可查看上下游错误 Span 的错误详情来快速定位错误问题。点击页面右上角**返回**可回到错误追踪查看器详情页。

![](img/1.apm_error_14.png)

## 聚类分析 {#analysis}

若您需要查看发生频次较高的错误，可以在观测云工作空间**应用性能监测 > 错误追踪**，选择**聚类分析**列表。

???+ info

    聚类分析是对所有错误的链路数据基于错误信息 `error_message` 和错误类型 `error_type` 两个字段进行相似度计算分析，根据右上方选择的时间范围固定当前时间段，并获取该时间段内 10000 条数据进行聚类分析，将近似度高的错误链路进行聚合，提取并统计共同的 Pattern 聚类，帮助快速发现异常链路和定位问题。

    ![](img/1.apm_error_10.0.png)



### 聚类分析详情

- 在聚类分析列表，您可以通过点击任意错误查看所有关联的错误链路，点击链路即可进入错误链路详情页查看分析；  

![](img/1.apm_error_10.png)

- 聚类分析页面中，点击排序 icon :octicons-triangle-up-16: & :octicons-triangle-down-16:，您可对文档数量升/降序排序（默认倒序。

![](img/error-1.png)