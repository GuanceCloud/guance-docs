# 实现仪表板与查看器之间的联动性
---

## 概述
在数字化时代的今天，每个组织每时每刻都在产生大量数据，想要保障业务系统的稳定就越来越依赖于数据，所以需要去收集这些数据去观测整个系统。对于收集上来的海量数据，我们肯定是希望有统一的入口去查询数据详情，并且可以基于这些数据提取重点关注的有用信息，搭建可视化视图来监控重要指标。

针对以上这些问题，观测云提供了**仪表板**和**查看器**两大功能，帮助您高效的完成数据查询与分析，同时支持仪表板与查看器的联动查询，实现先总览后局部定位的分析模式，让你的系统全面可观测。

本文将为您介绍观测云如何实现仪表板与查看器之间的联动性。

## 前置条件
您需要先创建一个 [观测云账号](https://www.guance.com)，并在您的主机上 [安装 DataKit](../../datakit/datakit-install.md)，开启相关集成的运行，进行数据采集。
## 使用场景
### 仪表板
仪表板可以用各种图表来形象直观的展现数据，从而实现更准确、更高效的数据分析和表达。

- 您可以用仪表板进行数据统计，比如资源消耗情况、业务统计信息等，实时掌握需要关注的统计类信息。
- 您也可以作为执行仪表板，帮助您的团队去解决问题，将需要持续存在并追踪的问题构建成仪表板，并逐步完善它，比如每个服务的自身指标观测。

### 查看器
查看器会记录你所有采集上来的数据信息。在这里你可以追踪溯源，基于标签过滤数据，查看数据详情，进行数据分析。
## 仪表板与查看器的数据联动
在系统观测中，仪表板可以作为查看器数据统计的集合，先通过仪表板了解重要的指标进行总览观测，再到查看器局部定位数据进行深入分析。

我们可以通过图表链接功能，在仪表板和查看器中平滑跳转，实现数据联动查询。观测云官方提供四个相关性链接查询，分别为【查看相关日志】【查看相关容器】【查看相关进程】【查看相关链路】，默认情况下他们都是基于当前图表查询的时间范围和分组标签进行关联查询。但需要注意的是，目前不支持自动将筛选条件带入到链接中。如果你在图表中使用的标签筛选，可以通过自定义方式手动将筛选添加到连接中，结合变量可以实现各种复杂查询的数据联动。（ [如何玩转观测云链接功能？](../../scene/visual-chart/chart-link.md)）

![](../img/3.yibiaoban_chakanqi_1.png)

接下来以【Nginx 监控】仪表板为例，为大家演示如何进行数据关联查询。首先我们添加一个图表，用来统计当前主机 nginx 的错误日志数，如图所示，在查询中添加了筛选条件 `status=error`，`filename=error.log`，`host=#{host}`，其中`#{host}`为视图变量所选值，（ [什么是视图变量？](../../scene/view-variable.md)）

![](../img/3.yibiaoban_chakanqi_5.png)

我们希望在统计的基础上，可以一键查看这些错误日志列表及详情信息。图表查询配置完成后，因为查询中用了标签筛选，所以接下来我们继续手动配置链接。我们需要查看的是相关日志，所以直接在官方链接上进行修改即可，打开【查看相关日志】链接，将查询中的筛选条件加入到链接中，如图所示：      


![](../img/3.yibiaoban_chakanqi_3.png)

仪表板设计完成后，可以在【Error 统计】图表中发现，最近1小时有 4 个 Nginx 错误日志。接下来我们找到这 4 个日志，点击图表，在下拉的菜单中选择【查看相关日志】。

![](../img/3.yibiaoban_chakanqi_2.png)

这时候会打开日志页面，并将查询的时间范围和所有过滤条件带到日志页面，找到这 4 条日志记录，接下来我们可以查看这些日志的详情，分析错误原因。

![](../img/3.yibiaoban_chakanqi_4.png)

以上就实现了仪表板和查看器的数据关联查询，巧用图表的链接功能，会大大的提升观测效率，更快的帮助我们定位问题。
