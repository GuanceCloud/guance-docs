# Release Notes (2022)
---

This document records the update content of each online release of <<< custom_key.brand_name >>>, including DataKit, <<< custom_key.brand_name >>> best practices, <<< custom_key.brand_name >>> integration documents, and <<< custom_key.brand_name >>>.

## December 29, 2022

### <<< custom_key.brand_name >>> Updates

#### Added MFA Authentication Management

<<< custom_key.brand_name >>> provides MFA authentication management, adding an extra layer of security protection beyond account usernames and passwords. After enabling MFA authentication, you will need to perform a second verification when logging in, enhancing the security of your account. For more details, refer to the documentation **MFA Management**.

#### Added Workspace IP Access Login Whitelist

<<< custom_key.brand_name >>> supports configuring an IP whitelist for workspaces to restrict visiting users. After enabling the IP whitelist, only IP sources from the whitelist can log in normally, and all other requests will be denied access. For more details, refer to the documentation **IP Whitelist**.

Note: The IP whitelist is only configurable by administrators and owners. Additionally, "owners" are not restricted by the IP whitelist access restrictions.

![](img/6.space_ip_1.png)

#### Added Service Network Topology

In K8S environments, you can use the Service network topology diagram to view request relationships, response times, error rates, etc., between various Services in the K8S environment. When a connection issue is detected with a Service, you can check the corresponding logs of that Service to locate its problems. For more details, refer to the documentation **Service Network**.

![](img/5.service_map_1.2.gif)

#### Other Feature Optimizations

- Pipeline usage optimization
- Log clustering analysis supports custom fields
- After slicing extremely large logs, associated logs can be viewed
- Backup log display optimization
- Sensitive fields for data authorization support all types of data except metrics

### DataKit Updates

- Prometheus collector supports data collection via Unix Socket
- Allows **non-root user execution of DataKit**

- Optimized eBPF httpflow protocol judgment
- Optimized Windows Datakit installation and upgrade commands
- Optimized Pythond encapsulation usage
- Pipeline provides more detailed operation error messages
- Pipeline reftable provides local storage implementation based on SQLite

For more DataKit updates, refer to **DataKit Version History**.

### Intelligent Inspection Updates

#### Official Intelligent Inspection Discontinued

The official intelligent inspections for "memory leaks," "application performance detection," and "disk usage rate" have been discontinued starting today. Users can configure them through the **self-built inspection** script library.

#### Added Cloud Account Instance-Level Bill Inspection

Cloud account instance-level bill inspection helps users manage abnormal cost warnings at the cloud service instance level, predict costs, and provide high-growth, high-consumption instance prompts and bill visualization capabilities. It supports multi-dimensional visualization of cloud service resource consumption.

#### Added Alibaba Cloud Preemptible Instance Survival Inspection

Since the market price of preemptible instances fluctuates with supply and demand, it is necessary to specify a bidding mode when creating preemptible instances. A preemptible instance can only be successfully created when the real-time market price of the specified instance specification is lower than the bid and inventory is sufficient. Therefore, inspecting preemptive instances of cloud assets is particularly important. Through inspection, when it is discovered that a preemptible instance is about to be released, it will prompt the latest prices of all available zones for the current specification's preemptible instances as well as the historical prices of this preemptible instance and provide appropriate handling suggestions.

For more intelligent inspection updates, refer to **Intelligent Inspection Update Logs**.

## December 15, 2022

### <<< custom_key.brand_name >>> Updates

#### Added Profile and Network Billing

<<< custom_key.brand_name >>> has added billing items for Profile and Network. Profile counts the number of application performance Profiles reported within the workspace on the day, and Network counts the number of hosts (hosts) reporting network data within the workspace on the day. For more details, refer to the documentation **Billing Method**.

#### <<< custom_key.brand_name >>> Registration Process Optimization

<<< custom_key.brand_name >>> has simplified the registration process to help you quickly complete registration and start using <<< custom_key.brand_name >>>. For more details, refer to the documentation **Register <<< custom_key.brand_name >>> Commercial Plan**.

#### Added Warroom Functionality

<<< custom_key.brand_name >>> provides a "Warroom" dashboard where you can overview key metric trends across all workspaces, helping you quickly understand the key data situations of each workspace and promptly discover and resolve abnormal issues. For more details, refer to the documentation **Key Metric Management**.

![](img/3.key_metrics_6.1.png)

#### Added Dashboard Carousel Functionality

<<< custom_key.brand_name >>> provides carousel functionality for multiple related business dashboards. After setting it up, you can display it on large screens. For more details, refer to the documentation **Carousel Dashboards**.

![](img/1.dashboard_player_2.png)

#### Added External SLS Index Binding for Workspaces

<<< custom_key.brand_name >>> now supports binding SLS indexes, helping you quickly view and analyze your log data in a unified manner. <<< custom_key.brand_name >>> also newly supports field mapping functions to assist in clustering analysis of SLS index fields. For more details, refer to the documentation **Log Indexes**.

![](img/7.log_index_1.png)

#### Link Viewer Chart Display Optimization

In the link viewer, new trend charts for "Span quantity" and "Error Span quantity" have been added. You can quickly view the trends of Span quantity, Error Span quantity, request quantity, Error request quantity, and response time metrics through the charts in the viewer.

![](img/4.apm_1.png)

#### Other Functional Optimizations

- View variable interaction optimization
- Interaction optimization for binding built-in view configurations
- Workflow optimization for workspace overdue fee lockout process
- User experience optimization for workspace invitations
- Help documentation added evaluation system, including good and poor evaluations
- Monitoring batch function optimization
- SLO added enable/disable function
- Optimization of fuzzy matching Wildcard left * match query restrictions

### DataKit Updates

- Added **Golang Profiling** integration
- logfwd supports injecting image fields via `LOGFWD_TARGET_CONTAINER_IMAGE`
- trace collector:
    - Optimized error-stack/error-message format issues
    - SkyWalking compatibility adjustments, supporting full series 8.X
- eBPF httpflow added `pid/process_name` fields, optimized kernel version support
- datakit.yaml has been adjusted, it is recommended to update yaml
- GPU card collection supports remote mode

For more DataKit updates, refer to **DataKit Version History**.

### Intelligent Inspection Updates

#### Added Intelligent Inspection Guidance Page

<<< custom_key.brand_name >>> default supports three intelligent inspection templates: memory leak, disk usage rate, and application performance detection. After this update, existing workspaces support manually deleting default intelligent inspection templates, while prompting the system-wide discontinuation time; newly created workspaces no longer default-provide these three intelligent inspections, increasing guidance tips for new users.

![](img/6.bot_obs_1.png)

#### Intelligent Inspection Components Support Configurable Custom Jump Links

When configuring self-built inspections, you can configure custom jump links. For how to configure self-built inspections, refer to the documentation **Self-Built Inspections**.

For more intelligent inspection updates, refer to **Intelligent Inspection Update Logs**.

### Best Practices Updates

- Insights
    - Scene (Scene) - **SpringBoot Project External Tomcat Scene Chain Observability**.

For more best practice updates, refer to **Best Practice Version History**.



## December 1, 2022

### <<< custom_key.brand_name >>> Updates

#### Added Service List Functionality for Application Performance

Application performance monitoring service list supports real-time viewing of ownership, dependencies, performance, associated dashboards, and correlation analysis for different services, quickly discovering and resolving service performance issues, helping teams efficiently build and manage large-scale end-to-end distributed applications. For more details, refer to the documentation **Service List**.

![](img/9.service_list_7.gif)



#### Optimized Dashboard Chart Usage Experience

- Added manual input for chart units, colors, and aliases, allowing you to customize preset units, colors, and aliases according to the current standards, such as unit input format: aggregation function(metric), like `last(usage_idle)`
- Added Y-axis configuration for time-series charts, allowing you to manually configure the maximum and minimum values of the Y-axis
- Added grouping display for time-series and pie charts, after enabling, only label values are displayed in the legend
- Added gradient intervals for heatmaps, China maps, and world maps, including automatic and custom options
- Display optimization for bar charts and histograms

For more details, refer to the documentation **Visualization Charts**.

![](img/10.view_chart_1.gif)

#### Optimized View Variable Usage Experience

- Added support for multi-selection in view variables
- Added whether to set multiple default values when configuring view variables

For more details, refer to the documentation **View Variables**.

![](img/10.view_chart_2.png)

#### Adjusted Session Viewer for User Access Monitoring

In the session viewer for user access monitoring, added "Session" and "All Records" viewing lists:

- Session: Statistics for deduplicated Session (session) data within the current time range, displaying by default the latest Session (session) data;
- All Records: Displays all reported Session (session) data, one Session (session) may correspond to multiple data entries.

Note: In the session list, if the display column added by the user does not exist in the current session data, there may be blank data in the session list. For more details, refer to the documentation **Session (Session)**.

![](img/6.rum_session_1.1.png)

#### Added Mobile Redirect Option for Events

After receiving alert event notifications, clicking "Go to <<< custom_key.brand_name >>> View" allows you to view the details of the abnormal event on the <<< custom_key.brand_name >>> mobile app.

#### Other Functional Optimizations

- Optimized new user guide page, supporting minimization
- Optimized user access monitoring application list, added custom interval switching queries for time widgets
- Host Label interaction optimization

### DataKit Updates

- Added Python Profiling integration
- Pythond added custom event reporting function
- netstat supports specific port metric collection

- Optimized Redis collector CPU usage rate collection, added new metric fields
- Optimized logfwd collector configuration
- Completed host object field collection, added network, disk-related fields

For more DataKit updates, refer to **DataKit Version History**.

### Intelligent Inspection Updates

- Kubernetes Pod abnormal restart inspection
- MySQL performance inspection
- Server-side application error inspection
- Memory leak inspection
- Disk usage rate inspection
- Application performance inspection
- Frontend application log error inspection

For more intelligent inspection updates, refer to **Intelligent Inspection Update Logs**.

### Best Practices Updates

- Monitoring
    - Application Performance Monitoring (APM) - Performance Optimization - **Using async-profiler for application performance tuning**

For more best practice updates, refer to **Best Practice Version History**.



## November 17, 2022

### <<< custom_key.brand_name >>> Updates

#### Pipeline Usage Experience Optimization 

- Pipeline supports multi-selection for filter condition configuration

- Supports setting any Pipeline script as the "default Pipeline script." If the current data type does not match any other Pipeline scripts during Pipeline processing, the data will be processed according to the rules of the default Pipeline script.

- Script function categorization

![](img/3.changelog_6.jpg)

#### Event Optimization

- Supports writing user-defined events. For more details, refer to the documentation **Writing Event Data via openAPI**.

- Added quick filtering on the left side of the unresolved event viewer.

![](img/3.changelog_4.png)

#### Custom Viewer Supports More Types of Data

When creating a new viewer in scenarios, supports selecting five types of data: logs, application performance, user access, security checks, and Profile. Once saved, changes cannot be modified.

![](img/3.changelog_8.png)

#### Member Management Added Member Grouping Functionality

Added member grouping functionality in member management. You can perform editing operations on member groups, and a member can belong to multiple groups. At the same time, when configuring notification objects for alert strategies, member group tags can be configured.

![](img/3.changelog_5.png)

#### Optimized Built-in View Binding Functionality

In the scenario "Built-in Views" - "User Views," the bound fields now support fuzzy matching. After binding fields, you can associate and view the corresponding built-in views in the viewer. For more details, refer to the documentation **Binding Built-in Views**.

![](img/3.changelog_2.1.png)

#### Added One-Click Import/Export of Dashboards, Custom Viewers, Monitors Within Workspaces

In "Management" - "Basic Settings," added one-click import/export of dashboards, custom viewers, monitors, etc., within the workspace. You can import dashboards, custom viewers, monitors, etc., from other workspaces into the current workspace.

![](img/3.changelog_7.png)

#### Application Performance Monitoring Log Page Added Custom Associated Fields

In the application performance monitoring detail page, in the associated log page, if you have administrator or higher permissions, you can customize associated fields. You can click the settings button to the right of the associated fields, select the fields you want to associate in the pop-up dialog box, support manual input, support drag-and-drop order, and confirm to complete the configuration.

![](img/9.apm_explorer_10.1.png)

#### Other Functional Optimizations

- When using fuzzy matching and non-fuzzy matching in filtering conditions, left * matching is supported.
- Infrastructure analysis dimension optimization, last report time on the host details page.
- Supports users to quickly log in to their last single sign-on.
- Blacklist application performance monitoring added support for filtering "all services."
- Optimized the upgrade process for users registered on the "China Region 4 (Guangzhou)" site to the Commercial Plan.
- Field descriptions support viewing in quick filters, display columns, etc.

### DataKit Updates

- Added **SNMP Collector**
- Added **IPMI Collector**
- Added bulk injection of DDTrace-Java tools
- Latest DDTrace-Java SDK enhanced SQL desensitization functionality
- Remote Pipeline Optimization
    - Pipeline supports source mapping relationship configuration, facilitating batch configuration between Pipeline and data sources
    - Pipeline provides function classification information, facilitating remote Pipeline writing
- Optimized **Kafka message subscription**, no longer limited to obtaining SkyWalking related data, simultaneously supporting speed limits, multi-version coverage, sampling, and load balancing settings
- Provided additional configuration parameters (`ENV_INPUT_CONTAINER_LOGGING_SEARCH_INTERVAL`) to alleviate short lifecycle Pod log collection issues
- Pure container environments support **label-based** configuration for log collection within containers
- Added Pipeline Functions
    - **sample()**: Sampling function
    - **b64enc()**: Base64 encoding function
    - **b64dec()**: Base64 decoding function
    - **append()**: List appending function

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Insights
    - <<< custom_key.brand_name >>> Tips (Skills) - DataKit HTTPS Configuration

- Monitoring
    - Application Performance Monitoring (APM) - Common ddtrace Parameter Usage
    - Application Performance Monitoring (APM) - ddtrace-api Usage Guide
    - Application Performance Monitoring (APM) - ddtrace Sampling
    - Application Performance Monitoring (APM) - ddtrace Log Correlation

For more best practice updates, refer to **Best Practice Version History**.


## November 11, 2022

#### <<< custom_key.brand_name >>> Added "China Region 4 (Guangzhou)" Site

<<< custom_key.brand_name >>> supports multi-site registration and login, adding the "China Region 4 (Guangzhou)" site. Combined with the existing "China Region 1 (Hangzhou)," "China Region 2 (Ningxia)," and "Overseas Region 1 (Oregon)," it fully covers different domestic and international regions, providing comprehensive data observability for users.

It should be noted that accounts and data from different <<< custom_key.brand_name >>> sites are mutually independent and cannot be shared or migrated. You can choose a suitable site for registration and login based on your resource usage situation. Currently, <<< custom_key.brand_name >>> supports the following four sites.

| **Site**          | **Login Address URL**             | **Provider** | Settlement Method                     |
| ----------------- | ---------------------------- | ---------- | ---------------------------- |
| China Region 1 (Hangzhou)   | https://auth.<<< custom_key.brand_main_domain >>>/     | Alibaba Cloud     | <<< custom_key.brand_name >>> Enterprise Account, Cloud Account       |
| China Region 2 (Ningxia)   | https://aws-auth.<<< custom_key.brand_main_domain >>>/ | AWS        | <<< custom_key.brand_name >>> Enterprise Account, Cloud Account       |
| Overseas Region 1 (Oregon) | https://us1-auth.<<< custom_key.brand_main_domain >>>/ | AWS        | <<< custom_key.brand_name >>> Enterprise Account, Cloud Account       |
| China Region 4 (Guangzhou)   | https://cn4-auth.<<< custom_key.brand_main_domain >>>/ | Huawei Cloud     | <<< custom_key.brand_name >>> Enterprise Account, Huawei Cloud Stored Value Card |

## November 3, 2022

### <<< custom_key.brand_name >>> Updates

#### Added <<< custom_key.brand_name >>> and SLS Joint Solution

<<< custom_key.brand_name >>> added an SLS storage solution, allowing Alibaba Cloud SLS users to quickly use <<< custom_key.brand_name >>> for data viewing and analysis. During commercial plan registration/upgrade in <<< custom_key.brand_name >>>, after choosing "Alibaba Cloud Account Settlement," you can select the SLS storage solution to store data under your own Alibaba Cloud account, achieving data exclusivity. For more details, refer to the documentation **SLS Storage**.

The joint solution between <<< custom_key.brand_name >>> and SLS supports you in binding log indexes to synchronize data from your Alibaba Cloud account to <<< custom_key.brand_name >>> workspaces for querying and analysis. You can click "Bind Index" in <<< custom_key.brand_name >>> workspace "Logs" - "Indexes" to synchronize log data from the index. For more details, refer to the documentation **Log Index**.

![](img/2.log_index_1.png)

#### Optimized New User Guide Pages

<<< custom_key.brand_name >>> added new user guide pages for scenarios, events, infrastructure, metrics, logs, application performance monitoring, user access monitoring, availability monitoring, security inspections, CI visualization, and monitoring of various feature modules, while optimizing the welcome homepage of the workspace, making it easier for you to understand and use <<< custom_key.brand_name >>> through the new user guides.

#### Added Three Intelligent Inspection Configuration Documents

- **Cloud Account Bill Inspection**: Helps users manage budget warnings, abnormal cost warnings, predicted cost situations, and provides visualization capabilities, supporting multi-dimensional visualization of cloud service resource consumption;
- **Frontend Application Log Error Inspection**: Helps detect new error messages (clustered Error Messages) in frontend applications over the past hour, assisting developers and operations personnel in timely code fixes, avoiding continuous harm to customer experience over time;
- **Alibaba Cloud Asset Inspection**: Helps users gain a better understanding of product performance status from cloud vendors.

#### Added Trace Error Tracking Viewer

In application performance monitoring, added an error tracking viewer to help you quickly view similar errors and their distribution in traces, quickly locating performance issues. For more details, refer to the documentation **Trace Tracking**.

![](img/1.apm_error_1.png)

#### Optimized Time-Series Chart and Overview Chart Same-Period Comparison Functionality

Same-period comparison functionality is no longer linked to locked time. The button is displayed by default and is in the off state. After enabling same-period comparison, the comparison dimensions support four options: hour (compared with one hour ago), day (compared with one day ago), week (compared with one week ago), month (compared with one month ago). For more details, refer to the documentation **Same-Period Comparison**.

#### Other Functional Optimizations

- Added "Save Snapshot" buttons in the "Settings" section for dashboards/notes/viewers;
- Added more options to the time widget;

- Added import, batch export, and batch deletion functions for Pipelines and blacklist features;
- Added dashboard and bar chart components for intelligent inspections;
- Optimized Func page under the integration menu.

### DataKit Updates

- Enhanced Prometheus ecosystem compatibility, added **ServiceMonitor and PodMonitor collection recognition**
- Added **Java Profiling integration based on async-profiler**

- Added **interval parameter** to eBPF collection, facilitating adjustment of the amount of collected data
- All remote collectors default to using their collection address as the value of the `host` field, avoiding possible misunderstandings of the `host` field value during remote collection
- APM data collected by DDTrace can automatically extract error-related fields, facilitating better APM error tracking at the center
- Added extra fields `Com_commit/Com_rollback` collection to the MySQL collector

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Monitoring
    - Application Performance Monitoring (APM) - Kafka Observability Best Practices

- Cloud Platform Integration
    - Alibaba Cloud - Alibaba Cloud ACK Integration with <<< custom_key.brand_name >>>

For more best practice updates, refer to **Best Practice Version History**.

## October 20, 2022

### <<< custom_key.brand_name >>> Updates

#### Monitoring Optimization

##### Added Outlier Detection

Outlier detection is an algorithmic method to detect whether the metrics/statistics of the detection object under specific groupings deviate significantly. If there is a deviation exceeding a certain degree, an outlier detection anomaly event will be generated for subsequent alert tracking. For more details, refer to the documentation **Outlier Detection**.

![](img/7.changelog_1.1.png)

##### Mutation Detection Logic Optimization

The new mutation detection compares the absolute or relative (%) change value of the same metric between two different time periods to determine whether an anomaly occurs. This is often used to track the peak or data changes of a particular metric, generating more precise events when anomalies occur. For more details, refer to the documentation **Mutation Detection**.

![](img/7.changelog_2.png)

##### Range Detection Logic Optimization

The new range detection performs anomaly detection on the metric data within the selected detection range. When the proportion of mutated anomalous data points exceeds the set percentage, a range detection anomaly event is generated. This is often used to monitor stable-trending data/metrics. For more details, refer to the documentation **Range Detection**.

![](img/7.changelog_3.png)

##### Other Optimizations

- Adjusted read-only member permissions, supporting viewing configurations for monitors, intelligent inspections, SLOs, mute management, and alert strategies.
- Changed "Trigger Data Gap Event" and "Trigger Recovery Event" configurations in data gap configurations to time range configurations, supporting manual input.

![](img/7.changelog_9.1.png)

- Supported configuring monitors based on "Event" data.

![](img/7.changelog_4.png)

- Added "Information" event notification level selection in alert configurations.

![](img/7.changelog_5.png)

#### Scenario Chart Optimization

##### Added Histogram Chart Component

A histogram, also known as a quality distribution chart, is used to represent the distribution of data, a common statistical chart. It generally uses the horizontal axis to indicate data intervals and the vertical axis to show distribution. For more details, refer to the documentation **Histogram**.

![](img/7.changelog_8.png)

##### Chart Function Optimization

- Added time slicing functionality to overview charts, rectangle tree maps, and funnel charts.
- Adjusted "View Similar Trend Metrics" from supporting only metric queries to supporting all data types, including logs, application performance, and user access.
- Added full content viewing for top lists exceeding chart width.
- Improved honeycomb chart display.

#### Viewer Optimization

##### Viewer Supports Analysis Mode

Added "Analysis" functionality in log, application performance monitoring, user access monitoring, availability testing, security checks, and CI viewers. Adjusted "Grouping" to "Analysis" in infrastructure, supporting multi-dimensional analysis statistics based on **1-3 labels**. This reflects data distribution characteristics and trends across different dimensions and times. In analysis mode, supports various data chart analyses, including time-series charts, top lists, pie charts, and rectangle tree maps. For more details, refer to the documentation **Viewer Analysis Mode**.

![](img/5.log_analysis.gif)

##### Optimized Associated Log Viewing Experience

In the details pages of infrastructure, application performance monitoring, user access monitoring, and CI visualization viewers, optimized the associated log viewing experience. By default, displays log content according to the "Maximum Display Lines" and "Display Columns" settings of the log viewer, supporting customization through "Display Columns."

![](img/7.changelog_6.png)

#### Log Index Optimization

After setting indexes in "Logs" - "Indexes," added index options for log-related queries. Default index is `default`. You can query and analyze log data based on the indexes you set. Relevant features include log viewers, custom scenario viewers, chart log queries, and log monitors. For more details, refer to the documentation **Log Index**.


#### Optimized Chart Queries for Metric Analysis

Added time intervals and legend options in metric analysis, adjusting the order of aggregation functions in legends. For more details, refer to **Metric Analysis**.

![](img/7.changelog_7.png)

#### Other Functional Optimizations

- Added a dropdown menu option in the upper-left corner upon entering an application in the user access monitoring application list, helping users quickly switch to view different application data.
- Added Pipelines quick access in the directories for metrics, user access monitoring, application performance monitoring, infrastructure, and security checks.

### DataKit Updates

- DataKit collector configurations and Pipelines support synchronization via **etcd/Consul** configuration centers.
- Prometheus Remote Write Optimization
    - Supports filtering tags via regular expressions
    - Supports filtering metric set names via regular expressions
- Pipeline Optimization
    - Optimized functions like **grok()** so they can be used in `if/else` statements to determine whether operations take effect
    - Added **match()** function
    - Added **cidr()** function
- Added opened file list detail fields to the process collector
- Enhanced disk caching and queue processing for externally accessed data (T/R/L)
- Added overage usage prompts on Monitor: If the current space usage exceeds limits, a red text `Beyond Usage` prompt appears at the bottom of Monitor
- Optimized position functionality for log collection in container environments by mounting files externally to the host machine, preventing loss of original position records after DataKit restarts
- Optimized collection delay issues in sparse log scenarios

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Monitoring
    - ITIM (Infrastructure Monitoring) - **Ansible Batch Processing Practical Examples**.

- Cloud Native
    - Logs - **<<< custom_key.brand_name >>> Collecting Amazon ECS Logs**.

For more best practice updates, refer to **Best Practice Version History**.

## September 29, 2022

### <<< custom_key.brand_name >>> Updates

#### Added Field Management

<<< custom_key.brand_name >>> supports unified management of field data for the current workspace, including system fields and custom fields. You can view field descriptions in scenario chart queries, monitor detection metrics, simple DQL queries, etc., helping you quickly understand field meanings and apply them. The figure below shows viewing the `host` field description in a scenario chart query. For more details, refer to the documentation **Field Management**.

![](img/3.field_9.png)

#### Optimized Metric Functionality

##### Metric Viewer Transformation

The original "Metric Viewer" has been changed to "Metric Analysis," supporting users to visualize query data in time-series chart formats (line chart, area chart, bar chart). For more details, refer to **Metric Analysis**.

![](img/4.changelog_1.2.png)

##### Optimized Metric Management

- Supports searching "Metric Sets" and "Metrics" in "Metric Management";

- Supports modifying the "Unit" and "Description" of metrics in "Metric Management";
- Supports viewing tag description information in "Metric Management".

For more details, refer to **Metric Management**.

![](img/4.changelog_2.1.png)

#### Added Exporting Event Content in PDF Format

On the event detail page, the **Jump to Monitor** button has added text explanations. Clicking the :material-export-variant: button allows you to choose **Export JSON File** and **Export PDF File** to obtain all critical data corresponding to the current event.

![](img/4.changelog_5.png)

#### Monitor Adjustment

- Monitor name does not support customization. The monitor name is generated synchronously after entering the event title;
- Monitors support "info" event generation logic. Trigger conditions can choose to enable or disable informational events: normal detection results also generate events;
- Monitor configuration steps have been reordered as: Detection Configuration - Event Notification - Association.

**Note:** In the latest version, the "monitor name" will be generated synchronously after entering the "event title." In older monitors, there may be inconsistencies between "monitor name" and "event title." To improve your experience, please update to the latest version as soon as possible, supporting one-click replacement of event titles.

![](img/4.changelog_3.png)

#### Mute Rules Support Dynamic Configuration

In Mute Management, optimized mute scope, supporting multiple options such as monitors, intelligent inspections, self-built inspections, SLOs, and alert strategies, adding tag options.

**Note:** Mute scope is mandatory, tags are optional. Mute will only take effect when both "mute scope" and "tags" conditions are met simultaneously. For example, if the mute scope selects "application performance detection" and "disk usage rate," and the tag selects: `host:izbp152ke14timzud0du15z`, then alerts will be muted (not sent to notification targets) when conditions simultaneously meet "application performance detection" and `host:izbp152ke14timzud0du15z` or when conditions simultaneously meet "disk usage rate" and `host:izbp152ke14timzud0du15z`.

![](img/4.changelog_7.1.png)

#### Optimized Pipeline Configuration Page

In Text Processing (Pipeline), supports adding multiple sample parsing tests, fixing the issue of one-click sample retrieval errors for metric data. For more details, refer to **Text Processing (Pipeline)**.

![](img/10.pipeline_4.png)

#### Other Functional Optimizations

- Notes added global locking time configuration. After configuring the global locking time, all charts on the note page will display data according to the locked time.
- Unresolved event queries modified to recent 48 hours data, supporting manual refresh.
- User access monitoring supports overwrite logic for same-name user views.
- User access monitoring Web, WeChat Mini Program, and uniapp-developed framework mini programs added `isIntakeUrl` configuration to initialization parameters, used to determine whether to collect corresponding resource data based on request resource URLs. Defaults to collecting all.
- Intelligent inspections added support for self-built inspections.
- Operation column in metric generation page adjusted, added "Open in Metric Analysis" and "Open in Metric Management" operation icons.
- Navigation menu management location adjusted, SSO management moved to member management, notification target management moved to monitoring, built-in views moved to scenarios.

### Best Practices Updates

- Cloud Native: **Best Practices for Multiple Kubernetes Cluster Metric Collection**.

For more best practice updates, refer to **Best Practice Version History**.

## September 15, 2022

### <<< custom_key.brand_name >>> Updates

#### Added Log Viewer DQL Search Mode

In the log viewer, you can switch to DQL manual input query mode by clicking the toggle icon ![](img/8.explorer_2.png) in the search bar, supporting custom input of filtering and search conditions.

- Filtering Conditions: Supports arbitrary combinations of `and / or`, parentheses `()` indicating search priority, and operators such as `=` and `!=`.
- Search Conditions: Supports searching logs using the DQL function `query_string()`.

For more details, refer to the documentation **DQL Search**.

![](img/8.explorer_1.1.png)

#### Optimized Application Performance Monitoring

##### Link Viewer Detail Page Optimization

- Optimized layout display on the detail page, adding duration, HTTP method, HTTP URL, HTTP status code, TraceId, etc.
- Flame graph added thumbnail, double-click Span enlargement display, click service name to highlight corresponding Span.
- Span list added search, click selection Span to switch to flame graph synchronized display.
- Added search to service call relationships.

For more details, refer to the documentation **Link Viewer**.

![](img/10.changelog_apm.gif)

##### Profile Viewer Detail Page Optimization

In the Profile Viewer detail page, added quick actions including search, copy, and click selection to view methods. For more details, refer to the documentation **Quick Action Instructions**.

![](img/10.changelog_profile.gif)

#### Optimized Monitor Event Notification Content Editing Mode

When creating a monitor, the event notification content sent upon meeting trigger conditions supports inputting and previewing markdown formatted text information and supports using template variables.

![](img/10.changelog_3.png)

#### Added Periodic Mute Configuration in Mute Management

Mute Management added periodic mute functionality, allowing selection of "Once" or "Repeat" in mute time. For more details, refer to **Mute Management**.

![](img/10.changelog_5.1.png)

#### Other Functional Optimizations

- Optimized grouping display of scenario dashboards, optimized Markdown format for scenario notes.
- Optimized infrastructure viewer display, added tip information for display columns such as CPU usage rate and MEM usage rate; "Pods," "Deployments," "Services" viewer detail pages added viewing and copying corresponding YAML files.
- Removed list view mode for metric viewers, retaining tiled view mode and mixed view mode.

- Log multi-index supports jumping to view.
- Shortcut filtering values TOP 5 in viewers support viewing proportions, viewer time field format optimized, default display format is `2022/09/15 20:53:40`.
- Sequence chart in link viewer added legend display, quick filtering added HTTP-related fields.

### DataKit Updates

- Added automatic cloud synchronization function, no longer requiring manual specification of cloud vendors.
- Supports syncing k8s labels as tags to pod metrics and logs.
- Supports collecting various yaml information from k8s to corresponding **object data**.
- Trace collection supports automatically extracting some key meta information.
- Supports specifying installation source address during installation to simplify **offline installation** processes.
- Pipeline added features:
    - Added support for for loops/dictionaries/arrays.
    - Added arithmetic expression support.
    - Pipeline error messages will be displayed on the collected data.
    - If the time field parsing fails, supports automatically correcting the time field (`time`) to avoid inability to display time on the console page.
    - Added **len()** function.

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Monitoring - Middleware (MIDDLEWARE) - **Insights MySQL**.

For more best practice updates, refer to **Best Practice Version History**.

## September 1, 2022

### <<< custom_key.brand_name >>> Update

#### Billing Update

<<< custom_key.brand_name >>> backup log billing item adjusted the billing rule. After adjustment, the backup logs are charged at 0.007 yuan per 1 GB of data/day. You can adjust the corresponding data retention strategy according to your actual needs to save costs. For more details, refer to the document **Billing Method**.

#### Help Document Directory Update

- Split update log directory, support viewing <<< custom_key.brand_name >>> update content by year;
- Added a custom development directory, where you can view documents such as custom collectors (Pythond), custom security checks (Scheck), and custom DDtrace;
- Added a private deployment directory, where you can view related documents for <<< custom_key.brand_name >>> deployment.

#### Time Series Chart Adds Event Correlation Analysis

The newly added event correlation analysis in the time series chart supports matching abnormal events related to selected fields through "add filter fields," thereby achieving the purpose of displaying time series data correlated with events. This helps users perceive whether there are related events during data fluctuations while viewing trends to achieve problem localization.

- After configuring event correlation in the time series chart, if there are event records related to the selected associated fields (e.g., “host:DESKTOP-NEN89U3”), they will be annotated and displayed with a shaded block on the timeline;
- After configuring event correlation in the time series chart, in analysis mode, clicking on the highlighted shaded blocks allows you to view abnormal events related to the selected fields (e.g., “host:DESKTOP-NEN89U3”).

For more details, refer to the document **Time Series Chart**.

![](img/5.changelog_1.3.png)

#### Logs Add Multi-index Mode

<<< custom_key.brand_name >>> supports setting up multi-index logs, filtering eligible logs into different log indexes, and selecting different data storage strategies for log indexes to help users save on log data storage costs. For more details, refer to the document **Log Index**.

![](img/7.backup_1.png)

#### Optimize Backup Log Rules

The creation of new backup log rules has been moved to the log index menu. The backup cycle has been adjusted from backing up the previous day's logs at 0:00 every day to executing a rule check every 5 minutes and performing backups. That is, after configuring the backup rule, you can view the backed-up log data within 5 minutes. For more details, refer to the document **Backup Logs**.

#### Optimize Log Context

When viewing context in the log details page and opening a new log viewer, it uses “host,” “source,” “service,” and “filename” as filter conditions to view data before and after the current log time.

![](img/2.log_updown_2.png)

#### Optimize User Access Monitoring

##### Add Custom User Access Monitoring Application ID

User access monitoring supports users defining an application ID as the unique identifier for the current workspace (the original <<< custom_key.brand_name >>> application ID is globally unique, meaning that application IDs from different spaces cannot be repeated). Different workspaces can use the same application ID as the unique identifier for the same application, used for SDK data upload matching. For more details, see the following documents:

- **Web Application Integration**

- **Android Application Integration**

- **iOS Application Integration**

- **Mini Program Application Integration**

![](img/5.changelog.png)

##### Add User Access Monitoring Network Request Error Link View

User access monitoring supports users associating and viewing network (network) error-related links in the RUM viewer.

![](img/5.changelog_rum.png)


#### Comprehensive Upgrade of Intelligent Inspection

- The intelligent inspection list adjusts "group" to "alert strategy," supporting the selection of alert strategies for intelligent inspections during editing;
- The related event details page of intelligent inspection has been fully adjusted, including related pages such as basic attributes, event details, root cause analysis, alert notifications, history records, and associated events; meanwhile, optimizing anomaly chart analysis, adding data association jump links, anomaly interval prompts, root cause analysis interval prompts, legend display operations, etc.

For more details, refer to **Intelligent Inspection**.

![](img/4.bot_obs_7.1.png)

![](img/4.bot_obs_7.2.png)


#### Optimize Monitoring

##### Adjust Group to Alert Strategy

In "Monitoring," adjust the "Group Management" page to "Alert Strategy Management," creating alert strategies to filter monitors and set alert notifications.

![](img/5.changelog_15.png)

In **Monitors**, the original "group" filter is adjusted to "alert strategy" filter, supporting the selection of alert strategies when configuring monitors, and allowing modification of alert settings by clicking on the monitor's alert strategy.

![](img/5.changelog_14.png)

##### Optimize Monitor Configuration

- Adjust the configuration steps of monitors, including detection frequency, detection interval, alert strategy, etc.;
  
- Optimize detection metrics, supporting the configuration of outer functions (fx), including "Label Filtering," "Conversion Functions," "Data Gap Filling"; support switching to DQL query mode;
  
- Optimize trigger condition text prompt;
  
- Optimize event notifications, removing some custom data gap event titles and contents for certain monitors; adjust template variable prompt text; adjust groups to alert strategies and support editing alert strategies;
  
- Optimize log detection, application performance metric detection, user access metric detection "detection metric" configuration.

For more details, refer to **Monitor Management**.

![](img/5.changelog_7.0.png)
![](img/5.changelog_7.png)

##### Add "Infrastructure Survival Detection"

"Infrastructure Survival Detection" is used to monitor the operational status of infrastructure. For more details, refer to **Infrastructure Survival Detection**.

![](img/5.changelog_12.png)


##### Add "Process Abnormality Detection"

"Process Abnormality Detection" is used to monitor process data within the workspace, supporting the setting of triggers for alerts based on one or multiple field types of process data. For more details, refer to **Process Abnormality Detection**.

Note: Infrastructure object detection has been removed. Existing related monitors can continue to be used but no longer support new creations.

![](img/5.changelog_13.png)

##### Optimize "Application Performance Metric Detection"

In "Application Performance Metric Detection," a new "Link Statistics" detection method has been added, which counts the number of links that meet the conditions within a specified time period, triggering an anomaly event when exceeding a custom threshold. It can be used for service link abnormal error notifications. For more details, refer to **Application Performance Metric Detection**.

![](img/5.changelog_11.png)

#### Optimize Member Management

- Read-only members no longer support viewing the member management page;
- Support filtering normal members and SSO members, SSO members only display members corresponding to the currently configured identity provider (IDP).

For more details, refer to **Member Management**.

#### Add DEMO Workspace

<<< custom_key.brand_name >>> provides a demo workspace to help you better use various functional modules of <<< custom_key.brand_name >>>. You can click on the "Workspace" in the upper left corner, click "Experience Demo Space" in the pop-up dialog box, and then enter the demo space for viewing.

![](img/3.demo_space_1.png)

#### Other Functional Optimizations

- Change the default aggregation function of metrics in charts from last to avg, and change the default aggregation function of log data from last to count.
- Optimize the copy experience of legends in time series charts and pie charts.
- Optimize interaction display in note editing mode.
- Snapshots support saving the display column information of the current viewer.
- Format the time fields on the trace detail page, converting timestamps into date formats for display.
- Deployment edition backend supports modifying workspace data retention strategies.

### DataKit Update

#### Breaking Changes

- In the Gitlab and Jenkins collectors, time fields related to CI/CD data have been adjusted to unify the data presentation effect on the front-end page.

#### Collector Function Adjustments

- Optimize IO module data processing to improve data throughput efficiency.
- Add disk cache functionality to various traces.
- Add goroutine usage-related metrics sets (`datakit_goroutine`) to the self-metrics set of DataKit.
- Add `mysql_dbm_activity` metrics set to the MySQL collector.
- Add **netstat collector**.
- TDengine adds log collection.
- Optimize fstype filtering in the disk collector, collecting only common file systems by default.
- Add a `message_length` field to each log in the log collector to indicate the length of the current log, facilitating filtering logs by length.
- CRD supports locating Pod scopes via DaemonSet.
- Remove go-bindata dependency in eBPF.
- By default, the container collector enables **k8s and container-related metrics**, which consume additional timelines to a certain extent.

#### Bug Fixes

- Fix DataKit's own CPU usage rate calculation error.
- Fix SkyWalking middleware recognition issue.
- Fix Oracle exit issue.
- Fix Sink DataWay failure issue.
- Fix JSON write-in issue for the HTTP /v1/write/:category interface.

#### Documentation Adjustments

- Almost every chapter has added jump labels for permanent reference from other documents.
- Pythond documentation has been transferred to the custom development directory.
- Collector documentation has been moved from the original "Integration" section to the "DataKit" documentation library.
- DataKit documentation directory structure has been adjusted, reducing the number of directory levels.
- Almost every collector has added k8s configuration entries.
- Adjusted the header display, besides the operating system identification, election identification has been added for collectors supporting elections.

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Cloud Native
    - Use CRD to start your Ingress observability journey

- Monitoring Monitoring
    - Application Performance Monitoring (APM) - DDtrace Custom Instrumentation
    - Application Performance Monitoring (APM) - DDtrace <<< custom_key.brand_name >>> secondary development practice

For more best practices updates, refer to **Best Practices Version History**.

## August 18, 2022

### <<< custom_key.brand_name >>> Update

#### <<< custom_key.brand_name >>> Billing Update

<<< custom_key.brand_name >>> billing items for application performance, user access, and logs have added data retention strategies and corresponding unit prices. The log data has added a 7-day data retention strategy, and application performance and user access have added a 3-day data retention strategy. You can adjust the corresponding data retention strategy according to your actual needs to save costs. For more details, refer to the document **Billing Method**.

#### Optimize Viewer

##### Add Filter History

<<< custom_key.brand_name >>> has added a filter history feature to the viewer, supporting the local browser saving of `key:value` search condition histories for the current user within the current workspace. You can directly use historical search conditions in different viewers, helping avoid repetitive configuration of filter conditions.

- Open filter history: Supported by clicking the expand small icon in the lower right corner of the viewer or using shortcut keys (Mac OS: shift+cmd+k / Windows: shift+ctrl+k) to quickly open the filter history;
- Close filter history: Click the close button `x` or use the `esc` key to hide the filter history.

For more details, refer to the document **Filter History Explanation**.

![](img/1.filter_history_1.png)

##### Add Quick Filter Value Sorting

In the quick filter of the viewer, add support for sorting field values by percentage. Click the "Settings" button in the upper right corner of the quick filter item, select "Query Value TOP 5", and you can view the statistical percentages of the top five field attribute values for the current filter item. On the right side of the leaderboard, you can click the "Positive Filtering" and "Negative Filtering" buttons to filter and query data for the current ranked field attribute values in the form of `key:value`. For more details about quick filters in the viewer, refer to the document **Quick Filter Explanation**.

![](img/2.search_count_3.png)


##### Add Time Widget Input Format Prompt Page

In the time widget of the viewer, add a time widget input format prompt page, optimizing the text input box of the time widget to support real-time linkage with the prompt box, helping users quickly understand the supported input formats of the time widget. For more details about the viewer's time widget, refer to the document **Time Widget Explanation**.

![](img/7.timestamp_11.png)

##### Add Display Column Field Separator and Text Prompt

When adding display columns in the viewer, add field separators and their addition text prompts. When entering fields in the display column, preset fields are separated from existing fields by separators, with the prompt text "Create and Add", supporting keyboard up/down switch keys (↑ ↓) to select and add display columns; for more details about the viewer's display column, refer to the document **Display Column Explanation**.

![](img/8.showlist_2.png)

#### Add Viewing Permissions for Scenario Dashboards/Notes/Viewers.

When creating **Dashboards**, **Notes**, **Viewers** in scenarios, creators can customize viewing permissions to prevent accidental modifications to their dashboards or premature publication of incomplete or inappropriate dashboards/notes/viewers. Permission settings include "Public" and "Only Visible to Me".

- Public: Open to all members of the current workspace, unaffected by other members' viewing and editing permissions;
- Only Visible to Me: Visible only to the creator, other members do not have viewing permissions.

Note: When accessing non-public dashboards/notes/viewers via links, non-creators cannot view them, prompting that they have no permission to view.

#### Add Snapshot Viewing Permissions

When saving snapshots in scenarios or viewers, support customizing viewing permissions, including "Public" and "Only Visible to Me".

- Public: Indicates that all users in the current workspace can view the saved snapshot;
- Only Visible to Me: Indicates that except for the current user, other users cannot view the saved snapshot.

![](img/6.snapshot_0.png)

After saving a snapshot in the viewer, you can view the historical snapshot's time range and filter conditions. The time range is divided into "Absolute Time," "Relative Time," and "Default" based on the selection when saving the snapshot. For more details about using snapshots, refer to the document **Snapshots**.

![](img/6.snapshot_5.1.png)

#### Optimize Monitors and Events

##### Add Monitor Testing

Monitors have added manual trigger monitor detection. If the current detection rule is triggered, you can view relevant details in the event viewer.

![](img/9.changelog_1.png)

##### Optimize Smart Inspection Information Display

The smart inspection list has added "Data Range," "Detection Frequency," "Group," "Last Trigger Time," "Trigger Status." Operations have added "Export JSON Configuration," with the export file name format: Smart Inspection Name.json.

![](img/9.changelog_2.png)

The smart inspection event details page has added "Basic Attributes," "History Records," "Associated Events," and other general pages.

![](img/13.monitor_2.png)

##### Optimize Event Details Page

On the event details page, optimize the "Basic Attributes" page; adjust "Copy Current Event Content" to "Export Event JSON" button, while adding a "View Monitor Configuration" button on the left, supporting one-click jumps to the current event's monitor configuration page for real-time adjustments to monitor rules.

![](img/9.changelog_3.png)

If the monitor is configured with alerts, the associated event details page adds an "Alert Notification" page. If the monitor sets alert silence, during the alert silence period, identical alert events will not be sent to notification targets. On the event details page's "Alert Notification" page, this alert notification is marked as "Notification Not Sent."

![](img/9.changelog_4.png)

#### Other Functional Optimizations

- <<< custom_key.brand_name >>> adds support for email verification authentication methods.
- Associate network page optimization on the viewer details page for host, Pod, Deployment type displays;
- Add toggle icons when adding charts in dashboards and built-in views, adjusting the position of the view variable edit button;
- Add `sum` summation statistics in the legend values of time series charts, while optimizing legend display and interactions;
- Add wildcard and not wildcard to screening conditions when querying log data in monitors and charts.

### DataKit Update

#### New Features
- Add reftable functionality in Pipeline
- DataKit 9529 HTTP supports binding to domain socket
    - Correspondingly, the configurations for eBPF collection and Oracle collection also need corresponding changes.
- RUM sourcemap adds Android R8 support
- CRD adds log configuration support
    - Complete example

#### Optimization
- Optimize container collector documentation
- Add common Tag documentation
- Optimize configuration and some related naming for elections
- Election-type collectors still support disabling election features on specific collectors even when DataKit elections are enabled
- Support specifying io block configurations for specific data types
- DDTrace sampling adds meta information recognition
- DataKit self-metrics set adds 9529 HTTP request-related metrics
- Optimize memory usage in Zipkin collection
- DDTrace collector switches to blocking IO feed after enabling disk cache
- eBPF adds process_name (process_name) field
- New version of DCA released
- Log class HTTP data writing (logstreaming/Jaeger/OpenTelemetry/Zipkin) all add queue support
- Log collection adds automatic multiline support

#### Bug Fixes
- Fix connection leakage issue in MySQL collector
- Fix Pipeline Json value retrieval issue
- Fix macOS ulimit setting ineffective issue
- Fix sinker-Dataway invalid in Kubernetes issue
- Fix data validation issues for HTTP data writing interfaces
- Fix eBPF collector structure offset calculation failure due to kernel changes
- Fix DDTrace close-resource issue

For more DataKit updates, refer to **DataKit Version History**.


### Best Practices Update

- Monitoring Monitoring
    - **Use extract + TextMapAdapter to implement custom traceId**

- Insight
    - Scenario - **Intranet scenario Dubbo microservices integration with <<< custom_key.brand_name >>>**

For more best practices updates, refer to **Best Practices Version History**.

## August 4, 2022

### <<< custom_key.brand_name >>> Update

#### DCA Web End Launch

<<< custom_key.brand_name >>> has added the Web end management tool DCA for DataKit, aiming to conveniently manage already installed and configured collectors, supporting viewing collector operation status, collector configuration management, Pipeline management, blacklist management, and collector documentation help, among other functions. For more details, refer to the document **DCA**.

![](img/2.dca_3.png)



#### Optimize Viewer Search, Quick Filter, Time Widget, Display Columns

##### Viewer Search

- In the viewer search bar, add "Exist" and "Not Exist" filter logic, returning search results by determining whether the filter field exists;
- In the viewer search bar, add arithmetic methods for numeric types, supporting operators including `equal, greater than or equal to, less than or equal to, greater than, less than, not equal to`, etc.;
- Add field data type prompts and match pattern descriptions.

For more details about viewer search, refer to the document **Search Explanation**.

![](img/16.search.png)



##### Quick Filter

- In the quick filter items, add tag field search functionality. When the quick filter items exceed 10 tag fields, support fuzzy searches by "field name" or "display name";
- In the quick filter items, add a "Settings" button, supporting adding/removing display columns;
- In the quick filter items, add a "Settings" button, personal-level filter fields support editing display names and deleting fields.

For more details about viewer quick filters, refer to the document **Quick Filter Explanation**.


##### Time Widget

- Add interval display, support manually entering time ranges by clicking the display box of the time widget, including "interval range," "timestamp range," and "standard time format";
- Drop-down list adds custom options, supporting `hour:minute:second` format input within custom ranges;
- Add viewing of the last 20 absolute time records.

For more details about the viewer time widget, refer to the document **Time Widget Explanation**.

![](img/7.timestamp_2.png)

##### Display Columns

In the viewer list, when the mouse hovers over the display columns, a "Settings" button is added, supporting ascending/descending order, moving columns left/right, adding columns left/right, replacing columns, adding to quick filters, adding to groups, and removing columns for display columns. For more details about the viewer display columns, refer to the document **Display Column Explanation**.

![](img/8.showlist_3.png)



#### Optimize Viewer Details Page

- Adjust the positions of operations for quick filtering "filter field values," "reverse filter field values," "add to display columns," and "copy";
- Support switching between viewing log details up and down using keyboard arrow keys (↑ ↓);
- Support closing the details page popup directly using the keyboard esc button.
- Add "View Context" function: When viewing context in the log details page and opening a new log viewer, it uses "host," "source," "service," "filename" as filter conditions, using the current log time as the start time and the current log time + 30 minutes as the end time, bringing it to the time widget for context log filtering. For more details, refer to the document **View Context**.

![](img/17.explorer_3.png)

#### Add Global Viewer Auto-refresh Configuration

In <<< custom_key.brand_name >>> workspace, click "Account" to enable/disable "Viewer Auto-refresh".

- Enable: The viewer data refreshes automatically according to the default time control refresh time of 30 seconds, such as selecting the last 15 minutes, refreshing once every 30 seconds to display the latest 15 minutes of data.
- Disable: The viewer's time widget turns off auto-refresh upon entry, such as selecting the last 15 minutes, displaying the content data of that 15-minute absolute time without auto-refreshing, and clicking the "Play" button to refresh and view the latest 15 minutes of data.

Note: Viewer auto-refresh only affects the local browser. For more details about the viewer time widget, refer to the document **Time Widget Explanation**.

![](img/7.timestamp_1.png)



#### Add Global Blacklist Functionality

<<< custom_key.brand_name >>> supports filtering out data of different types that meet conditions by setting blacklists. After configuring the blacklist, data that meets the conditions will no longer be reported to <<< custom_key.brand_name >>> workspace, helping you save on data storage costs. Currently, the global blacklist function supports filtering data types including logs, base objects, resource catalogs, networks, application performance monitoring, user access monitoring, security checks, events, metrics, Profile. For more details, refer to the document **Blacklist**.

![](img/5.blacklist_1.png)



#### Add Custom Function Menu

<<< custom_key.brand_name >>> supports manually setting function menus, including hiding/displaying and adjusting menu order, helping you customize the menu display of the current workspace. In <<< custom_key.brand_name >>> workspace, click the account in the lower left corner, select "Function Menu Management," and you can adjust the menu. For more details, refer to the document **Function Menu Management**.

![](img/3.customized.png)



#### Add Chart Query Alias

In scene visualization charts, add chart query aliases. After adding aliases, the legend names change accordingly, making it easier to distinguish related metrics intuitively. Currently supported charts include time series charts, pie charts, bar charts, scatter plots, bubble charts, funnel charts.

![](img/15.changelog_5.png)

#### Add Legend Styles for Time Series Charts and Pie Charts

In scene visualization charts, pie charts add support for bottom, right, surrounding, and hidden legend styles. Time series charts support bottom, right, and hidden legend styles, with the default state hiding the legend style.

![](img/15.changelog_3.png)

#### Optimize Object Historical Data Retention Strategy

<<< custom_key.brand_name >>> stores 48 hours of historical data for all objects (hosts, containers, pods) reported to the workspace, allowing users to trace back the data representation of objects at a certain moment within the past two days. When viewing a specific log, trace, or security check data, you can view the corresponding object situation at that moment in the "Attribute View" of the associated host, container, or Pod.

![](img/15.changelog_6.png)

#### Adjust Save Snapshot Position

Remove the "Save Snapshot" button from the top navigation bar of the viewer, uniformly migrating it to "Historical Snapshots." Scene dashboards and notes can create snapshots via shortcut keys. For more details, refer to the document **Snapshot**.


#### Other Functional Optimizations

- Time intervals in time series charts add millisecond level
- Backend management adds workspace-level index configuration adjustment entry
- Log viewer distribution chart adds support for custom time interval selection
- RUM viewer page adds current data extension field page display



### DataKit Update

- Some data types support caching to disk after sending fails, retrying later
- Supports sending data meeting conditions to different workspaces via different dataway addresses
- Sourcemap adds Android and iOS support
- Container collector related updates:
    - Fix Kubernetes Node host operating system information collection errors
    - Prom collection in Kubernetes no longer automatically appends pod-related information, avoiding excessive timeline growth
    - Append corresponding yaml information to Pod objects
- Pipeline related updates:
    - Optimize Pipeline execution steps
    - **grok()** and **json()** functions perform trim-space by default
- DDTrace related updates:
    - Fix potential goroutine leak problems
    - Support configuring disk cache to alleviate memory usage issues
- Other bug fixes:
    - Optimize line protocol construction
    - Log collection removes periodic cleanup of tail data function to relieve possible log truncation issues

For more DataKit updates, refer to **DataKit Version History**.



## July 21, 2022

### <<< custom_key.brand_name >>> Update

#### Add Smart Inspection Functionality

Smart inspection is based on <<< custom_key.brand_name >>> intelligent detection algorithms, supporting automatic detection of infrastructure and application issues, helping users discover problems occurring during IT system operations. Through root cause analysis, it quickly locates the causes of anomalies; through <<< custom_key.brand_name >>> intelligent prediction algorithms, it helps users foresee potential infrastructure and application problems in advance, assessing the impact level of problems on system operation, better determining the priority of troubleshooting work, and reducing uncertainties in the troubleshooting process.

Smart inspection currently supports three inspection templates:

- **Memory Leak**: Detects whether there are memory leak issues with hosts in the current workspace.
- **Disk Usage Rate**: Detects whether there are high disk usage issues with hosts in the current workspace.
- **Application Performance Detection**: Detects whether QPS, average response time, P90 response time, and error rates of services in the current workspace fluctuate.

![](img/1.bot_obs_1.1.png)



#### Optimize Viewer Search and Filter Functionality

1. Add "not wildcard reverse fuzzy matching" in viewer search, i.e., does not match fuzzy query results.

![](img/1.search_1.png)



2. Add workspace-level and personal-level filtering methods in viewer quick filters

- Workspace-level filter items: Configured by administrators/owners, click the "Settings" button next to the quick filter to configure workspace-level filter items
- Personal-level filter items: All members can configure quick filters based on local browsers, click the "Edit" on the right side of the quick filter to configure personal-level filter items

For more details, refer to the document **Viewer Search and Filters**.

![](img/1.search_2.png)



#### Add Modification of URL Time Range for Data Queries

<<< custom_key.brand_name >>> supports directly modifying the `time` parameter's time range in the browser's URL for the current workspace viewer/dashboard data queries, supporting four units: seconds, minutes, hours, and days, such as time=30s, time=20m, time=6h, time=2d, etc. As shown in the figure below, modify `time=2h` in the browser to display data from the last 2 hours. For more details, refer to the document **URL Time Range**.

![](img/4.url_1.png)



#### Add Dashboard View Variable Data Sources Configuration for Logs, Application Performance, User Access, Security Checks

Dashboard view variables add "logs," "application performance," "user access," and "security checks" data sources configuration, while optimizing the interaction of adding and editing view variables in dashboards.

- In dashboards without added view variables, the top navigation bar adds an "Add View Variable" button, click to add view variables
- If the dashboard has added view variables, the top navigation bar below directly shows the view variable name, click the "Edit" button on the right to enter the view variable editing page

For more details, see the document **View Variables**.

![](img/2.view_variable_3.png)



#### Optimize Chart Query Interaction

- Click the "Separator Bar" between the chart and the query to drag it up and down
- Click the "Drag" button on the left side of the query statement, drag up and down to adjust the order of the query
- Scrollbars only affect the query statement area, not affecting the chart

![](img/3.chart_1.png)



#### Add Template Variables for User Access Indicator Detection Event Notifications

In the "User Access Indicator Detection (RUM)" monitor, when configuring notification events, in addition to common template variables, the following template variables are additionally supported. For more details, refer to the document **Event Title, Content Templates**.

| Template Variable | Type   | Description |
| ------------------ | ------ | ----------- |
| `app_id`          | String | Application ID |
| `app_name`        | String | Application Name |
| `app_type`        | String | Application Type |



#### Optimize One-click Opening Links in Event Content

When configuring monitors, add links in the event content. When events are triggered, click the link in the "Event Content" on the event details page to open a new page and jump.

### DataKit Update

- Built-in timeout duration for prom collector is 3 seconds
- Log-related issue fixes:
    - Add `log_read_offset` field for log collection
    - Fix bug where log files are not correctly readAll after rotation
- Container collection-related issue fixes:
    - Fix compatibility issue with environment variable `NODE_NAME`
    - Change k8s auto-discovered prom collectors to serial-style, node-distributed collection
    - Add mapping configuration for log source and multiline
    - Fix bug where container logs replace source but still use previous multiline and pipeline
    - Correct container log setting file active duration to 12 hours
    - Optimize image field in docker container logs
    - Optimize host field in k8s pod objects
    - Fix issue where container metrics and object collections did not add host tags
- eBPF related:
    - Fix uprobe event name conflict issue
    - Add more environment variable configurations for cloud k8s environments
- Optimize APM data reception interface data processing to alleviate client freezing and memory consumption issues
- SQLServer collector fixes:
    - Restore TLS1.0 support
    - Support instance-based collection filtering to reduce timeline consumption
- Adjust `adjust_timezone()` function in Pipeline
- Optimize IO module to enhance overall data processing capability while keeping memory consumption relatively controlled
- Monitor update:
    - Fix long-term freezing issues in Monitor during busy times
    - Optimize Monitor display, add IO module information display to facilitate adjusting IO module parameters
- Fix Redis crash issue
- Remove some redundant verbose logs
- Fix issue where election-type collectors do not append host tags in non-election mode

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Update

- Cloud Platform Integration
    - Rancher Deploy DataKit Best Practices
    - Tencent Cloud Product Observability Best Practices (Function)

For more best practices updates, refer to **Best Practices Version History**.

## July 7, 2022

### <<< custom_key.brand_name >>> Update

#### Optimize Viewer Positive Selection, Negative Selection, Fuzzy Matching Three Screening Modes

<<< custom_key.brand_name >>> viewer supports precise screening, fuzzy screening (wildcard), and negative selection through the method of "field:value". It supports editing and modifying the screened "field:value". For more details, refer to the document **Viewer Search and Filtering**.

![](img/12.explorer_search.png)

#### Optimize Viewer Quick Filters

In <<< custom_key.brand_name >>> viewer quick filters, by default, all are selected, supporting "positive selection," "negative selection," "reset," "All," and "only" multiple screenings. If both positive and negative selections are included in the search box simultaneously, the corresponding quick filter labels are grayed out and cannot be selected. For more details, refer to the document **Quick Filters**.

![](img/12.explorer_search_11.png)

#### Add Multiple Quick Operations for Viewer Display Columns

In <<< custom_key.brand_name >>> viewer, through "display columns," you can add and delete display columns to the viewer list.

- When the mouse hovers over the added display columns, you can perform ascending/descending order, move columns left/right, and remove columns.
- If the content of the display column is not fully displayed, double-click the divider line on the right side of the display column to expand the content of that column.

![](img/10.log_3.png)

#### Optimize Attribute/Field Quick Filters on Viewer Details Page

On the viewer details page, when clicking attribute fields such as "host" and "source," support "positive filtering," "negative filtering," "adding to display columns," and "copying" for quick filtering and viewing;

- "Copy," copies the field to the clipboard
- "Positive filtering," adds the field to the viewer to view all data related to that field
- "Negative filtering," adds the field to the viewer to view data other than that field
- "Adding to display columns," adds the field to the viewer list for viewing

![](img/10.log_5.1.png)

#### Optimize Historical Snapshot Functionality, Supporting Three Time Retention Strategies

In viewers for metrics, logs, events, application performance monitoring, user access monitoring, cloud testing, security checks, etc., you can click "Save Snapshot" to save the data content currently displayed in the viewer, supporting enabling/disabling "time filtering."

- Snapshots with time filtering enabled save according to the selected time on the current page, and shared links do not support switching the time widget.
- Snapshots with time filtering enabled and absolute time locking convert the selected time range on the current page to "absolute time" for saving.
- Snapshots with time filtering disabled follow the system default time, and shared snapshots can switch the time widget.

![](img/11.snapshot_1.1.png)

After saving the snapshot, you can view it in the historical snapshot list of the viewer. Select and open historical snapshots, and click the "Return to Viewer" button in the upper right corner to return to the default viewer.

![](img/11.snapshot_5.5.png)

#### Add Pipeline One-click Sample Test Data Retrieval

When creating or editing a Pipeline, add a "One-click Retrieve" button on the right side of the sample parsing test to facilitate obtaining data for cutting and debugging.

- Log data: returns message data
- Other data types: returns line protocol format data

For more details, refer to the document **Text Processing Pipeline**.

![](img/9.pipeline_2.1.png)

#### Add Scene Custom Viewer Text Analysis Mode

In scene custom viewers, when editing the viewer, in custom configuration display columns, support selecting "approximate text analysis" for viewer fields, using the content corresponding to the `message` field for approximate text analysis by default. For more details, refer to **Scene Custom Viewer**.

![](img/6.log_explorer_6.1.png)

#### Add Associated Network Pod and Deployment Views in Log Viewer Details Page

<<< custom_key.brand_name >>> supports viewing the data connection situations of host, Pod, and Deployment views in the "Network" section of the log viewer details page.

Note: To view related networks in log details, matching corresponding fields is required.

![](img/2.log_detail_2.1.png)

#### Add Associated Network 48-Hour Data Playback Functionality in Viewer Details Page

In the log, process, trace, host, Pod viewer details page associated with the network, support clicking the time widget to choose to replay 48-hour network data.

- Time range: Default viewing of data 30 minutes before and after by default, if it is currently happening, default viewing of the latest 1 hour of data;
- Support arbitrary dragging of the time range to view corresponding network traffic;
- After dragging, click the "Play" button or refresh the page to return to viewing "the latest 1 hour" of network data.

![](img/2.log_detail_4.1.png)

#### Adjust Unresolved Event Retention Strategy, Support Manual Event Recovery

In the unresolved event list, when hovering the mouse over an event, you can see the "Recovered" function on the right side of the event. Clicking "Recovered" recovers the event, and a recovery event is generated, where the operator can be viewed in that event.

![](img/3.event_1.1.png)

#### Other Functional Optimizations

- Add 【Latest 5 Minutes】 time range in chart locked time, add 【5s】【10s】【30s】 three second-level time selections
- Scene viewer display columns, view variable base object field properties/tags support custom input
- Adjust the location of associated dashboards in event details
- Add timeline quantity statistics in metric management
- Optimize log details associated with traces, showing flame graphs and selecting all data corresponding to the span based on trace_id and span_id in the logs
- Optimize service display and interaction for user access monitoring
- Adjust dropdown options in RUM, network, availability monitoring, CI viewers to flat display
- Support configuring template variable field mappings for monitor event notification content, supporting setting template variable corresponding values in DQL query statements.
- Add a quick jump entry for key features on the help center homepage

### DataKit Update

- Adjust global tag behavior to avoid tag splitting for elected collectors
- Add election support to SQLServer collector
- Row protocol filter supports all data types
- Add timeout mechanism to 9529 HTTP service
- Adjust dbm metrics set name for MySQL
- Resolve service field conflict issue
- Add container_runtime_name field to container objects to distinguish different levels of container names
- Adjust Redis slowlog collection, changing its data to log storage
- Optimize TDEngine collection
- Improve Containerd log collection
- Add Profile type data support in Pipeline
- Support adding extra tags on Label/Annotation for container/Pod log collection
- Fix Jenkins CI data collection time precision issue
- Resolve Tracing resource-type value inconsistency issue
- Add HTTPS support to eBPF
- Fix possible crash issues in the log collector
- Fix prom collector leakage issue
- Support configuring io disk cache via environment variables
- Add Kubernetes CRD support

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Update

- Integration and Access
    - Skywalking JVM observability best practices
    - Minio observability best practices

For more best practice updates, refer to **Best Practices Version History**.

## June 21, 2022

### <<< custom_key.brand_name >>> Update

#### <<< custom_key.brand_name >>> Help Documentation Fully Online

To improve the reading experience of <<< custom_key.brand_name >>> help documentation, <<< custom_key.brand_name >>> help documentation has been moved to the <<< custom_key.brand_name >>> domain. You can view <<< custom_key.brand_name >>> help documentation more simply and quickly. The new <<< custom_key.brand_name >>> help documentation address is: **<<< homepage >>>**.

#### Added Profile Observability

Profile supports collecting dynamic performance data from applications running in different language environments such as Java / Python, helping users view CPU, memory, IO performance issues. Collecting profile data requires first installing DataKit and configuring the Profile collector. After configuration, DataKit will upload the collected profile data to your <<< custom_key.brand_name >>> workspace. You can understand your program code performance through the Profile real-time data Explorer. For more details, refer to the document **Profile**.

![](img/6.profile_3.png)



#### Pipeline Covers Full Text Analysis Processing for All Data

Text processing (Pipeline) is used for data parsing. By defining parsing rules, various data types are split into structured data that meets our requirements. In the <<< custom_key.brand_name >>> workspace under «Manage» - «Text Processing (Pipeline)», click «Create Pipeline» to create a new pipeline file. For more details, refer to the document **Text Processing (Pipeline)**.

![](img/5.pipeline_3.png)



#### Added Deployment Network Details and Network Distribution

Deployment network supports viewing network traffic between Deployments. It supports viewing network traffic and data connection status from source IP to destination IP based on IP/port, with real-time visualization to help businesses understand the network operation status of their business systems in real time, quickly analyze, track, and locate problem faults, preventing or avoiding business issues caused by decreased or interrupted network performance.

After successful collection of Deployment network data, it is reported to the <<< custom_key.brand_name >>> console. You can view Deployment network performance monitoring data information in the «Network» section of the Deployment details page under «Infrastructure» - «CONTAINERS» - «Deployment». In «Infrastructure» - «NETWORK» - «Deployment», you can view the network distribution and data connection status of all Deployments within the workspace. For more details, refer to **Deployment Network**.

![](img/5.network.png)



#### Optimized Event Detection Dimension Jump to Other Explorers

In the event recovery Explorer, clicking on detection dimensions allows you to view related containers, processes, logs, APMs, RUM PV, Synthetic Tests, Security Check, CI, etc. If there is no related data in the relevant Explorer, the corresponding jump link will be grayed out and unclickable.

![](img/9.event_11.png)



#### Added JSON-formatted message Information Search in Log Explorer

The log Explorer has added the ability to search JSON-formatted log content (message). The search format is: `@key.key:value`.

Note: JSON search only supports workspaces created after this feature launch.



#### Added User Analysis New Application Support for Custom Input app_id Information

Added custom application ID functionality. Supports custom input of app_id when creating a new application using User Analysis, generating a unique application ID identifier within the current space, which can be used to distinguish application types, match data uploads, etc.

- Application Name (required): Used to identify the name of the current application being monitored by User Analysis.
- Application ID Identifier (optional): A unique application ID identifier within the current space, supporting customization, which can be used for data upload matching; the application ID identifier supports up to 20 characters and only allows input of uppercase and lowercase letters.
- Application ID: If an application ID identifier is filled in when creating the application, after clicking "Create Application", the filled-in application ID identifier information will be prepended to the application ID for easier differentiation during query and filtering.

![](img/7.changelog_1.png)

#### Optimized Process Detection to Infrastructure Object Detection

Process detection has been optimized to infrastructure object monitoring, adding selections for HOST, CONTAINERS, processes, Pods, Deployments, ReplicaSets, Jobs, Resource Catalogs, etc., for monitoring infrastructure object data within the workspace. For more details, refer to the document **Infrastructure Object Monitoring**.

#### Other Feature Optimizations

- Infrastructure POD Explorer adds CPU usage rate and memory usage metrics in cellular mode
- Optimized log blacklist configuration. Supports manual input of log sources as blacklist sources
- Optimized service list data query time component in APM, supports custom time range selection
- Optimized K8S DataKit installation guidance text, automatically adds the current workspace's token to the DataWay data gateway address configuration
- Optimized monitor configuration UI style

### DataKit Updates

#### 2022/06/21

- gitrepo supports passwordless mode
- prom collector
    - Supports log mode collection
    - Supports configuration of HTTP request headers
- Supports collection of container logs over 16KB in length
- Supports TDEngine collector
- Pipeline
    - Supports XML parsing
    - Remote debugging supports multiple data types
    - Supports calling external Pipeline scripts via the `use()` function
- Added support for IP library (MaxMindIP)
- Added DDTrace Profile integration
- Containerd log collection supports filter rule configuration via image and K8s Annotation
- Overall switch of the documentation library

#### 2022/06/16

- Log collection supports recording collection position to avoid data loss due to DataKit restarts
- Adjusted Pipeline settings for handling different data types
- Supports receiving SkyWalking Metrics data
- Optimized log blacklist debugging function:
    - Displays the number of filtered points in Monitor
    - Adds a *.filter* file in the datakit/data directory to record fetched filters
- Monitor increases display of the number of files opened by DataKit
- DataKit compiler upgraded to golang 1.18.3

#### 2022/06/07

- Added TCP/UDP port detection collector
- DataKit and DataWay add DNS detection, supporting dynamic switching of DataWay DNS
- **eBPF** L4/L7 traffic data adds k8s deployment name field
- Optimized OpenTelemetry Metrics data
- **ElasticSearch** adds AWS OpenSearch support
- **Line Protocol Limit** string length limit relaxed to 32MB
- **prom** collector adds extra configuration, supporting ignoring specified tag=value matches to reduce unnecessary Time Series timelines
- Sink adds Jaeger support
- Kubernetes-related Metrics collection defaults to all off to avoid timeline explosion issues
- DataKit Monitor adds refresh of dynamically discovered collectors (e.g., prom)

For more DataKit updates, refer to **DataKit Version History**.


### Best Practices Updates

- APM
    - **GraalVM and Spring Native Project Achieve Link Observability**
- Integration
    - **Best Practices for Host Observability (Linux)**

For more best practices updates, refer to **Best Practices Version History**.

### Integration Template Updates

#### Added Documentation

- Alibaba Cloud
    - Alibaba Cloud NAT
    - Alibaba Cloud CDN

#### Added Views

- Alibaba Cloud
    - Alibaba Cloud NAT
    - Alibaba Cloud CDN


## June 6, 2022

### <<< custom_key.brand_name >>> Billing Update

<<< custom_key.brand_name >>> billing logic optimization for **Time Series** billing and **Metrics Data Retention Policy**. Original cost of 3 yuan per 300 lines reduced to 3 yuan per 1000 lines. Additionally, Metrics data now offers 3-day, 7-day, and 14-day retention policies, with **customizable data retention policy** supported for Measurements.

Time Series counts the total number of combinations based on tags in the Metrics data reported to the current workspace. The data retention policy refers to the data storage duration, i.e., the period during which data reported to the current workspace is retained. Data exceeding the retention period will be automatically deleted.

Time Series is fully counted daily and accumulates sequentially during the data retention period. The longer the data retention policy, the higher the Time Series costs.

This optimization reduces Time Series costs and shortens Metrics data retention periods, allowing flexible adjustment of Metrics data retention strategies to help save costs.

### <<< custom_key.brand_name >>> Update

#### Added Jenkins CI Observability

<<< custom_key.brand_name >>> added Jenkins CI observability. Through <<< custom_key.brand_name >>>'s CI visualization feature, you can directly view CI results in Jenkins. The CI process involves continuous integration, where developers, upon encountering issues while pushing code, can view all CI pipelines, success rates, failure reasons, specific failure stages, providing assurance for code updates. For more details, refer to **CI Visualization**.

![](img/17.CI_2.png)

#### Added Synchronized Search for Custom Explorer Charts

Custom Explorer added a chart synchronized search toggle, deciding whether search conditions affect chart queries. Default is enabled. When there is content in the search box, disabling the toggle returns the chart query to its default state; enabling the toggle means the chart query is influenced by the selected content.

![](img/6.custom_explorer_1.png)

#### Added Downstream Analysis for Network Topology and Service Map

In the infrastructure network topology diagram, clicking the HOST/Pod icon and selecting "View Upstream/Downstream" allows you to view upstream/downstream node associations. In the upstream/downstream nodes, clicking "Return to Summary" in the top-left corner returns to the original network topology diagram. Searching or filtering in the search bar filters associated upstream/downstream nodes based on the search or filter results. For more details, refer to the document **Network View Upstream/Downstream**.

![](img/11.network_1.png)
In the service map, clicking the service icon and selecting "View Upstream/Downstream" allows you to view upstream/downstream service associations for the current service. In the upstream/downstream services, clicking "Return to Summary" in the top-left corner returns to the original service map. Searching or filtering in the search bar filters associated upstream/downstream services based on the search or filter results. For more details, refer to the document **Service View Upstream/Downstream**.

![](img/12.apm_service_1.png)

#### Added Deletion of Resource Catalog Data and Indexes

<<< custom_key.brand_name >>> supports owners and administrators deleting specified resource catalog classifications and all resource catalogs. Navigate to «Manage» - «Basic Settings», click «Delete Resource Catalog», select the method to delete resource catalogs, and the corresponding object data will be deleted.

- Specified resource catalog classification: Only deletes data under the selected object classification, does not delete indexes
- All resource catalogs: Deletes all resource catalog data and indexes

Note: Once all resource catalogs are deleted, all custom-reported data and indexes in the infrastructure will be deleted and cannot be recovered. All set resource catalog classification data needs to be re-reported. There is a daily limit of five deletions of all resource catalogs.

For more resource catalog introductions, refer to the document **Customization**.

![](img/7.custom_cloud_3.png)

#### Added Explorer Snapshot Viewing Entry

In <<< custom_key.brand_name >>> Metrics, logs, events, APM, RUM PV, cloud Synthetic Tests, Security Check, CI Visualization explorers, after saving a snapshot, you can directly click the snapshot icon in the top-right corner to slide open and view saved snapshots.

- Supports keyword search for snapshot names through fuzzy matching
- The first one is the default view, does not support sharing, copying links, or deletion
- Except for the first default view, other snapshots support sharing, copying links, and deletion. Clicking «Snapshot Name» opens the corresponding data copy in the current explorer

![](img/2.snapshot_1.png)


#### Added Explorer Filter Condition Editing Functionality

In <<< custom_key.brand_name >>> explorer search bar, when filtering using the “field:value” method, you can edit and modify the “field:value” by clicking on it, and then filter according to the modified result.

![](img/13.search_3.png)

#### Optimized User Access View Explorer Associated Links to Fetch/XHR

In the user access monitoring View explorer detail page of <<< custom_key.brand_name >>>, when switching to «Fetch/XHR», you can view every network request made by the user to the backend application, including the occurrence time, request trace, and duration.

![](img/4.rum_view_3.png)
If a network request has a corresponding `trace_id`, there will be a prompt icon before the request. Clicking the request will redirect to the detailed page of the corresponding trace.

![](img/4.rum_view_4.png)

#### Added High-Performance Mode for Chart Data Loading

<<< custom_key.brand_name >>> supports high-performance mode for chart data loading, which is disabled by default. You can enable it by clicking the account in the bottom-left corner and selecting «High-Performance Mode». After enabling high-performance mode, all charts will load simultaneously when entering the page, meaning that when scrolling down to view beyond the current page, all charts will have already loaded, allowing direct viewing of the displayed results.

Note: High-performance mode applies only to the current user viewing charts.

![](img/3.high_performance_1.png)

#### Added Alert Configuration Event Notification Level

Alert configuration supports custom selection of event notification levels, including critical, major, warning, recovery, data interruption, data interruption recovery, and data interruption considered as recovery—seven options available for multi-selection. Supports clearing all options with one click, requiring manual selection after clearing. For more alert configurations, refer to the document **Alert Settings**.

![](img/14monitor.png)

#### Other Functional Optimizations

- Scene dashboard combined charts support hiding/showing large titles
- Optimized event detail page event type text display
- Infrastructure list view added sorting by field functionality
- Log explorer added hide distribution chart button
- Explorer supports searching columns by keywords, supports setting custom columns as preset fields, allowing direct display of uploaded data after cutting fields via Pipeline and reporting data
- Built-in template libraries and built-in views added one-click viewing of corresponding integration documents to help you quickly configure the corresponding collector
- Built-in views support binding link services, applications, log sources, projects, tags, and other related views in addition to explorers, newly supporting custom key and value bindings for related views, while also supporting binding built-in views to the service side sliding detail pages
- Optimized Lark bot notification targets, supporting customizing whether key security checks are required
- When configuring monitors, if the configured data range is less than the detection frequency, triggers a prompt indicating potential data gaps

### DataKit Update (**2022/05/26**)

- Pipeline adjustments allow all data types to be processed additionally through Pipeline configuration
- grok() supports directly extracting fields as specified types without needing additional type conversion via cast()
- Pipeline adds multi-line string support, enhancing readability for long strings (e.g., regex splits in grok) by writing them across multiple lines
- Each Pipeline's runtime status can be viewed directly via datakit monitor -V
- Added Kubernetes Pod object CPU/memory Metrics
- Helm adds more Kubernetes version installation compatibility
- Optimized OpenTelemetry, added JSON support for HTTP protocol
- DataKit records correction actions when automatically correcting line protocols, facilitating data issue debugging
- Removed all string Metrics from time-series data
- In DaemonSet installations, if an election namespace is configured, all participating collectors will have an additional tag (election_namespace) on their data
- CI observability adds Jenkins support

#### Breaking Changes

For Docker container log collection, the host machine (Node) _/var/lib_ path must be mounted inside DataKit (since Docker logs default to _/var/lib_ on the host). In _datakit.yaml_, add the following configuration to `volumeMounts` and `volumes`:

```yaml
volumeMounts:
- mountPath: /var/lib
  name: lib

# Omitted other parts...

volumes:
- hostPath:
    path: /var/lib
  name: lib
```

### Best Practices Updates

- APM
    - Using <<< custom_key.brand_name >>>, achieve RUM, APM, and log联动 analysis with SkyWalking
- Monitoring Best Practices
    - Building OpenTelemetry Observability
    - OpenTelemetry to Jaeger, Grafana, ELK
    - OpenTelemetry to Grafana
    - OpenTelemetry to <<< custom_key.brand_name >>>
- <<< custom_key.brand_name >>> Tips
    - OpenTelemetry Sampling Best Practices



### Integration Template Updates
#### Added Documents and Views

- Data Collection
    - Opentelemetry Collector
- Container Orchestration
    - Kubernetes Scheduler
    - Kubernetes Controller Manager
    - Kubernetes API Server
    - Kubernetes Kubelet
#### Added Views

- Container Orchestration
    - Kubernetes Nodes Overview
- MIDDLEWARE
    - JVM Kubernetes


## May 19, 2022

### <<< custom_key.brand_name >>> Update

#### Optimized <<< custom_key.brand_name >>> Commercial Plan Registration Process

During <<< custom_key.brand_name >>> registration, options for Free Plan and Commercial Plan registration are provided. You can register a <<< custom_key.brand_name >>> account according to your actual needs. <<< custom_key.brand_name >>> supports pay-as-you-go billing, offering a ready-to-use cloud platform for comprehensive observability.

#### Added Scene Dashboard User View Template Library

<<< custom_key.brand_name >>> includes over 60 built-in system view templates. No configuration is needed, just select and use to meet various monitoring scenarios. You can customize views as user view templates to create dashboards with one click.

#### Added Scene Custom Explorer Log Source and Filter Linkage

The data scope of the scene custom explorer has added a filtering function based on log sources, filtering field data under the log source, supporting matching multiple field data, and combining search and grouping for further filtering of log data.



#### Added Copy Event Details Content as JSON Format

In the event details page, you can click the "Copy Complete Event Content" button to obtain all key data corresponding to the current event. If a monitor is configured with a linked dashboard, you can click the "Linked Dashboard" button to navigate to the corresponding dashboard.

In the **Associated Information** section of the event details page, if "Log Detection" is configured with multiple expression queries (for the same object type), the associated information supports tab switching for multiple expression queries. If there are two expression queries A and B, the associated information contains A and B tabs for switching views.



#### Added Log Data Desensitization Processing

<<< custom_key.brand_name >>> added log data desensitization processing. After data collection and reporting to the <<< custom_key.brand_name >>> workspace, some data may contain sensitive information, such as IP addresses and user information. These can be desensitized by configuring sensitive fields.

Note:
- Desensitized data is only accessible to workspace administrators and above; standard and read-only members cannot view desensitized information.
- Configuring sensitive fields is only accessible to workspace administrators and above; standard and read-only members can only view the configured sensitive fields.



#### Optimized Log Explorer and Details Page

<<< custom_key.brand_name >>> **Log Explorer** defaults to displaying "time" and "message" fields. This optimization supports hiding the "message" field.

In the log details page, log content automatically displays in Json and text viewing modes based on the message type. If there is no "message" field in the log, the log content section will not be displayed. Log content supports expanding and collapsing, defaulting to expanded state. Collapsing shows only one line height.

Extended fields display all related fields of the log, supporting "Copy" and "Add to Filter" for quick filtering and viewing.



#### Added Network Data Detection Monitor

**Network Data Detection** monitors network performance Metrics data within the workspace. By setting threshold ranges, alerts are triggered when Metrics reach thresholds. <<< custom_key.brand_name >>> supports setting alerts and custom alert levels for individual Metrics. In **Monitors**, click «+ Create Monitor», select «Network Data Detection», and enter the detection rule configuration page.



#### Optimized Built-in View Binding Functionality

<<< custom_key.brand_name >>> built-in views include system views and user views. This optimization cancels custom binding of system views as explorer views, supporting only binding user views as explorer views. To bind system views, clone the system view as a user view first. If system and user views have the same name, user views take precedence in the explorer. For how to bind user views as explorer views, refer to the document **Binding Built-in Views**.


#### Other Functional Optimizations

- Billing added prepaid card balance
- Infrastructure details style optimization
- Trace details page attribute line break display optimization
- Monitor configuration template variable display optimization
- Added shortcuts, DQL query and snapshot menus moved under shortcuts
- <<< custom_key.brand_name >>> management backend added template management classification information

### DataKit Update (2022/5/12)

- eBPF added arm64 support
- Line protocol construction supports automatic error correction
- DataKit main configuration added example configuration
- Prometheus Remote Write supports tag renaming
- Merged community edition DataKit features, mainly including Sinker functionality and filebeat collector
- Adjusted container log collection, DataKit directly supports collecting container stdout/stderr logs under containerd
- Adjusted hostname acquisition strategy in DaemonSet mode
- Trace collector supports filtering resources (`resource`) via service name (`service`) wildcard

More DataKit updates can be found in **DataKit Version History**.

### Best Practices Updates

- Cloud Native
    - Use <<< custom_key.brand_name >>> to start Rancher observability with one click
- Microservices Observability Best Practices
    - Kubernetes cluster application collects trace data using SkyWalking
    - Kubernetes cluster logs reported to the same node's DataKit best practice
- Gitlab-CI Observability Best Practices
    - Gitlab-CI Observability Best Practices

More best practice updates can be found in **Best Practice Version History**.

### Integration Template Updates

#### Added Documents and Views

- MIDDLEWARE
    - Resin
    - Beats
- HOST System
    - Procstat
#### Added Views

- Container Orchestration
    - Istio Service
- Alibaba Cloud
    - ASM Service


## May 6, 2022

### <<< custom_key.brand_name >>> Update

#### Optimized <<< custom_key.brand_name >>> Commercial Plan Upgrade Process

Upgrading <<< custom_key.brand_name >>> to the Commercial Plan defaults to enabling **<<< custom_key.brand_name >>> Billing Center Account Settlement**, supporting changing the settlement method to cloud account settlement, including **Alibaba Cloud Account** and **AWS Cloud Account** settlement methods.

#### Added Process, Log, Trace Details Page Linked Network

<<< custom_key.brand_name >>> **Process**, **Log**, **Trace** details pages added linked network data analysis, supporting viewing network traffic and data connections from source hosts/source processes to targets based on IP/port, visualizing real-time displays to help businesses understand the network operation status of their business systems, quickly analyze, track, and locate problem faults, preventing or avoiding business issues caused by decreased or interrupted network performance.

![](img/9.network_1.png)

#### Scenario Module Optimization

##### Optimized Dashboards, Removed Edit Mode

In the scenario **Dashboard** top navigation bar, removed the "Edit" button, added "Add Chart" to add new charts to the dashboard, after adding the chart, click the top-right «Complete Adding» to finish.


In the **Chart**, click the «Settings» button, select «Modify» to edit the chart.


##### Added Chart Link Display Toggle
<<< custom_key.brand_name >>> supports both built-in links and custom links, helping you jump from the current chart to the target page. Built-in links are default links provided by <<< custom_key.brand_name >>> for charts, mainly based on the current query time range and group labels, helping you view corresponding logs, processes, containers, traces. The built-in link display toggle is disabled by default and can be enabled during chart editing; custom links created show enabled by default. For more details, refer to the document **Chart Links**.

![](img/4.link_1.png)

##### Optimized Conversion Between DQL Query and Simple Query
Click the toggle button to the right of the **DQL Query** to switch between DQL Query and simple query.<br />Note: Switching from **DQL Query** to **Simple Query**, if unable to parse or incomplete parsing:

- If no operations are performed in **Simple Query**, switching back to **DQL Query** will display the previous DQL Query statement;
- If adjustments are made in **Simple Query**, switching back to **DQL Query** will parse according to the latest **Simple Query**.

For more applications of DQL Query and simple query, refer to the document **Chart Queries**.

![](img/3.dql_2.png)

#### Monitors and Events Module Optimization

##### Added Event Associated Information
<<< custom_key.brand_name >>> supports viewing related information triggering the current event, such as viewing logs related to the triggering event. This **associated information** only supports events generated by four types of monitors: log detection, Security Check anomaly detection, process anomaly detection, and Synthetic Testing Anomaly Detection.

![](img/7.event_1.png)

##### Added Data Interruption Event Name and Content Configuration
<<< custom_key.brand_name >>> monitors "Threshold Detection", "Water Level Detection", "Range Detection", "Sudden Change Detection", "Process Anomaly Detection", "Application Performance Metric Detection", "User Analysis Metric Detection" added data interruption event title and content configuration, defaulting to non-editable. When choosing to trigger a data interruption event, the event name becomes editable, supporting the use of predefined template variables. Refer to **Event Name/Content Templates** for details.

![](img/6.monitor_2.png)

##### Optimized Synthetic Testing
<<< custom_key.brand_name >>> monitor **Synthetic Testing**, optimized support for selecting HTTP, TCP, ICMP, WEBSOCKET test types.

##### Optimized Alert Notification Template, Added Associated Jump Links
Emails, DingTalk, WeChat, Lark received alert notifications include "<<< custom_key.brand_name >>> jump link", clicking directly jumps to the corresponding <<< custom_key.brand_name >>> event details. The time range is 15 minutes prior to the current time, i.e., for an event at 18:45:00, clicking the link jumps to the event details page with a fixed time range of 4.20 18:30:00 ~ 4.20 18:45:00. Refer to the document **Alert Settings** for more alert notifications.

#### Other Functional Optimizations

- Optimized service ServiceMap Metrics query performance
- Added support for numeric fields in the explorer with > | >= | < | <= | [] five syntaxes
- Added support for cascading filtering in Metrics explorer labels
- Optimized DQL query return error prompts

### DataKit Updates

- Filtering functions of the process collector only apply to Metrics collection, object collection remains unaffected
- Optimized DataKit sending DataWay timeout issues
- Optimized Gitlab collector
- Fixed log collection truncation issues
- Fixed various trace collectors reload issues where some configurations were not effective

More DataKit updates can be found in **DataKit Version History**.

### Integration Template Updates

#### Added Redis Sentinel Data Storage Integration Documentation and Views

Redis-sentinel observation scenarios mainly showcase Redis cluster, slaves, and node distribution information.

![](img/777Z.png)


## April 26, 2022

### <<< custom_key.brand_name >>> Update

#### Optimized SSO Single Sign-On

<<< custom_key.brand_name >>> supports users initiating SSO single sign-on within workspaces by entering company email, obtaining corresponding SSO login, and completing verification. In <<< custom_key.brand_name >>> workspace «Manage» - «SSO Management» - «Enable», you can set up SSO single sign-on for employees. The optimizations mainly include the following:

- A workspace updated from supporting creation of multiple identity providers to supporting only one SSO single sign-on configuration, defaulting to considering the last updated SAML2.0 configuration as the final single sign-on entry
- If multiple workspaces are configured with the same identity provider (IdP) data, after SSO single sign-on, you can switch to view data from corresponding workspaces
- During SSO single sign-on configuration, "user whitelist" configuration replaced with "email domain", requiring only the email suffix domain configuration to match with the identity provider (IdP) configured user email suffix for single sign-on
- SSO single sign-on enablement, configuration updates, and deletions support email notifications and audit event generation
- SSO single sign-on users support deletion and editing, with editing able to upgrade permissions to "Administrator"

For more SSO single sign-on details, refer to the document **SSO Management**.

![](img/12.sso_4.png)

## April 21, 2022

### <<< custom_key.brand_name >>> Community Edition Launch

<<< custom_key.brand_name >>> Community Edition provides teachers, students, cloud computing enthusiasts, and other community users with a simple, easy-to-obtain, and fully functional productized local deployment platform. Apply for free and download to try, build your own <<< custom_key.brand_name >>> platform, and experience complete product functionality.

### <<< custom_key.brand_name >>> Update

#### Added Gitlab CI Observability

<<< custom_key.brand_name >>> supports visualization of the CI process and results within Gitlab. You can directly view Gitlab CI results through <<< custom_key.brand_name >>>'s CI visualization feature. The CI process involves continuous integration, where developers, upon encountering issues while pushing code, can view all CI pipelines, success rates, failure reasons, specific failure stages, providing assurance for code updates. Refer to **CI Explorer** for more details.

![](img/10.ci_7.1.png)

#### Added Online Help Assistant Orbis

<<< custom_key.brand_name >>> Orbis assistant supports you in quickly viewing basic tutorials, advanced guides, best practices, DataKit, Func, and other documents within the workspace. You can click on provided keywords or directly input keywords in the search bar to search, helping you quickly obtain relevant document explanations. Refer to the document **Help** for more details.

![](img/3.help_1.3.png)

#### Added Dashboard Refresh Frequency Setting

<<< custom_key.brand_name >>> supports setting refresh frequency in the scenario dashboard. The initial default refresh frequency is 30 seconds, supporting 10 seconds, 30 seconds, and 60 seconds options. If the time widget is "Paused," no refresh occurs.

![](img/9.dashboard_1.png)

#### Added Process 48-hour Playback

<<< custom_key.brand_name >>> infrastructure processes support viewing **recently collected process data within ten minutes**, clicking the time range can view 48-hour playback of processes. Dragging pauses refreshing, time displays as: [start time-end time], query time range is 5 minutes. Click the «Play» button or refresh the page to return to viewing «recent 10 minutes» processes.

![](img/8.process.png)

#### Added Integrated DataKit Kubernetes(Helm) Installation Guide Page

In the <<< custom_key.brand_name >>> integrated DataKit installation guide page, a new Kubernetes(Helm) installation guide was added, introducing how to install DataKit using Helm in K8S.

![](img/11.changelog_12.png)

#### Added Global Overview, Service Classification Filtering, and Environment/Version Differentiation in Service Maps for Application Performance

Application Performance Monitoring added a global performance overview view. You can view online service count, P90 service response time, service maximum impact time, service error count, and service error rate statistics on the overview page. Additionally, you can view the Top10 rankings for P90 service, resource, and operation response times, as well as Top10 rankings for service error rate, resource 5xx error rate, and resource 4xx error rate.

![](img/1.apm_3.png)

In the application performance service list, you can classify and filter by clicking the service type icon, clicking again restores full viewing.

![](img/1.apm_2.png)

In the service list, switching to «Topology» mode allows you to view the invocation relationships between services. Supports drawing trace topology maps based on service (service) and service environment version (service+env+version) dimensions. Enabling "differentiate environment and version" draws service topology maps according to different environment versions. For example, with Canary releases, by enabling environment and version differentiation, you can view service invocation situations under different environment versions.

![](img/11.changelog_21.png)

#### Optimized SSO Single Sign-On Configuration
SSO single sign-on configuration adjusts user whitelists to email domains, used to verify whether the email suffix entered during single sign-on matches, allowing matched emails to obtain the SSO login link online. More SSO configuration details can be found in the document **SSO Management**.

![](img/12.sso_2.png)

#### Other Functional Optimizations

- Added "All Sources" option for associated logs in trace details pages 
- Added support for inverted selection in Metrics filtering, adjusted aggregation function positions
- Optimized frequency of log, application performance, user access, Security Check Metrics generation, with selected time also serving as the aggregation cycle
- Canceled <<< custom_key.brand_name >>> Deployment Plan workspace owner transfer permission function, supports backend management settings
- Optimized alert notification SMS templates
- Optimized Synthetic Tests creation test lists, supporting direct selection of HTTP, TCP, ICMP, WEBSOCKET tests

### DataKit Updates

- Pipeline module fixed Grok dynamic multi-line pattern issues
- DaemonSet optimized Helm installation, added pprof environment variable configuration, all default enabled collectors in DaemonSet support environment variable configuration
- Tracing collector initially supports Pipeline data processing.
- Test collector added failed task exit mechanism
- Logs added `unknown` level (status), logs without specified levels are `unknown`
- Container collector fixes:
    - Fixed cluster field naming issues
    - Fixed namespace field naming issues
    - In container log collection, if Pod Annotation does not specify log `source`, DataKit will infer log sources according to this priority
    - Object reporting no longer subject to 32KB character length limits (due to Annotation content exceeding 32KB), all Kubernetes objects remove `annotation` 

More DataKit updates can be found in **DataKit Version History**.

### Best Practices Updates

- Microservices Observability Best Practices
    - Service mesh microservice architecture from development to Canary release full-process best practices (Part 1)
    - Service mesh microservice architecture from development to Canary release full-process best practices (Part 2)
    - Service mesh microservice architecture from development to Canary release full-process best practices (Part 3)
- Monitoring Best Practices
    - JAVA OOM Exception Observability Best Practices

More best practice updates can be found in **Best Practice Version History**.

### Integration Template Updates

#### Added Documents

- Application Performance Monitoring (APM)
    - Node.JS
    - Ruby
- MIDDLEWARE
    - RocketMQ
- Container Orchestration
    - Istio
    - Kube State Metrics
- Data Storage
    - Aerospike
#### Added Views

- Container Orchestration
    - Kubernetes Overview by Pods
    - Istio Mesh
    - Istio Control Plane
- Alibaba Cloud
    - Alibaba Cloud ASM Mesh
    - Alibaba Cloud ASM Control Plane
    - Alibaba Cloud ASM Workload
- MIDDLEWARE
    - RocketMQ


## April 8, 2022

### <<< custom_key.brand_name >>> Billing Update

#### Added Alibaba Cloud Account Settlement Method

In <<< custom_key.brand_name >>> Billing Center «Manage Workspace», you can view all bound workspaces under the account, modify the settlement method of already bound workspaces, and freely switch between <<< custom_key.brand_name >>> Billing Center accounts, Amazon cloud accounts, and Alibaba Cloud accounts through "Change Settlement Method".

### <<< custom_key.brand_name >>> Update

#### Added DQL Query Explorer

DQL is a language specifically developed for <<< custom_key.brand_name >>>, with simple grammar for easy use. You can perform data queries within the <<< custom_key.brand_name >>> workspace or terminal device using DQL language.

In the <<< custom_key.brand_name >>> workspace, click the menu bar's «DQL Query» to open the DQL Query Explorer, or press the shortcut key `Alt+Q` to directly open DQL Query. The DQL Query Explorer supports table and JSON return results, saving 7 days of historical query records.

![](img/3.dql_1.png)

#### Added TCP/ICMP/Websocket Test Protocols in Synthetic Tests

<<< custom_key.brand_name >>> supports custom test tasks. By creating test tasks based on different protocols such as HTTP, TCP, ICMP, WEBSOCKET, you can comprehensively monitor the network performance, network quality, and network data transmission stability of various services in different regions and carriers.

![](img/4.dailtesting_tcp_1.1.png)

#### Added Infrastructure Network Module

In infrastructure, the original HOST network Map and Pod network Map have been moved from the HOST and CONTAINERS modules to the new module "NETWORK", supporting viewing HOST and Pod network Maps. Pod network Map fill indicators added Layer 7 network indicators: requests per second, error rate, and average response time. For more details, refer to the document **NETWORK**.

![](img/5.network_2.png)

#### Added Layer 7 HTTP Network Data Display in Infrastructure Container Pod

Infrastructure container Pod added Layer 7 HTTP network data collection and display. After successful collection of Pod network data, it is reported to the <<< custom_key.brand_name >>> workspace. In «Infrastructure» - «CONTAINERS» - «Pod» details page's «Network», you can view all Pod network performance monitoring data information within the workspace. For more details, refer to the document **Pod NETWORK**.

![](img/5.network_4.png)

#### Added Quick Filter "Inverted Selection" and "Reset" Functions in Explorer

In any explorer's "Quick Filter", supports "inverted selection" or "reset" when selecting field filter content, "inverted selection" hides selected field filter content (clicking "inverted selection" again returns to the selected state), "reset" clears filter conditions. For more details, refer to **Log Explorer Quick Filter**.

![](img/1.log_7.png)


#### Optimized Log Blacklist

<<< custom_key.brand_name >>> supports filtering out logs that match conditions by setting log blacklists. After configuring the log blacklist, logs that match the conditions will no longer be reported to the <<< custom_key.brand_name >>> workspace, helping users save log data storage costs.

Log blacklist optimization supports matching all log sources andsupports two blacklist configuration methods:

- Triggers blacklist filtering if any of the filtering conditions are met
- Triggers blacklist filtering only if all filtering conditions are met

For more blacklist configurations, refer to the document **Log Blacklist**.

![](img/1.log_10.png)

#### Other Functional Optimizations

- Added span count statistics in trace details page
- Optimized timeline drawing method for associated hosts in traces
- Optimized overview chart time slicing, removed options. If previous overview charts had time slicing enabled, it defaults to disabling time slicing after optimization
- Optimized combined chart editing issues where switching between different chart queries was not possible after entering edit mode in browser zoom scenarios
- Optimized log explorer manual pause page refresh, where scrolling to the top does not trigger automatic refresh after pausing

### DataKit Updates

- Increased memory limits for host runtime, supporting memory limit configuration during installation
- CPU collector added load5s metric
- Supports <<< custom_key.brand_name >>> optimized log blacklist functionality, adjusted monitor layout, added blacklist filter situation display
- DaemonSet installation added Helm support, new best practices for DaemonSet installation
- eBPF added HTTP protocol collection. During HOST installation, the eBPF collector is no longer installed by default (specific installation commands required). DaemonSet installation remains unaffected

For more DataKit updates, refer to **DataKit Version History**.

### <<< custom_key.brand_name >>> Mobile APP Update

Added site login capabilities, optimized scenario and event explorers, maintaining the same access experience as the web version.

- Supports users selecting accounts corresponding to sites, logging in via account password or verification code.
- Supports users viewing logs from all sources or a single source
- Supports users viewing all dashboards under the current space and quickly filtering through dropdown menus for "All Dashboards", "My Favorites", "Imported Projects", "My Creations", and "Frequently Browsed" to find corresponding dashboards.
- In the **Event** explorer, supports viewing, searching, and filtering all unrecovered events triggered by the anomaly detection library through «All»; through «My» events, view unrecovered events notified to users via email, DingTalk bot, WeCom bot, Webhook, etc.

### Best Practices Updates

- <<< custom_key.brand_name >>> Tips
    - Performance observability practice for multiple microservice projects
    - Advanced usage of ddtrace
    - Kubernetes cluster using ExternalName to map DataKit services
- Integration Best Practices
    - Best practices for OpenTelemetry trace data integration
- Microservices Observability Best Practices
    - Achieving microservice observability based on Alibaba Cloud ASM best practices


For more best practice updates, refer to **Best Practice Version History**.

### Integration Template Updates

#### Added Alibaba Cloud PolarDB Oracle Integration Documentation, Views, and Monitors

Alibaba Cloud PolarDB Oracle Metrics display includes CPU usage rate, memory usage rate, network traffic, connection count, IOPS, TPS, data disk size, etc.

![](img/image57.png)

#### Added Alibaba Cloud PolarDB PostgreSQL Integration Documentation, Views, and Monitors

Alibaba Cloud PolarDB PostgreSQL Metrics display includes CPU usage rate, memory usage rate, network traffic, connection count, IOPS, TPS, data disk size, etc.

![](img/image56.png)

#### Added Alibaba Cloud RDS SQLServer Integration Documentation, Views, and Detection Libraries

Alibaba Cloud RDS SQLServer Metrics display includes CPU usage rate, disk usage rate, IOPS, network bandwidth, TPS, QPS, etc.

![](img/image55.png)

#### Added DataKit Integration Documentation, Views, and Monitors

DataKit performance Metrics display includes CPU usage rate, memory information, runtime, log records, etc.

![](img/image54.png)

#### Added Nacos Integration Documentation, Views

Nacos performance Metrics display: Nacos online duration, Nacos config long connection count, Nacos config count, Service Count, HTTP request counts, etc.

![](img/image53.png)

## March 24, 2022

### <<< custom_key.brand_name >>> Site Updates

<<< custom_key.brand_name >>> now supports multi-site login and registration. A new site "Overseas Region 1 (Oregon)" has been added. The original "China Region 1 (Alibaba Cloud)" has been changed to "China Region 1 (Hangzhou)", and the original "China Region 2 (AWS)" has been merged into "China Region 2 (Ningxia)".

Accounts and data between different sites are independent and cannot be shared or migrated. You can choose the appropriate site for registration and login based on your resource usage. Currently, <<< custom_key.brand_name >>> supports the following three sites. For how to choose a site, please refer to the document **<<< custom_key.brand_name >>> Site Description**.

| Site | Login Address URL | Operator |
| --- | --- | --- |
| China Region 1 (Hangzhou) | **https://auth.<<< custom_key.brand_main_domain >>>/** | Alibaba Cloud (China Hangzhou) |
| China Region 2 (Ningxia) | **https://aws-auth.<<< custom_key.brand_main_domain >>>/** | AWS (China Ningxia) |
| Overseas Region 1 (Oregon) | **https://us1-auth.<<< custom_key.brand_main_domain >>>/** | AWS (US Oregon) |


### <<< custom_key.brand_name >>> Update

#### Added Workspace Data Authorization

<<< custom_key.brand_main_domain >>> supports authorizing data from multiple workspaces to the current workspace via data authorization. This allows querying and displaying data through scenario dashboards and notebook chart components. If you have multiple workspaces, after configuring data authorization, you can view all workspace data in one workspace. For more configuration details, please refer to the document **Data Authorization**.

1. In the "Management" - "Data Authorization", configure the workspace that needs authorization to view data



2. After the workspace obtains data authorization, open "Scenario" - "Dashboard or Notebook", select the chart component, choose the authorized workspace under "Settings" - "Workspace", and then you can use **Chart Query** to view and analyze the data of the authorized workspace.



#### Added Saving Online Pipeline Sample Test Data

<<< custom_key.brand_name >>> Pipeline supports two types: custom and official library:

- After writing custom Pipeline script rules, you can input log sample data for testing to verify whether your configured parsing rules are correct. After saving the custom Pipeline, the log sample test data is saved synchronously.
- The official Pipeline library comes with multiple log sample test data options. Before "cloning", you can choose the log sample test data that fits your needs. After modifying and saving the cloned Pipeline, the log sample test data is saved synchronously.

For more details on online Pipeline functionality, please refer to the document **Pipelines**.

![](img/10.pipeline_1.png)

#### Optimized Resource Catalog Explorer

In the <<< custom_key.brand_name >>> workspace, through "Infrastructure" - "Customization" - "Add Object Classification", you can create new object classifications and define resource catalog classification names and object fields.

After adding the resource catalog classification, you can report custom data through the **Func Function Processing Platform**. For how to report data to the <<< custom_key.brand_name >>> workspace through Func, please refer to the document **Resource Catalog Data Reporting**.

![](img/11.custom_1.png)

#### Optimized Snapshot Sharing Supporting Permanent Links

Snapshot sharing supports setting an expiration time, allowing you to choose "48 hours" or "permanent validity". In the snapshot list, click the share button, and in the pop-up dialog box, you can make advanced settings such as "hide top bar". For more snapshot sharing details, please refer to the document **Snapshots**.

Note: Permanent validity sharing may pose data security risks, so please use it with caution.

![](img/6.share_4.png)

#### Optimized Chart Time Intervals

In the chart settings of the scenario dashboard, if you choose "auto-align" for the time interval, when previewing the chart, a time interval option will appear in the upper right corner of the chart. You can choose the time interval according to your actual situation to view your data.

![](img/8.table_1.png)

#### Optimized Process, Application Performance, User Access Monitoring Data Gap Trigger Strategies

In the <<< custom_key.brand_name >>> monitoring feature module, when configuring process anomaly detection, application performance metric monitoring, and user access metric monitoring, the data gap state supports three configurations: "trigger data gap events", "trigger recovery events", and "do not trigger events". You need to manually configure the data gap handling strategy.

#### Other Feature Optimizations

- Optimized integration of DataKit and Func installation guide pages
- Optimized full display of single log in the log viewer
- Added NOT combination in viewer associated search
- Optimized member permission display during editing

### DataKit Update

- Added command-line completion functionality for DataKit, helping you with command prompts and parameter completions in terminal operations.
- Allowed DataKit to upgrade to non-stable versions, enabling you to experience the latest experimental features. Please proceed with caution if you're in a production environment.
- Preliminarily supported data collection for Kubernetes/Containerd architectures.
- Added support for TCP/UDP/ICMP/Websocket protocols in network tests.
- Adjusted the storage of Remote Pipelines in DataKit locally to avoid case-sensitivity issues caused by different file systems.
- Added `decode()` function to Pipeline, which can handle encoding conversions within the Pipeline without configuring encodings in the log collector; `add_pattern()` enhanced scope management.

For more DataKit updates, please refer to **DataKit Version History**.

### Best Practices Update

- Scenario Best Practices
    - RUM Data Reporting DataKit Cluster Best Practices
- Log Best Practices
    - Pod Log Collection Best Practices

For more best practice updates, please refer to **Best Practice Version History**.

### Integration Template Update

#### Added Alibaba Cloud PolarDB Mysql Integration Documentation, Views, and Detection Libraries

Alibaba Cloud PolarDB Mysql metrics display includes CPU usage, memory hit rate, network traffic, connection count, QPS, TPS, read-only node latency, etc.

![](img/image51.png)


## March 10, 2022

### <<< custom_key.brand_name >>> Billing Update

#### Added <<< custom_key.brand_name >>> Prepaid Card

The <<< custom_key.brand_name >>> prepaid card supports purchasing through account cash balance and applies to all consumption modes of <<< custom_key.brand_name >>>, including pay-as-you-go and annual packages. Log in to the <<< custom_key.brand_name >>> **Billing Center**, click "Manage Prepaid Cards" to enter the prepaid card management page and purchase. After the prepaid card is purchased and paid for, invoices are issued according to the actual payment amount. For more details, please refer to **Prepaid Card Management**.

### <<< custom_key.brand_name >>> Update

#### Added User Access Monitoring Viewers for Resources (Resources), Actions (Actions), Long Tasks (Long Tasks), Errors (Errors)

User access monitoring viewers help you view and analyze detailed information about users accessing applications. Open "User Access Monitoring" in the <<< custom_key.brand_name >>> workspace, and after clicking any application, you can use the "Viewer" to understand each user session, page performance, resources, long tasks, dynamic components' errors, delays affecting users, and help improve the operational status and usability of applications through searching, filtering, and correlated analysis, thereby enhancing user experience.

<<< custom_key.brand_name >>> user access monitoring viewers include sessions (Sessions), views (Views), resources (Resources), actions (Actions), long tasks (Long Tasks), and errors (Errors).

| Viewer Type | Overview |
| --- | --- |
| Session (Session) | View a series of details about user visits, including visit times, visited page paths, number of visits, visit paths, and error messages encountered. |
| View (View) | View user access environments, trace back user operation paths, break down user operation response times, and understand performance metrics of backend application calls triggered by user operations. |
| Resource (Resource) | View various resource information loaded on web pages, including status codes, request methods, resource addresses, and loading times. |
| Action (Action) | View user interactions while using the application, including operation types, detailed page operation information, and operation durations. |
| Long Task (Long Task) | View long tasks blocking the main thread for over 50ms while users use the application, including page addresses and task durations. |
| Error (Error) | View frontend errors issued by browsers while users use the application, including error types and contents. |

#### Added Pod Network Details and Distribution

Pod network supports viewing network traffic between Pods. It supports viewing network traffic and data connections between source IP and destination IP based on IP/port, visualized in real-time to help businesses understand the network operation status of their business systems, quickly analyze, track, and locate fault problems, preventing or avoiding business issues caused by decreased or interrupted network performance.

After successful collection of Pod network data, it is reported to the <<< custom_key.brand_name >>> console. In "Infrastructure" - "Containers" - "Pod" detail pages under "Network," you can view all Pod network performance monitoring data in the workspace. For more details, please refer to **Pod Network**.

![](img/7.pod_1.png)

In "Infrastructure" - "Containers" - "Pod," click the small icon in the upper left corner of the network distribution diagram to switch to viewing Pod network distribution. In the "Network Distribution Diagram," you can visually query network traffic between Pods in the current workspace, quickly analyzing TCP latency, TCP fluctuations, TCP retransmission counts, TCP connection counts, and TCP closure counts between different Pods. For more details, please refer to **Pod Network Distribution Diagram**.

![](img/7.pod_3.png)

### DataKit Update

- DataKit collector added support for SkyWalking, Jaeger, and Zipkin data sampling strategies.
- DataKit collector added support for OpenTelemetry data ingestion.
- DataKit documentation library added an overall log collection introduction, including four methods: obtaining logs from disk files, acquiring logs through environmental API calls, remote pushing logs to DataKit, and Sidecar-style log collection.

#### Breaking Changes

**2022/03/22**

- Major adjustments were made to Tracing data collection, involving several incompatible changes:
    - The `ignore_resources` field in DDtrace's existing conf must be changed to `close_resource`, and its type has changed from array (`[...]`) to dictionary array (`map[string][...]`).
    - The tag `**type**` collected in DDTrace’s original data has been renamed to `**source_type**`.

**2022/03/04**

- If the old version of DataKit had the RUM function enabled, after upgrading, you need to reinstall the IP library, as the old IP library will no longer work.

**2021/12/30**

- Pushing new upgrade commands through `datakit --version` in older versions of DataKit is no longer possible. Use the following commands instead:

- Linux/Mac:

```shell
DK_UPGRADE=1 bash -c "$(curl -L https://static.<<< custom_key.brand_main_domain >>>/datakit/install.sh)"
```

- Windows

```powershell
$env:DK_UPGRADE="1"; Set-ExecutionPolicy Bypass -scope Process -Force; Import-Module bitstransfer; start-bitstransfer -source https://static.<<< custom_key.brand_main_domain >>>/datakit/install.ps1 -destination .install.ps1; powershell .install.ps1;
```

For more DataKit updates, please refer to **DataKit Version History**.

### SDK Update

User access monitoring compatible with Opentracing protocol link tracking tools, Web, Mini Programs, Android, iOS SDKs support OTEL, SkyWalking, Jaeger, etc., link tracking tool data linkage.

### Best Practices Update

- Custom Integration Best Practices
    - Quick Start Python Collector Best Practices
    - Alibaba Cloud “Cloud Monitoring Data” Integration Best Practices
- Log Best Practices
    - Logback Socket Log Collection Best Practices

For more best practice updates, please refer to **Best Practice Version History**.

### Scenario Template Update

#### Added Scenario Custom Viewer MySQL Database Viewer Template

<<< custom_key.brand_name >>>'s scenario custom viewer added a MySQL database viewer template, helping you set up a MySQL log viewer with one click. In the <<< custom_key.brand_name >>> workspace, go to "Scenarios" - "Viewer" - "Built-in Viewer Templates," click "MySQL Viewer Template" to directly create a MySQL log viewer. If related logs have already been collected, you can use this log viewer to view and analyze the data.

![](img/11.changelog_11.png)

### Integration Template Update

#### Added Host System EthTool Integration Documentation and Views

EthTool metrics include network interface inbound/outbound traffic, inbound/outbound packets, dropped packets, etc.

![](img/image44.png)

#### Added Host System Conntrack Integration Documentation and Views

Conntrack performance metrics include successful searches, inserted packets, connection counts, etc.

![](img/image43.png)


## February 22, 2022

#### Added Log Configuration Pipeline Script

Pipeline is used for log data parsing. By defining parsing rules, heterogeneous logs can be split into structured data that meets our requirements. <<< custom_key.brand_name >>> provides three log Pipeline text processing methods:

- DataKit: After installing DataKit on the server, configure the DataKit log collector and corresponding pipeline file in the terminal tool to process text data;
- DCA: DataKit Control APP, the desktop client application for DataKit, requires installation first. After installation, you can view and edit the default log pipeline files of DataKit and manually add pipeline files;
- Pipelines: Support manual configuration and viewing of log pipeline files in the <<< custom_key.brand_name >>> workspace, without needing to log in to the DataKit server for operations.

![](img/6.pipeline_1.png)

#### Added IFrame Chart Component

<<< custom_key.brand_name >>> added an IFrame chart component, supporting you to configure https or http link addresses. You can directly input external addresses in the IFrame URL, or use template variables in the IFrame URL for viewing. For more configuration details, please refer to the document **IFrame**.

![](img/7.ifram_2.png)

#### Added Event Detail Historical Records, Associated SLO

Observation optimized the layout of basic properties, status & trends, and associated events on the event detail page, and added historical records and associated SLOs, which can be viewed by clicking the event name in the anomaly event list.

Added event history records, supporting viewing of detection object hosts, anomaly/recovery times, and duration.

![](img/9.event_6.png)

If SLO is configured in the monitoring, then associated SLO can be viewed, including SLO name, compliance rate, remaining quota, target, and other information.

![](img/9.event_8.png)

#### Added Default Absolute Time When Saving Snapshots

<<< custom_key.brand_name >>> added the default activation of absolute time when saving snapshots.

- If absolute time is selected when saving a snapshot, the shared link will display the absolute time when the snapshot was saved. For example, if you save a snapshot choosing the last 15 minutes and open the snapshot link at 14:00, it will show the data of the previous absolute time;
- If absolute time is deselected when saving a snapshot, the shared link will still display the absolute time when the snapshot was saved. For example, if you save a snapshot choosing the last 15 minutes and open the snapshot link at 14:00, it will show the data from 13:45 to 14:00.

For more snapshot sharing details, please refer to the document **Snapshots**.

![](img/8.snap_1.png)

#### Optimized Monitor Data Gap Trigger Event Configuration and Trigger Condition Unit Prompt

<<< custom_key.brand_name >>> added three data gap state configurations: "Trigger Data Gap Events", "Trigger Recovery Events", and "Do Not Trigger Events".

- When configuring metric data monitors, you need to manually configure the data gap handling strategy;
- When configuring log data monitors, the default selection is the "Trigger Recovery Events" strategy, which does not require data gap configuration. Obtain the cycle from the "Normal" condition as the data gap recovery event cycle;

![](img/11.changelog1.png)

#### Optimized Chart Query Expression Calculation Units

<<< custom_key.brand_name >>> optimized the logic for calculating units in chart queries. If query A has a unit, the result of query A and a number will also have the same unit. For example, if A's unit is KB, then the unit of A+100 is also KB. For more details, please refer to the document **Chart Queries**.

#### Added "Time Series" Pay-As-You-Go Mode

<<< custom_key.brand_name >>> added a "Time Series" pay-as-you-go mode and optimized the "DataKit + Time Series" pay-as-you-go mode. Specific billing modes can be found in the document **Pay-As-You-Go**.

#### Other Optimization Features

- Chart queries support full selection (*) for logs, application performance, security checks, and networks;
- Optimized chart query captions, button styles, and text prompts;
- Workspace operation button icons, such as edit, delete, etc.;
- Other UI display optimizations

## January 20, 2022

#### Added Open API and API Key Management

"<<< custom_key.brand_name >>>" supports retrieving and updating <<< custom_key.brand_name >>> workspace data through calling Open API interfaces. Before calling the API interface, you need to create an API Key as the authentication method. For more details, please refer to the document **API Key Management**.

![](img/image42.png)

#### Added Metric Dictionary and Metric Unit Management

After collecting metric data, you can view all collected measurement sets and their metrics and tags in the "Metric Dictionary" section of the <<< custom_key.brand_name >>> workspace. You can manually set units for custom metric data. For more details, please refer to the document **Metric Dictionary**.

- Metrics help you understand the overall availability of the system, such as server CPU usage, website load times, etc. Combined with <<< custom_key.brand_name >>> provided logs and link tracing, they help you quickly identify and resolve faults.
- Tags help you associate data. <<< custom_key.brand_name >>> supports reporting all metrics, logs, and link data uniformly to the workspace. Associating collected data with the same tags for queries helps perform correlation analysis, discovering and resolving potential risks.

![](img/7.metrics_1.png)

#### Added Funnel Chart for Scenarios

Funnel charts are generally suitable for normative, long-term, multi-stage process analyses. Comparing data across stages with funnel charts allows intuitive problem identification. Additionally, funnel charts are applicable for website business flow analysis, showing the final conversion rate of users from entering the site to making a purchase, as well as the conversion rate for each step. For more details, please refer to the document **Funnel Chart**.

![](img/image41.png)

#### Added Saving Dashboards to Built-in Views and Binding Label Data

After creating a dashboard view, you can click the "Settings" button, select "Save to Built-in Views," and save the dashboard view to the "User Views" in built-in views.

![](img/4.dashboad_1.png)

When saving the dashboard view to the built-in view, you can choose to bind relationships and select the binding relationship "label." After saving to the built-in view, you can view the saved dashboard view in the "User Views" under "Management" - "Built-in Views" in the <<< custom_key.brand_name >>> workspace. Simultaneously, because the binding relationship `label:*` is set, the host and container detail pages configured with "Label Properties" in infrastructure can display the bound built-in views. For more details, please refer to the document **Saving Dashboards as Built-in Views**.

![](img/4.dashboad_3.png)

#### Added Container Details Page Association with Pod

On the container details page, you can view basic information and performance indicator states of relevant Pods (associated field: pod_name) within the selected time component range. For more container-related queries, please refer to the document **Container**.<br />Note: To view related Pods in the container details, the field "pod_name" must match; otherwise, you won't be able to see the related Pod pages in the container details.

![](img/8.contrainer_1.png)

#### Added Monitor Group Management

<<< custom_key.brand_name >>> added grouping functionality, allowing you to create meaningful monitor combinations when setting up monitors. You can filter monitors by "Group" for easier group management of various monitors.

Note:
- Each monitor created must belong to a group; by default, it selects "Default Group";
- When a group is deleted, monitors under that group will automatically be categorized under the "Default Group."

![](img/2.monitor_1.png)

#### Added Log Viewer, Table Chart, Log Stream Chart Formatting Configuration

<<< custom_key.brand_name >>> added formatting configuration to allow hiding sensitive log data content or highlighting necessary log data content for viewing. You can also replace original log content for quick filtering. Supports formatting configuration in the log viewer, table chart, and log stream chart.

![](img/5.browser_5.png)

#### Optimized Mute Management, Added Disable/Enable Rules

<<< custom_key.brand_name >>> added mute rule disable/enable functionality to help you quickly disable/enable mute tasks. For more details, please refer to the document **Mute Management**.

- Enable: Mute rules execute normally
- Disable: Mute rules are ineffective; if mute notification strategies are set to "xx minutes before start" and mute notifications have not yet been executed, notifications will not be executed

Note: Both enable/disable rules generate audit events, which can be viewed under "Operation Audit" in "Management" - "Basic Settings" in the <<< custom_key.brand_name >>> workspace.

![](img/2.monitor_6.png)

#### Added Log Pipeline User Manual

<<< custom_key.brand_name >>> added a log pipeline user manual to help you understand how to write Pipeline scripts using the debugging tools built into DataKit.

```
# Debugging Script Example
datakit --pl datakit.p --txt '2022-01-12T18:40:51.962+0800 WARN diskio diskio/input.go:320 Error gathering disk info: open /run/udev/data/b252:1: no such file or directory'

# Successful Extraction Example
Extracted data(drop: false, cost: 3.108038ms):
{
  "code": "diskio/input.go:320",
  "level": "WARN",
  "message": "2022-01-12T18:40:51.962+0800 WARN diskio diskio/input.go:320 Error gathering disk info: open /run/udev/data/b252:1: no such file or directory",
  "module": "diskio",
  "msg": "Error gathering disk info: open /run/udev/data/b252:1: no such file or directory",
  "time": 1641984051962000000
}
```

#### Added Outer Functions to DQL

<<< custom_key.brand_name >>> added two outer functions `rate()` and `irate()`.

- `rate()`: Calculates the average rate of change for a given metric over a certain time range. Suitable for alerts and slowly moving counters.
- `irate()`: Calculates the instantaneous rate of change for a given metric over a certain time range. Suitable for drawing volatile, fast-changing counters.

For more details, please refer to the document **DQL Outer Functions**.
