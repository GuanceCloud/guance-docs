# Change Log (2022)
---

This document records the update content of each online release of <<< custom_key.brand_name >>>, including DataKit, <<< custom_key.brand_name >>> best practices, <<< custom_key.brand_name >>> integration documents, and <<< custom_key.brand_name >>>.

## December 29, 2022

### <<< custom_key.brand_name >>> Updates

#### Added MFA Authentication Management

<<< custom_key.brand_name >>> provides MFA authentication management to add an extra layer of security protection beyond account usernames and passwords. After enabling MFA authentication, you need to perform a second verification during login, helping improve account security. For more details, refer to the documentation **MFA Management**.

#### Added Workspace IP Access Login Whitelist

<<< custom_key.brand_name >>> supports configuring an IP whitelist for workspaces to restrict visitor users. After enabling the IP whitelist, only IPs from the whitelist can log in normally, and all other source requests will be denied access. For more details, refer to the documentation **IP Whitelist**.

Note: The IP whitelist is only configurable by administrators and owners. Additionally, "owners" are not subject to IP whitelist access restrictions.

![](img/6.space_ip_1.png)

#### Added Service Network Topology

In K8S environments, you can use the Service network topology diagram to view request relationships, response times, error rates, etc., between various Services in the K8S environment. When discovering connection issues with a particular Service, you can click to view the corresponding logs of that Service to pinpoint problems. For more details, refer to the documentation **Service Network**.

![](img/5.service_map_1.2.gif)

#### Other Functional Optimizations

- Pipeline usage optimization
- Log clustering analysis supports custom fields
- Super large log slicing now supports viewing associated logs
- Backup log display optimization
- Sensitive fields of data authorization support all types of data except Metrics

### DataKit Updates

- Prometheus collector supports collecting data via Unix Socket
- Allows **non-root user operation of DataKit**

- Optimized eBPF's httpflow protocol judgment
- Optimized Windows Datakit installation upgrade commands
- Optimized Pythond encapsulation usage
- Pipeline provides more detailed operation error information
- Pipeline reftable offers localized storage implementation based on SQLite

For more DataKit updates, refer to **DataKit Version History**.

### Smart Inspection Updates

#### Official Smart Inspection Discontinued

Official smart inspections for "memory leaks", "application performance detection", and "disk usage" have been discontinued as of today. Users can configure self-built inspection scripts.

#### Added Cloud Account Instance Dimension Billing Inspection

Cloud account instance dimension billing inspection helps users manage abnormal cost warnings at the cloud service instance level, predict cost situations, and provide high-growth, high-consumption instance prompts and bill visualization capabilities, supporting multi-dimensional visualization of cloud service resource consumption.

#### Added Alibaba Cloud Preemptible Instance Survival Inspection

Due to fluctuations in market prices for preemptible instances, it is necessary to specify a bidding model when creating a preemptible instance. If the real-time market price for the specified instance specification is lower than the bid and there is sufficient inventory, the creation of a preemptible instance can succeed. Therefore, it is particularly important to inspect preemptible instances for cloud assets. Through inspection, when it is detected that a preemptible instance is about to be released, it will prompt the latest prices for all available zones of the current specification preemptible instance as well as the historical prices of this preemptible instance and provide appropriate handling recommendations.

For more smart inspection updates, refer to **Smart Inspection Update Logs**.

## December 15, 2022

### <<< custom_key.brand_name >>> Updates

#### Added Profile and Network Billing

<<< custom_key.brand_name >>> has added Profile and Network billing items. Profile counts the number of application performance Profiles reported in the workspace on the same day, and Network counts the number of hosts (host) reporting network data in the workspace on the same day. For more details, refer to the documentation **Billing Method**.

#### <<< custom_key.brand_name >>> Registration Process Optimization

<<< custom_key.brand_name >>> has simplified the registration process to help you quickly complete registration and start using <<< custom_key.brand_name >>>. For more details, refer to the documentation **Register <<< custom_key.brand_name >>> Commercial Plan**.

#### Added Warroom Functionality

<<< custom_key.brand_name >>> provides a "Warroom" dashboard where you can get an overview of key metric trends across all workspaces, helping you quickly understand critical data conditions in each workspace and promptly identify and resolve anomalies. For more details, refer to the documentation **Key Metric Management**.

![](img/3.key_metrics_6.1.png)

#### Added Dashboard Carousel Functionality

<<< custom_key.brand_name >>> provides carousel functionality for multiple related business dashboards, which can be set up for display on large screens. For more details, refer to the documentation **Carousel Dashboards**.

![](img/1.dashboard_player_2.png)

#### Binding Workspace External SLS Index

<<< custom_key.brand_name >>> now supports binding SLS indexes to help you quickly view and analyze your log data uniformly. Additionally, <<< custom_key.brand_name >>> has added field mapping functionality to assist in clustering analysis by mapping SLS index fields. For more details, refer to the documentation **Log Index**.

![](img/7.log_index_1.png)

#### Trace Viewer Chart Display Optimization

In the trace viewer, new trend charts for "Span count" and "Error Span count" have been added. You can quickly view trends in Span count, Error Span count, request count, Error request count, and response time metrics through the viewer chart.

![](img/4.apm_1.png)

#### Other Functional Optimizations

- View variable interaction optimization
- Built-in view configuration interaction optimization
- Workflow arrears lock process optimization
- Workspace invitation user experience optimization
- Help documentation adds an evaluation system, including good and poor reviews
- Monitor batch function optimization
- SLO added enable/disable functionality
- Fuzzy matching Wildcard left * match query limit optimization

### DataKit Updates

- Added **Golang Profiling** support
- logfwd supports injecting image fields via `LOGFWD_TARGET_CONTAINER_IMAGE`
- Trace collector:
    - Optimized error-stack/error-message format issues
    - Adjusted SkyWalking compatibility to support the full 8.X series
- eBPF httpflow added `pid/process_name` fields, optimized kernel version support
- Adjustments to datakit.yaml are recommended
- GPU card collection supports remote mode

For more DataKit updates, refer to **DataKit Version History**.

### Smart Inspection Updates

#### Added Smart Inspection Onboarding Page

<<< custom_key.brand_name >>> defaults to three official smart inspection templates: memory leak, disk usage rate, and application performance detection. After this update, existing workspaces support manually deleting default smart inspection templates while notifying the unified offline time; newly created workspaces no longer default-provide these three smart inspections and add a novice guide prompt.

![](img/6.bot_obs_1.png)

#### Smart Inspection Components Support Custom Jump Links Configuration

When configuring self-built inspections, custom jump links can be configured. For how to configure self-built inspections, refer to the documentation **Self-built Inspections**.

For more smart inspection updates, refer to **Smart Inspection Update Logs**.

### Best Practices Updates

- Insights
    - Scenario (Scene) - **SpringBoot project with external Tomcat scenario tracing observability**.

For more best practice updates, refer to **Best Practice Version History**.



## December 1st, 2022

### <<< custom_key.brand_name >>> Updates

#### Added Application Performance Service List Function

The APM service list supports real-time viewing of ownership, dependencies, performance, associated dashboards, and correlation analysis for different services. This helps teams efficiently build and manage large-scale end-to-end distributed applications. For more details, refer to the documentation **Service List**.

![](img/9.service_list_7.gif)

#### Dashboard Chart Experience Optimization

- Manual input of chart units, colors, and aliases has been added. You can customize preset units, colors, and aliases according to current standards, such as unit input format being: aggregation function(Metric), like `last(usage_idle)`
- Y-axis configuration has been added to time series charts, allowing manual setting of maximum and minimum values for the Y-axis
- Group display has been added to time series and pie charts, showing only label values after enabling
- Gradient intervals have been added to honeycomb, China map, and world map charts, including automatic and custom options
- Column and histogram display optimizations

For more details, refer to the documentation **Visualization Charts**.

![](img/10.view_chart_1.gif)

#### View Variable Usage Experience Optimization

- View variables now support multi-selection
- When configuring view variables, the option to set multiple default values has been added

For more details, refer to the documentation **View Variables**.

![](img/10.view_chart_2.png)

#### User Access Monitoring Session Viewer Adjustment

In the user access monitoring Session viewer, two new lists for "Sessions" and "All Records" have been added:

- Sessions: Counts unique Session data within the current time range, displaying the latest Session data by default;
- All Records: Displays all reported Session data, with one Session potentially corresponding to multiple records.

Note: In the Session session list, if a column added for display does not exist in the current Session data, empty data may appear in the session list. For more details, refer to the documentation **Session (Session)**.

![](img/6.rum_session_1.1.png)

#### Event Added Mobile Jump Options

After receiving an alert event notification, clicking on “View in <<< custom_key.brand_name >>>” can redirect you to the <<< custom_key.brand_name >>> mobile app to view detailed information about the anomaly event.

#### Other Functional Optimizations

- Newcomer guide page optimization, supporting minimization
- User access monitoring application list optimization, adding customizable interval switching queries for time controls
- Host Label interaction optimization

### DataKit Updates

- Added Python Profiling support
- Pythond added custom event reporting functionality
- netstat supports specific port metric collection

- Optimized Redis collector CPU usage collection, adding new metric fields
- Optimized logfwd collector configuration
- Encapsulated host object field collection, adding network, disk-related fields

For more DataKit updates, refer to **DataKit Version History**.

### Smart Inspection Updates

- Kubernetes Pod abnormal restart inspection
- MySQL performance inspection
- Server-side application error inspection
- Memory leakage inspection
- Disk usage rate inspection
- Application performance inspection
- Frontend application log error inspection

For more smart inspection updates, refer to **Smart Inspection Update Logs**.

### Best Practices Updates

- Monitoring Monitoring
    - Performance optimization - **Utilizing async-profiler for application performance tuning**

For more best practice updates, refer to **Best Practice Version History**.


## November 17, 2022

### <<< custom_key.brand_name >>> Updates

#### Pipeline Usage Experience Optimization 

- Pipeline supports multi-select filter condition configuration

- Supports setting any Pipeline script as the "default Pipeline script". If the current data type does not match other Pipeline scripts during Pipeline processing, the data will be processed according to the rules of the default Pipeline script.

- Script functions categorized

![](img/3.changelog_6.jpg)

#### Event Optimization

- Supports writing user-defined events, for more details, refer to the documentation **Writing Event Data via openAPI**.

- A quick filter has been added to the left side of the unresolved events viewer.

![](img/3.changelog_4.png)

#### Custom Viewer Supports Selecting More Types of Data

When creating a new viewer in scenarios, support has been added to select 5 types of data: logs, application performance, user access, security checks, Profile. Once saved, changes cannot be modified.

![](img/3.changelog_8.png)

#### Member Management Added Member Grouping Functionality

In member management, the member grouping feature has been added. You can edit member groups, with one member supporting membership in multiple groups; when configuring notification targets for alert policies, member group labels can be configured.

![](img/3.changelog_5.png)

#### Optimized Built-in View Binding Functionality

In the scenario "Built-in Views"-"User Views", bound fields now support fuzzy matching. After binding fields, they can be associated with the corresponding built-in views in the viewer. For more details, refer to the documentation **Binding Built-in Views**.

![](img/3.changelog_2.1.png)

#### Added One-click Import and Export of Workspaces' Dashboards, Custom Viewers, Monitors

Under "Management"-"Basic Settings", a one-click import and export of JSON configurations for dashboards, custom viewers, monitors, etc., within the workspace has been added. You can import dashboards, custom viewers, monitors, etc., from other workspaces into the current workspace.

![](img/3.changelog_7.png)

#### Application Performance Monitoring Log Page Added Custom Association Fields

On the application performance monitoring detail page, in the associated log page, if you have administrator-level permissions or above, you can define custom association fields. You can click the settings button to the right of the association fields, choose the fields to associate in the pop-up dialog box, supporting manual input and drag-and-drop order confirmation.

![](img/9.apm_explorer_10.1.png)

#### Other Functional Optimizations

- When using fuzzy matching and non-matching filters, left * matching is supported
- Infrastructure analysis dimensions optimized, last report time on the host detail page
- Support for users to quickly log back into their last single sign-on
- Blacklist application performance monitoring added support for filtering "all services"
- Upgrade process for users registered on the "China Region 4 (Guangzhou)" site to the Commercial Plan has been optimized
- Field descriptions can be viewed in quick filters, display columns, etc.

### DataKit Updates

- Added **SNMP Collector**
- Added **IPMI Collector**
- Added batch injection DDTrace-Java tool
- The latest DDTrace-Java SDK enhances SQL desensitization features
- Remote Pipeline optimization
    - Pipeline supports source mapping configuration, facilitating batch configuration between Pipeline and data sources
    - Pipeline provides function classification information, aiding remote Pipeline writing
- Optimized **Kafka message subscription**, no longer limited to obtaining SkyWalking-related data, also supporting speed limits, multi-version coverage, sampling, and load balancing settings
- By providing additional configuration parameters (`ENV_INPUT_CONTAINER_LOGGING_SEARCH_INTERVAL`), short lifecycle Pod log collection issues are alleviated
- Pure container environments support configuring container log collection via label method
- Added Pipeline functions
    - **sample()**: Sampling function
    - **b64enc()**: Base64 encoding function
    - **b64dec()**: Base64 decoding function
    - **append()**: List append function

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Insights
    - <<< custom_key.brand_name >>> Tips (Skills) - Configuring HTTPS for DataKit

- Monitoring Monitoring
    - Application Performance Monitoring (APM) - Common ddtrace parameter usage
    - Application Performance Monitoring (APM) - ddtrace-api usage guide
    - Application Performance Monitoring (APM) - ddtrace sampling
    - Application Performance Monitoring (APM) - ddtrace log correlation

For more best practice updates, refer to **Best Practice Version History**.


## November 11, 2022

#### <<< custom_key.brand_name >>> Added "China Region 4 (Guangzhou)" Site

<<< custom_key.brand_name >>> supports multi-site registration and login, adding the "China Region 4 (Guangzhou)" site. Combined with the existing "China Region 1 (Hangzhou)", "China Region 2 (Ningxia)", and "Overseas Region 1 (Oregon)", it comprehensively covers domestic and international regions, providing users with comprehensive data observability.

It should be noted that accounts and data from different <<< custom_key.brand_name >>> sites are mutually independent and cannot share or migrate data. You can choose a suitable site for registration and login based on your resource usage. Currently, <<< custom_key.brand_name >>> supports the following four sites.

| **Site**          | **Login URL**             | **Operator** | Settlement Method                     |
| ----------------- | ---------------------------- | ---------- | ---------------------------- |
| China Region 1 (Hangzhou)   | https://auth.guance.com/     | Alibaba Cloud     | <<< custom_key.brand_name >>> Corporate Account, Cloud Account       |
| China Region 2 (Ningxia)   | https://aws-auth.guance.com/ | AWS        | <<< custom_key.brand_name >>> Corporate Account, Cloud Account       |
| Overseas Region 1 (Oregon) | https://us1-auth.guance.com/ | AWS        | <<< custom_key.brand_name >>> Corporate Account, Cloud Account       |
| China Region 4 (Guangzhou)   | https://cn4-auth.guance.com/ | Huawei Cloud     | <<< custom_key.brand_name >>> Corporate Account, Huawei Cloud Stored Value Card |

## November 3, 2022

### <<< custom_key.brand_name >>> Updates

#### Added <<< custom_key.brand_name >>> and SLS Joint Solution

<<< custom_key.brand_name >>> has added an SLS storage solution, supporting Alibaba Cloud SLS users to quickly use <<< custom_key.brand_name >>> for data viewing and analysis. During <<< custom_key.brand_name >>> commercial plan registration/upgrade, choosing "Alibaba Cloud account settlement" allows you to select the SLS storage solution to store data under your Alibaba Cloud account, achieving exclusive data storage. For more details, refer to the documentation **SLS Storage**.

The joint solution between <<< custom_key.brand_name >>> and SLS supports syncing data from your Alibaba Cloud account to <<< custom_key.brand_name >>> workspaces for querying and analysis through the function of binding log indexes. In <<< custom_key.brand_name >>> workspaces, under "Logs"-"Indexes", click "Bind Index" to sync log data from indexed logs. For more details, refer to the documentation **Log Indexes**.

![](img/2.log_index_1.png)

#### Optimized New User Guide Pages

<<< custom_key.brand_name >>> has added new user guides for scenarios, events, infrastructure, metrics, logs, application performance monitoring, user access monitoring, availability monitoring, security checks, CI visualization, monitoring, etc., while optimizing the welcome homepage of the workspace, making it easier to understand and use <<< custom_key.brand_name >>> through the user guide.

#### Added 3 Smart Inspection Configuration Documents

- **Cloud Account Billing Inspection**: Helps users manage budget alerts for cloud services, anomaly fee alerts, predict cost situations, and provides visual capabilities, supporting multi-dimensional visualization of cloud service resource consumption;
- **Frontend Application Log Error Inspection**: Helps detect new error messages (clustered Error Messages) appearing in frontend applications within the past hour, assisting developers and operations in fixing code promptly to avoid continuous harm to customer experience over time;
- **Alibaba Cloud Asset Inspection**: Provides users with more insight into the performance status of products from cloud vendors.

#### Added Trace Error Tracking Viewer

In application performance monitoring, a new error tracking viewer has been added to help you quickly view similar errors and their distribution in traces, rapidly locating performance issues. For more details, refer to the documentation **Trace Tracking**.

![](img/1.apm_error_1.png)

#### Optimized Time Series Graph and Overview Graph Comparative Analysis Function

Comparative analysis functionality is no longer linked to locked time. The button is displayed by default and is off. After enabling comparative analysis, supported comparison dimensions include 4 options: hour (compared to one hour ago), day (compared to one day ago), week (compared to one week ago), month (compared to one month ago). For more details, refer to the documentation **Comparative Analysis**.

#### Other Functional Optimizations

- Added "Save Snapshot" button in the "Settings" of dashboards/notebooks/viewers;
- Time controls added more options;

- Pipeline and blacklist functions added import, bulk export, and bulk delete functionalities;
- Smart inspection added dashboard, bar chart components;
- Integration menu Func page optimized.

### DataKit Updates

- Enhanced Prometheus ecosystem compatibility, adding **ServiceMonitor and PodMonitor collection recognition**
- Added Java Profiling based on **async-profiler**

- eBPF collection added **interval parameter**, facilitating adjustment of the amount of collected data
- Default host field value for all remote collectors is set to the collection address, avoiding potential misinterpretation of the host field value during remote collection
- APM data collected by DDTrace can automatically extract error-related fields for better APM error tracking at the center
- MySQL collector added additional fields `Com_commit/Com_rollback` collection

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Monitoring Monitoring
    - APM - Kafka Observability Best Practices

- Cloud Platform Integration
    - Alibaba Cloud - Alibaba Cloud ACK Integration <<< custom_key.brand_name >>>

For more best practice updates, refer to **Best Practice Version History**.

## October 20, 2022

### <<< custom_key.brand_name >>> Updates

#### Monitoring Optimization

##### Added Outlier Detection

Outlier detection detects whether the metrics/statistics of objects in specific groups deviate significantly using algorithms. If there is a deviation exceeding a certain degree, an outlier detection anomaly event is generated for subsequent alert tracking. For more details, refer to the documentation **Outlier Detection**.

![](img/7.changelog_1.1.png)

##### Optimized Sudden Change Detection Logic

The new sudden change detection compares the absolute or relative (%) change in the same metric between two different time periods to determine if an anomaly occurs. It is commonly used to track peaks or data changes in a specific metric. When an anomaly occurs, it can generate events more accurately for recording. For more details, refer to the documentation **Sudden Change Detection**.

![](img/7.changelog_2.png)

##### Optimized Interval Detection Logic

The new interval detection performs anomaly detection on metric data within the selected detection interval time range. When the proportion of anomalous data points exceeds the set percentage, an interval detection anomaly event is generated. It is often used to monitor stable trend data/metrics. For more details, refer to the documentation **Interval Detection**.

##### Other Optimizations

- Adjusted read-only member permissions to support viewing configurations for monitors, smart inspections, SLOs, mute management, and alert policies
- Changed the configuration selection for "Trigger Data Gap Event" and "Trigger Recovery Event" to time range configuration, supporting manual input

![](img/7.changelog_9.1.png)

- Supported configuring monitors based on "Event" data

![](img/7.changelog_4.png)

- Added "Information" event notification level selection to alert configuration

![](img/7.changelog_5.png)

#### Scene Chart Optimization

##### Added Histogram Chart Component

Histograms, also known as quality distribution charts, are used to represent data distribution, a common statistical chart, generally showing data intervals on the horizontal axis and distribution on the vertical axis. For more details, refer to the documentation **Histogram**.

![](img/7.changelog_8.png)

##### Chart Function Optimization

- Overview, rectangle tree map, funnel chart added time slicing functionality
- Time series chart "View Similar Trend Metrics" changed from only supporting metric queries to supporting all data types, including logs, application performance, user access, etc.
- Top list supports viewing all content exceeding chart width
- Honeycomb chart display optimization

#### Viewer Optimization

##### Viewer Added Analysis Mode

In log, application performance monitoring, user access monitoring, availability testing, security checks, and CI viewers, the "Analysis" function has been added. Infrastructure adjusted "Grouping" to "Analysis," supporting multi-dimensional analysis and statistics based on **1-3 tags** to reflect data distribution characteristics and trends across different dimensions and times. In analysis mode, multiple data chart analyses are supported, including time series charts, top lists, pie charts, and rectangle tree maps. For more details, refer to the documentation **Viewer Analysis Mode**.

![](img/5.log_analysis.gif)

##### Optimized Associated Log Viewing Experience

In infrastructure, application performance monitoring, user access monitoring, and CI visualization viewer detail pages, the associated log viewing experience has been optimized. By default, log content is displayed according to the "maximum number of rows" and "display columns" set in the log viewer, supporting custom adjustments via "display columns."

![](img/7.changelog_6.png)

#### Log Index Optimization

After setting indexes in "Logs"-"Indexes," log-related queries added an index option, defaulting to index `default`. You can query and analyze log data based on the indexes you set, involving functions including log viewers, scene custom viewers, chart log queries, log monitors, etc. For more details, refer to the documentation **Log Indexes**.

![](img/5.log_3.1.png)

#### Optimized Metric Analysis Chart Queries

Added time intervals and legend options in metric analysis, adjusting the display order of aggregation functions in legends. For more details, refer to **Metric Analysis**.

![](img/7.changelog_7.png)

#### Other Functional Optimizations

- In the user access monitoring application list, a dropdown menu option was added in the upper left corner upon entering an application, helping users quickly switch to view different application data
- Pipelines shortcut added in directories for metrics, user access monitoring, application performance monitoring, infrastructure, and security checks

### DataKit Updates

- DataKit collector configuration and Pipeline support synchronization via etcd/Consul configuration centers
- Prometheus Remote Write optimization
    - Collection supports filtering tags via regular expressions
    - Supports filtering metric names via regular expressions
- Pipeline optimization
    - Optimized **grok()** and other functions so they can be used in `if/else` statements to determine if operations are effective
    - Added **match()** function
    - Added **cidr()** function
- Increased details of opened file list fields in the process collector
- Improved external data (T/R/L) disk caching and queue processing
- Added usage overage warning on Monitor: At the bottom of Monitor, if the current space usage exceeds limits, there will be a red text `Beyond Usage` warning
- Optimized position feature in log collection to prevent loss of original position records after DataKit restarts in container environments
- Optimized sparse log scene collection delay issues

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Monitoring Monitoring
    - Infrastructure Monitoring (ITIM) - **Ansible Batch Processing Practical Combat**.

- Cloud Native
    - Logs - **<<< custom_key.brand_name >>> Collecting Amazon ECS Logs**.

For more best practice updates, refer to **Best Practice Version History**.

## September 29, 2022

### <<< custom_key.brand_name >>> Updates

#### Added Field Management

<<< custom_key.brand_name >>> supports unified management of field data in the current workspace, including system fields and custom fields. You can view field descriptions in scenario chart queries, monitor detection metrics, DQL simple query modes, etc., helping you quickly understand field meanings and apply them. The figure below shows viewing the `host` field description in scenario chart queries. For more details, refer to the documentation **Field Management**.

![](img/3.field_9.png)

#### Optimized Metric Features

##### Metric Viewer Transformation

The original "Metric Viewer" has been renamed to "Metric Analysis," supporting users to visualize queried data in time series chart formats (line chart, area chart, bar chart). For more details, refer to **Metric Analysis**.

![](img/4.changelog_1.2.png)

##### Optimized Metric Management

- Supported searching for "metric sets" and "metrics" in "Metric Management";

- Supported modifying the "unit" and "description" of metrics in "Metric Management";
- Supported viewing tag description information in "Metric Management".

For more details, refer to **Metric Management**.

![](img/4.changelog_2.1.png)

#### Added PDF Format Event Content Export

In the event detail page, the "Jump to Monitor" button has added text explanations. Clicking :material-export-variant: allows you to choose **Export JSON File** and **Export PDF File** to obtain all critical data corresponding to the current event.

![](img/4.changelog_5.png)

#### Monitor Adjustments

- Monitor names do not support customization; the event title input synchronously generates the monitor name;
- Monitors support "info" event generation logic. Trigger conditions can choose to enable or disable information: normal detection results also generate events;
- Monitor configuration steps reordered to: Detection Configuration - Event Notification - Association.

**Note:** In the latest version, the "monitor name" will be generated synchronously after the "event title" is entered. Old monitors may have inconsistent "monitor names" and "event titles." To enhance your experience, please synchronize to the latest version as soon as possible, supporting one-click replacement of event titles.

![](img/4.changelog_3.png)

#### Mute Rules Support Dynamic Configuration

In mute management, the mute scope has been optimized to support multiple options including monitors, smart inspections, self-built inspections, SLOs, and alert policies, with new tag options added.

**Note:** The mute scope is mandatory, while tags are optional. Only when both the "mute scope" and "tags" conditions are met will the mute take effect. For example, if the mute scope selects `application performance detection` and `disk usage`, and the tag selects: `host:izbp152ke14timzud0du15z`, then the alert notifications will be muted if the conditions simultaneously meet `application performance detection` and `host:izbp152ke14timzud0du15z` or `disk usage` and `host:izbp152ke14timzud0du15z`.

![](img/4.changelog_7.1.png)

#### Optimized Pipeline Configuration Page

In text processing (Pipeline), multiple sample parsing tests can be added, fixing the issue of incorrect one-click sample retrieval for metric data. For more details, refer to **Text Processing (Pipeline)**.

![](img/10.pipeline_4.png)

#### Other Functional Optimizations

- Notes added global lock time configuration. After configuring the global lock time, all charts on the note page display data according to the locked time
- Unresolved event queries modified to show recent 48 hours of data, supporting manual refresh
- User access monitoring supports covering logic for same-name user views
- Initialization parameters for Web, WeChat Mini Program, and uniapp-based mini programs accessing user access monitoring have added the `isIntakeUrl` configuration, used to determine whether to collect corresponding resource data based on the requested resource URL, defaulting to all collections 
- Smart inspections added support for self-built inspections
- Generation of metric pages adjusted the operation column, adding "Open in Metric Analysis" and "Open in Metric Management" icons
- Management navigation menu positions adjusted, SSO management moved to member management, notification target management moved to monitoring, built-in views moved to scenarios

### Best Practices Updates

- Cloud Native: **Best Practices for Multiple Kubernetes Cluster Metrics Collection**.

For more best practice updates, refer to **Best Practice Version History**.

## September 15, 2022

### <<< custom_key.brand_name >>> Updates

#### Added Log Viewer DQL Search Mode

In the log viewer, you can switch to DQL manual input query mode by clicking the toggle icon in the search bar ![](img/8.explorer_2.png), supporting custom input of filtering conditions and search conditions.

- Filtering conditions: support `and / or` combinations, support using `()` parentheses to indicate execution priority, support operators `=` , `!=`, etc.;
- Search conditions: support using DQL function `query_string()` to search logs.

For more details, refer to the documentation **DQL Search**.

![](img/8.explorer_1.1.png)

#### Optimized Application Performance Monitoring

##### Details Page Optimization for Trace Viewer

- Optimized layout display on the details page, added duration, HTTP method, HTTP URL, HTTP status code, TraceId, etc.
- Flame graph added thumbnail, double-click Span zoom display, click service name to highlight the corresponding Span display
- Span list added search, click to select Span switching to flame graph synchronized display
- Service call relationship added search 

For more details, refer to the documentation **Trace Viewer**.

![](img/10.changelog_apm.gif)

##### Details Page Optimization for Profile Viewer

Added quick operations on the details page of the Profile viewer, including search, copy, and click to view methods. For more details, refer to the documentation **Quick Operation Instructions**.

![](img/10.changelog_profile.gif)

#### Optimized Event Notification Content Editing Mode

When creating a monitor, if the event notification content meets the trigger conditions, it supports inputting and previewing markdown formatted text information, and supports using template variables.

![](img/10.changelog_3.png)

#### Added Periodic Mute Support in Mute Management

Mute management added periodic mute functionality, allowing selection of "Once" or "Repeat" in mute time. For more details, refer to **Mute Management**.

![](img/10.changelog_5.1.png)

#### Other Functional Optimizations

- Scene dashboard group display optimization, scene notes optimize Markdown format text component
- Infrastructure viewer display optimization, added display column CPU usage rate, MEM usage rate, etc., hint information; "Pods", "Deployments", "Services" viewer detail pages added viewing and copying corresponding YAML files
- Metric viewer removed list view mode, retaining flat view mode and mixed view mode

- Log multi-index supports jumping to view
- Quick filter value TOP 5 supports viewing proportion numbers, viewer time field format optimized, default display format is `2022/09/15 20:53:40`
- Trace viewer time series chart added legend display, quick filter added HTTP-related fields

### DataKit Updates

- Added auto-cloud sync functionality, no longer requiring manual cloud provider specification
- Support for syncing k8s labels to pod metrics and logs as tags
- Support for collecting various YAML information from k8s objects onto corresponding **object data**
- Trace collection supports automatic extraction of some key meta information
- Installation process supports specifying installation source addresses to simplify **offline installation** processes
- Pipeline new features:
    - Added for loop/dictionary/array support
    - Added arithmetic expression support
    - Pipeline error messages will be displayed on the collected data
    - If the time field parsing fails, it supports automatically correcting the time field(`time`) to avoid console page time not displaying
    - Added **len()** function

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Monitoring Monitoring\- Middleware (Middleware) -  **Insights into MySQL**.

For more best practice updates, refer to **Best Practice Version History**.

## September 1, 2022

### <<< custom_key.brand_name >>> Updates

#### Billing Updates

<<< custom_key.brand_name >>> backup log billing rule adjustments, charging 0.007 CNY per 1 GB of data/day after adjustment. You can adjust the corresponding data retention strategy according to actual needs to save costs. For more details, refer to the documentation **Billing Method**.

#### Help Documentation Directory Updates

- Split the changelog directory to support viewing <<< custom_key.brand_name >>> update content by year;
- Added a custom development directory to view documents such as custom collectors (Pythond), custom security inspections (Scheck), custom DDtrace, etc.;
- Added a private deployment directory to view relevant <<< custom_key.brand_name >>> deployment documents.

#### Added Event Correlation Analysis in Time Series Charts

Time series charts added event correlation analysis, supporting matching related anomaly events with selected fields via "Add Filter Fields". This achieves correlated display of time series data and events, helping users perceive whether related events occur during data fluctuations while viewing trends, thus achieving problem localization.

- After configuring event correlation in time series charts, if there are related event records for the selected associated fields (e.g., "host:DESKTOP-NEN89U3"), they will be highlighted with shaded blocks on the timeline;
- After configuring event correlation in time series charts, in analysis mode, clicking the highlighted shaded block allows you to view related anomaly events for the selected fields (e.g., "host:DESKTOP-NEN89U3").

For more details, refer to the documentation **Time Series Chart**.

![](img/5.changelog_1.3.png)


#### Added Multi-index Mode for Logs

<<< custom_key.brand_name >>> supports setting up multi-index for logs, filtering qualified logs into different log indexes, and selecting different data retention strategies for log indexes to help users save log data storage costs. For more details, refer to the documentation **Log Index**.

![](img/7.backup_1.png)

#### Optimized Backup Log Rules

Backup log rule creation has been moved under the log index menu. The backup cycle has been changed from daily backups of the previous day’s logs at 00:00 to checking rules every 5 minutes and performing backups, meaning backup logs can be viewed within 5 minutes of configuration. For more details, refer to the documentation **Backup Logs**.

#### Optimized Log Context

In the log detail page, when opening a new log viewer to check context, it will filter based on "host", "source", "service", "filename" to view data before and after the current log time.

![](img/2.log_updown_2.png)

#### Optimized User Access Monitoring

##### Added Custom User Access Monitoring Application ID

User access monitoring supports users defining an application ID as a unique identifier for the current workspace (originally <<< custom_key.brand_name >>> application IDs were globally unique, meaning application IDs in different spaces could not be duplicated). Different workspaces can use the same application ID as a unique identifier for the same application, used for SDK data upload matching. For more details, see the documentation:

- **Web Application Integration**

- **Android Application Integration** 

- **iOS Application Integration**

- **Mini Program Application Integration**

![](img/5.changelog.png)

##### Added User Access Monitoring Network Request Error Correlation Trace View

User access monitoring supports correlating and viewing related traces for network (network) errors in RUM viewers.

![](img/5.changelog_rum.png)



#### Comprehensive Upgrade of Smart Inspection

- Smart inspection list changed "Groups" to "Alert Policies," supporting selection of alert policies when editing smart inspections;
- The detail pages of related smart inspection events have been fully adjusted, including relevant pages such as basic attributes, event details, root cause analysis, alert notifications, historical records, and associated events. Additionally, the anomaly chart analysis has been optimized, adding data association jump links, anomaly interval prompts, root cause analysis interval prompts, legend display operations, etc.

For more details, refer to **Smart Inspection**.

![](img/4.bot_obs_7.1.png)
![](img/4.bot_obs_7.2.png)


#### Monitoring Optimization

##### Changed Grouping to Alert Policy

In "Monitoring," the "Group Management" page has been renamed to "Alert Policy Management." New alert policies can be created to filter monitors and set alert notifications through this interface.

![](img/5.changelog_15.png)

In **Monitors**, the original "Group" filter has been changed to an "Alert Policy" filter. When configuring a monitor, you can choose an alert policy, and you can modify the alert settings by clicking on the monitor's alert policy.

![](img/5.changelog_14.png)

##### Optimized Monitor Configuration

- Adjusted the configuration steps for monitors, including detection frequency, detection intervals, and alert policies;

- Optimized detection metrics, supporting outer function (fx) configurations, including "Label Filtering," "Transformation Functions," "Data Gap Filling"; support switching to DQL query mode;

- Optimized trigger condition text prompts;

- Optimized event notifications, removing some custom data gap event titles and content for monitors; adjusting template variable prompt text; changing grouping to alert policies and supporting editing of alert policies;

- Optimized log detection, application performance metric detection, user access metric detection, infrastructure object detection "detection metrics" configuration.

For more details, refer to **Monitor Management**.

![](img/5.changelog_7.0.png)
![](img/5.changelog_7.png)

##### Added "Infrastructure Survival Detection"

"Infratructure Survival Detection" is used to monitor the operational status of infrastructure. For more details, refer to **Infrastructure Survival Detection**.

![](img/5.changelog_12.png)


##### Added "Process Abnormality Detection"

"Process Abnormality Detection" is used to monitor process data within the workspace, supporting setting up alerts for one or multiple fields in process data. For more details, refer to **Process Abnormality Detection**.

Note: Infrastructure object detection has been removed. Existing related monitors can continue to be used but are no longer supported for new creations.

![](img/5.changelog_13.png)

##### Optimized "Application Performance Metric Detection"

"Application Performance Metric Detection" has added "Trace Statistics" detection method, which counts the number of qualified traces within a specified time period. If it exceeds a custom threshold, an anomaly event is triggered. This can be used for service trace error notifications. For more details, refer to **Application Performance Metric Detection**

![](img/5.changelog_11.png)

#### Member Management Optimization

- Read-only members no longer have access to member management pages;
- Support filtering regular members and SSO members. SSO members only show members corresponding to currently configured identity providers (IDP).

For more details, refer to **Member Management**.

#### Added Demo Workspace

<<< custom_key.brand_name >>> provides a demo workspace to help you better use various functional modules of <<< custom_key.brand_name >>>. You can click on the "Workspace" in the upper left corner, then click "Experience Demo Space" in the pop-up dialog box to enter the demo space for viewing.

![](img/3.demo_space_1.png)

#### Other Functional Optimizations

- The default aggregation function for chart metrics changed from `last` to `avg`, and the default aggregation function for log data changed from `last` to `count`
- Optimized legend copying experience in time series charts and pie charts
- Improved interaction display in edit mode of notes
- Snapshots now save current viewer display column information 
- In the trace details page, formatted display of time-related fields converts timestamps into date formats
- Deployment version backend supports modifying workspace data retention strategies

### DataKit Updates

#### Breaking Changes

- Time fields for CI/CD data in Gitlab and Jenkins collectors have been adjusted to unify front-end page data display effects

#### Collector Function Adjustments

- Optimized data processing in the IO module to improve data throughput efficiency
- Added disk cache functionality to various Traces
- Increased goroutine usage-related metric sets (`datakit_goroutine`) in DataKit's own metric sets
- MySQL collector added `mysql_dbm_activity` metric set
- Added **netstat collector**
- TDengine added log collection
- Optimized file system type filtering in disk collectors, collecting only common file systems by default
- Log collectors added `message_length` field indicating the length of the current log, facilitating log filtering based on length
- CRD supports locating Pod scope via DaemonSet
- Removed go-bindata dependency from eBPF
- Container collectors default to opening **k8s and container-related metrics**, which may consume additional timelines

#### Bug Fixes

- Fixed DataKit CPU usage calculation errors
- Fixed SkyWalking middleware recognition issues
- Fixed Oracle exit issues
- Fixed Sink DataWay failure issues
- Fixed JSON write issues with HTTP /v1/write/:category interface

#### Documentation Adjustments

- Nearly every chapter has added jump tags for permanent references from other documents
- Pythond documentation has been moved to the custom development directory
- Collector documentation has been moved from "Integration" to the "DataKit" documentation library
- DataKit documentation directory structure has been simplified, reducing directory levels
- Nearly every collector has added k8s configuration entry points
- Adjusted header display in documentation, adding election identifiers for collectors that support elections besides operating system identifiers

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Cloud Native
    - Using CRD to initiate your Ingress observability journey

- Monitoring Monitoring
    - Application Performance Monitoring (APM) - Custom Instrumentation with DDtrace
    - Secondary Development Practice with DDtrace <<< custom_key.brand_name >>>

For more best practice updates, refer to **Best Practice Version History**.

## August 18, 2022

### <<< custom_key.brand_name >>> Updates

#### <<< custom_key.brand_name >>> Billing Update

<<< custom_key.brand_name >>> has optimized the billing logic for **Time Series** and the **data retention strategy** for metric data. The original cost of 3 CNY per 300 time series has been reduced to 3 CNY per 1000 time series. Simultaneously, new data retention strategies for 3 days, 7 days, and 14 days have been added, and metric sets now support **custom data retention strategies**.

The time series count represents the total number of combinations that can be formed from labels in the reported metric data of the current workspace. The data retention strategy refers to the storage duration of the reported data in the current workspace. Data exceeding the retention period will be automatically deleted.

Time series statistics are cumulative during the data retention period. The longer the retention period, the higher the time series costs.

This optimization allows you to adjust the data retention strategy more flexibly, helping you save costs.

### <<< custom_key.brand_name >>> Updates

#### Added Jenkins CI Observability

<<< custom_key.brand_name >>> has introduced Jenkins CI observability, allowing you to directly view CI results in Jenkins through <<< custom_key.brand_name >>>'s CI visualization feature. CI processes involve continuous integration. When developers push code and encounter problems, they can view all CI pipelines, success rates, failure reasons, and specific failure stages in <<< custom_key.brand_name >>>, providing code update assurance. For more details, refer to **CI Visualization**.

![](img/17.CI_2.png)

#### Added Custom Viewer Chart Sync Search

Custom viewers have added a chart sync search toggle to decide whether search conditions affect chart queries, which is enabled by default. When there is content in the search bar, turning off the toggle returns the chart query to its default state; turning it on makes the chart query influenced by the selected filters.

![](img/6.custom_explorer_1.png)

#### Added Network Topology and Service Topology Drill-down Analysis

In the infrastructure network topology map, click on host/Pod icons and select "View Upstream/Downstream" to see the upstream/downstream node associations. In the upstream/downstream nodes, click the "Return to Overview" icon in the top-left corner to return to the original network topology map. Use the search bar to filter associated upstream/downstream nodes, displaying matches based on search or filter results. For more details, refer to **Network View Upstream/Downstream**.

![](img/11.network_1.png)

In the service topology map, click on service icons and select "View Upstream/Downstream" to see the upstream/downstream service associations. In the upstream/downstream services, click the "Return to Overview" icon in the top-left corner to return to the original service topology map. Use the search bar to filter associated upstream/downstream services, displaying matches based on search or filter results. For more details, refer to **Service View Upstream/Downstream**.

![](img/12.apm_service_1.png)

#### Added Deletion of Resource Directory Data and Indexes

<<< custom_key.brand_name >>> supports owners and administrators deleting specific resource directory classifications and all resource directories. Enter "Management"-"Basic Settings", click "Delete Resource Directory", then choose the deletion method to delete the corresponding object data.

- Specific Resource Directory Classification: Only deletes data under the selected object classification without deleting indexes.
- All Resource Directories: Deletes all resource directory data and indexes.

Note: Once all resource directories are deleted, all data and indexes reported to the custom infrastructure will be deleted and cannot be recovered. All set resource directory data needs to be re-reported, with a daily limit of 5 deletions for all resource directories.

For more information on resource directories, refer to **Customization**.

![](img/7.custom_cloud_3.png)

#### Added Snapshot Viewing Entry for Viewers

In <<< custom_key.brand_name >>> indicators, logs, events, application performance monitoring, user access monitoring, cloud testing, security checks, CI visualization, etc., after saving snapshots, you can directly click the view snapshot icon in the top-right corner to unfold and view already saved snapshots.

- Supports keyword searching for snapshot names using fuzzy matching.
- The first one is the default view and does not support sharing, copying links, or deletion.
- Except for the first default view, other snapshots support sharing, copying links, and deletion functions. Clicking the "Snapshot Name" opens the corresponding data copy in the current viewer.

![](img/2.snapshot_1.png)

#### Added Filter Condition Editing Functionality in Viewers

When filtering using "field:value" in the <<< custom_key.brand_name >>> viewer search bar, you can click "field:value" to edit and modify the "field:value" and apply the modified result for filtering.

![](img/13.search_3.png)

#### Optimized User Access View Viewer Linkage to Fetch/XHR

In the <<< custom_key.brand_name >>> user access monitoring View viewer detail page, switching to "Fetch/XHR" allows you to view each network request made by the user to the backend application during their visit, including occurrence time, request trace, and duration.

![](img/4.rum_view_3.png)

If a network request has a corresponding `trace_id`, a hint icon appears before the request. Clicking the request will redirect to the corresponding trace detail page.

![](img/4.rum_view_4.png)

#### Added High-performance Mode for Chart Data Loading

<<< custom_key.brand_name >>> supports high-performance mode for chart data loading, which is disabled by default. You can enable it by clicking on the account in the bottom-left corner and selecting "High-performance Mode". After enabling high-performance mode, all charts do not dynamically load. Instead, they load simultaneously upon entering the page, meaning all charts are fully loaded when scrolling down beyond the current page, allowing direct viewing of displayed results.

Note: Enabling high-performance mode applies only to the current user viewing the charts.

![](img/3.high_performance_1.png)

#### Added Customizable Event Notification Levels in Alerts

Alert configurations support customizing event notification levels, including critical, important, warning, recovery, data gap, data gap recovery, and considering data gaps as recovery. Multiple selections are supported, and you can clear all options with one click. After clearing, you need to manually select the required values. For more alert settings, refer to the documentation **Alert Configuration**.

![](img/14monitor.png)

#### Other Functional Optimizations

- Scene dashboards allow hiding/showing large titles for combined charts.
- Optimized event detail page event type text display.
- Added sorting function for infrastructure list views by fields.
- Log viewer added hide distribution chart button.
- Viewers support keyword searching for display columns and can set custom display columns as preset fields. After Pipeline parsing and reporting data, the newly reported data can be displayed directly.
- One-click viewing of corresponding integration documents in built-in templates and built-in views for quick configuration of collectors.
- Built-in views support binding linked service, application, log source, project, label, etc., in addition to supporting custom key and value bindings for related views. Also supports binding built-in views in service side panels.
- Optimized Lark robot notification targets to support optional secret key verification.
- When configuring monitors, if the data range is less than the detection frequency, a warning is triggered indicating potential data gaps.

### DataKit Updates (**2022/05/26**)

- Pipeline adjustments allow all data types to be additionally processed through Pipeline configuration.
- grok() supports extracting fields directly as specified types without needing cast() function for type conversion.
- Pipeline supports multi-line string, improving readability by writing long strings (e.g., grok patterns) across multiple lines.
- Each Pipeline's runtime status can be viewed directly via datakit monitor -V.
- Added Kubernetes Pod object CPU/memory metrics.
- Helm added more Kubernetes version installation compatibility.
- Optimized OpenTelemetry, added JSON support to HTTP protocol.
- DataKit logs record auto-correction behavior when correcting line protocol to facilitate debugging data issues.
- Removed all string metrics from time series data.
- In DaemonSet installations, if the election namespace is configured, all collectors participating in the election will add specific tags (election_namespace).
- CI observability added Jenkins support.

#### Breaking Changes

For Docker container log collection, the host machine (Node) _/var/lib_ path must be mounted into DataKit (as Docker logs default to _/var/lib/_). In _datakit.yaml_, add the following configuration to `volumeMounts` and `volumes`:

```yaml
volumeMounts:
- mountPath: /var/lib
  name: lib

# Omit other parts...

volumes:
- hostPath:
    path: /var/lib
  name: lib
```

### Best Practices Updates

- APM
    - Achieving RUM, APM, and log correlation analysis using SkyWalking with <<< custom_key.brand_name >>>
- Monitoring Best Practices
    - Building Observable Infrastructure with OpenTelemetry
    - OpenTelemetry to Jaeger, Grafana, ELK
    - OpenTelemetry to Grafana
    - OpenTelemetry to <<< custom_key.brand_name >>>
- <<< custom_key.brand_name >>> Tips
    - OpenTelemetry sampling best practices

For more best practice updates, refer to **Best Practice Version History**.

### Integration Template Updates

#### Added Documents and Views

- Data Collection
    - Opentelemetry Collector
- Container Orchestration
    - Kubernetes Scheduler
    - Kubernetes Controller Manager
    - Kubernetes API Server
    - Kubernetes Kubelet

#### Added Views

- Container Orchestration
    - Kubernetes Nodes Overview
- Middleware
    - JVM Kubernetes


## May 19, 2022

### <<< custom_key.brand_name >>> Updates

#### Optimized <<< custom_key.brand_name >>> Commercial Plan Registration Process

<<< custom_key.brand_name >>> registration now offers Free Plan and Commercial Plan options. You can register a <<< custom_key.brand_name >>> account based on actual needs. <<< custom_key.brand_name >>> supports pay-as-you-go billing methods, offering an out-of-the-box cloud platform for comprehensive observability.

#### Added Scene Dashboard User View Templates

<<< custom_key.brand_name >>> includes over 60 built-in system view templates. These require no configuration, providing immediate usability for various monitoring scenarios. You can create dashboards by customizing views as user view templates. For more dashboard creation details, refer to the documentation **Dashboards**.

![](img/1.dashboard_1.png)

#### Added Scenario Custom Viewer Log Source and Filter Linkage

The data range in scenario custom viewers has added filtering functionality based on log sources, allowing you to filter fields under the selected log source, supporting matching multiple fields. Combined with search and grouping, this enables further filtering of log data.

![](img/7.log_1.png)

#### Added Copy Event Content as JSON Format in Event Detail Page

On the event detail page, you can click the "Copy Complete Event Content" button to obtain all critical data corresponding to the current event. If a monitor is configured with associated dashboards, you can click the "Associated Dashboard" button to navigate to the corresponding dashboard.

In the **Associated Information** section of the event detail page, if multiple expression queries (of the same object type) are configured for "Log Detection," the associated information supports tab switching between multiple expression queries. If there are two expression queries A and B, the relationship information will include tabs A and B for switching views.

![](img/5.event_1.png)

#### Added Log Data Desensitization Handling

<<< custom_key.brand_name >>> has added log data desensitization handling. After log data is reported to <<< custom_key.brand_name >>> workspaces, some sensitive information may exist, such as IP addresses and user information. These can be desensitized by configuring sensitive fields.

Note:

- Desensitized data can only be viewed by workspace administrators and above; standard and read-only members cannot view desensitized information.
- Configuring sensitive fields can only be done by workspace administrators and above; standard and read-only members can only view configured sensitive fields.

For more details, refer to the documentation **Data Permission Management**.

![](img/3.data_7.png)

#### Optimized Log Viewer and Detail Pages

<<< custom_key.brand_name >>> **log viewer** now defaults to displaying "time" and "message" fields. This update supports hiding the "message" field.

In the log detail page, log content automatically displays in Json and text modes based on the message type. If the log does not have a message field, the log content part will not be displayed. Log content supports expanding and collapsing, with the default being expanded. Collapsed state shows only one line height.

Extended fields display all related fields of the log, supporting "copy" and "add to filter" for quick filtering.

![](img/2.log_2.png)

#### Added Network Data Detection Monitors

**Network Data Detection** monitors network performance metrics within the workspace. By setting threshold ranges, it triggers alerts when metrics reach thresholds. <<< custom_key.brand_name >>> supports setting alerts for individual metrics and customizing alert levels. In **Monitors**, click "+ New Monitor" and choose "Network Data Detection" to enter the detection rule configuration page.

![](img/6.monitor_3.png)

#### Optimized Built-in View Binding Functionality

<<< custom_key.brand_name >>> built-in views include system views and user views. This update cancels the ability to bind system views directly as viewer views, supporting only binding user views as viewer views. To bind system views, clone them as user views first. If system and user views share the same name, user views take precedence in the viewer. For how to bind user views as viewer views, refer to the documentation **Binding Built-in Views**.

![](img/4.view_4.png)

#### Other Functional Optimizations

- Added prepaid card balance in the **Billing Center**.
- Infrastructure detail style optimization.
- Line break display optimization in trace detail pages.
- Monitor configuration template variable display optimization.
- Added shortcuts, moving DQL queries and snapshot menus under shortcuts.
- <<< custom_key.brand_name >>> backend added template management category information.

### DataKit Updates (2022/5/12)

- Added arm64 support for eBPF.
- Line protocol construction supports automatic correction.
- Main configuration of DataKit added example configurations.
- Prometheus Remote Write supports tag renaming.
- Merged community edition DataKit features, mainly including Sinker functionality and filebeat collector.
- Adjusted container log collection, allowing DataKit to directly support container stdout/stderr log collection under containerd.
- Adjusted hostname acquisition strategy in DaemonSet mode.

More DataKit updates can be found in **DataKit Version History**.

### Best Practices Updates

- Cloud Native
    - Launching Rancher Observability with <<< custom_key.brand_name >>>
- Microservices Observability Best Practices
    - Collecting tracing data using SkyWalking in Kubernetes clusters
    - Reporting Kubernetes cluster logs to the same node's DataKit best practices
- Gitlab-CI Observability Best Practices
    - Gitlab-CI observability best practices

For more best practice updates, refer to **Best Practice Version History**.

### Integration Template Updates

#### Added Documents and Views

- Middleware
    - Resin
    - Beats
- Host System
    - Procstat

#### Added Views

- Container Orchestration
    - Istio Service
- Alibaba Cloud
    - ASM Service

## May 6, 2022

### <<< custom_key.brand_name >>> Updates

#### Optimized <<< custom_key.brand_name >>> Commercial Plan Upgrade Process

Upgrading <<< custom_key.brand_name >>> to the commercial plan now defaults to enabling **<<< custom_key.brand_name >>> Billing Center Account Settlement**, supporting changes to settlement methods like **Alibaba Cloud Account** and **AWS Cloud Account** settlements.

#### Added Associated Network in Process, Log, and Trace Details Pages

<<< custom_key.brand_name >>>'s **process**, **log**, and **trace** detail pages now include associated network data analysis. This supports viewing source-to-target network traffic and connection status based on IP/port, providing real-time visual insights into business system network states. This helps quickly analyze, track, and locate faults to prevent or avoid business disruptions due to network performance degradation or interruptions.

![](img/9.network_1.png)

#### Scene Module Optimization

##### Optimized Dashboards, Removed Edit Mode

In scene **dashboards**, the "Edit" button has been removed from the top navigation bar, and a new "Add Chart" button has been added to add new charts to the dashboard. After adding a chart, click the "Finish Adding" button in the top-right corner.

![](img/3.view_2.png)

In **charts**, click the "Settings" button, then select "Modify" to edit the chart.

![](img/3.view_1.png)

##### Added Chart Link Display Toggle

<<< custom_key.brand_name >>> supports built-in and custom links in charts, helping you jump from the current chart to target pages. Built-in links are default links provided by <<< custom_key.brand_name >>> for charts, primarily based on the current query time range and grouping labels, assisting in viewing corresponding logs, processes, containers, and traces. The built-in link display toggle is disabled by default and can be enabled when editing the chart; custom links are enabled by default after creation. For more details, refer to the documentation **Chart Links**.

![](img/4.link_1.png)

##### Optimized Conversion Between DQL Query and Simple Query

Click the toggle button next to **DQL Query** to switch it to simple query. Note: When switching **DQL Query** to **Simple Query**:

- If no operations are performed in **Simple Query**, switching back to **DQL Query** will display the previous DQL query statement.
- If the query statement is adjusted in **Simple Query**, switching back to **DQL Query** will parse according to the latest **Simple Query**.

For more applications of DQL and simple queries, refer to the documentation **Chart Queries**.

![](img/3.dql_2.png)

#### Monitor and Event Module Optimization

##### Added Event Associated Information

<<< custom_key.brand_name >>> now supports viewing related information that triggered the current event, such as associated logs. This **associated information** is only available for four types of monitors: log detection, security check anomaly detection, process anomaly detection, and availability data anomaly detection.

![](img/7.event_1.png)

##### Added Data Gap Event Name and Content Configuration

<<< custom_key.brand_name >>> monitors "Threshold Detection," "Water Level Detection," "Interval Detection," "Sudden Change Detection," "Process Anomaly Detection," "Application Performance Metric Detection," and "User Access Metric Detection" now include data gap event title and content configuration. By default, these fields are not editable, but when choosing to trigger data gap events, you can fill in the data gap event name using predefined template variables. Refer to **Event Title/Content Templates** for more details.

![](img/6.monitor_2.png)

##### Optimized Availability Data Detection

<<< custom_key.brand_name >>>'s **Availability Data Detection** monitor now optimizes support for selecting HTTP, TCP, ICMP, WEBSOCKET test types.

##### Enhanced Alert Notification Templates with Associated Jump Links

Emails, DingTalk, WeChat, and Lark received alert notifications contain a "<<< custom_key.brand_name >>> jump link," which can directly redirect to the corresponding <<< custom_key.brand_name >>> event details page. The time range is the last 15 minutes before the event time. For instance, for an event at 18:45:00, clicking the link redirects to the event details page with a fixed time range of 4.20 18:30:00 ~ 4.20 18:45:00. For more alert notifications, refer to the documentation **Alert Configuration**.

#### Other Functional Optimizations

- Optimized service servicemap metric query performance.
- Added support for five numeric field operators in viewers: > | >= | < | <= | [].
- Added cascading filter support for metric viewer labels.
- Optimized DQL query error messages.

### DataKit Updates

- Process collector filtering only affects metric collection; object collection remains unaffected.
- Optimized DataKit sending to DataWay timeout issues.
- Optimized Gitlab collector.
- Fixed log truncation issues in log collection.
- Fixed partial configuration non-effectiveness after reloading various trace collectors.

For more DataKit updates, refer to **DataKit Version History**.

### Integration Template Updates

#### Added Redis Sentinel Data Storage Integration Documents and Views

The Redis-sentinel observation scene mainly showcases Redis cluster, slaves, and node distribution information.

![](img/777Z.png)

## April 26, 2022

### <<< custom_key.brand_name >>> Updates

#### Optimized SSO Single Sign-On

<<< custom_key.brand_name >>> now supports users initiating SSO single sign-on based on workspaces. Users can input their company email to obtain the corresponding SSO login and complete authentication. The main optimizations in this update include:

- A workspace now supports only one SSO single sign-on configuration instead of multiple identity providers. The most recent SAML2.0 configuration is considered the final single sign-on entry point.
- If multiple workspaces configure the same identity provider (IdP) data, users can switch to view data from different workspaces after SSO single sign-on.
- In SSO single sign-on configuration, "user whitelist" has been replaced with "email domain," requiring only the email suffix domain to match the IdP-configured email suffix for single sign-on.
- SSO single sign-on enablement, configuration updates, and deletions support email notifications and audit events.
- SSO single sign-on users support deletion and editing, with the option to upgrade permissions to "Administrator."

For more SSO single sign-on details, refer to the documentation **SSO Management**.

![](img/12.sso_4.png)

## April 21, 2022

### <<< custom_key.brand_name >>> Community Edition Launch

<<< custom_key.brand_name >>> Community Edition provides a simple yet feature-complete productized local deployment platform for teachers, students, cloud enthusiasts, etc. Download and try it for free to build your own <<< custom_key.brand_name >>> platform and experience the full range of product functionalities.

### <<< custom_key.brand_name >>> Updates

#### Added Gitlab CI Observability

<<< custom_key.brand_name >>> now supports visualizing Gitlab's built-in CI processes and results. Through <<< custom_key.brand_name >>>'s CI visualization feature, you can directly view CI results in Gitlab. The CI process involves continuous integration. When developers push code and encounter issues, they can view all CI pipelines, success rates, failure reasons, and specific failure stages in <<< custom_key.brand_name >>>, ensuring code update assurance. For more details, refer to **CI Viewer**.

![](img/10.ci_7.1.png)

#### Added Online Help Assistant

<<< custom_key.brand_name >>>'s online assistant supports quickly viewing basic introductions, advanced guides, best practices, DataKit, Func, etc., in the workspace. You can click on provided keywords or directly input keywords in the search bar to quickly obtain relevant document descriptions. For more details, refer to the documentation **Help**.

![](img/3.help_1.3.png)

#### Added Dashboard Refresh Frequency Setting

<<< custom_key.brand_name >>> now supports setting refresh frequencies in scene dashboards. The initial refresh frequency defaults to 30 seconds, with options of 10 seconds, 30 seconds, and 60 seconds. If the time control is paused, it will not refresh.

![](img/9.dashboard_1.png)

#### Added 48-hour Playback for Processes

<<< custom_key.brand_name >>> infrastructure processes now support viewing process data collected within the past ten minutes. Clicking the time range allows you to view 48-hour playback of processes. Dragging changes the time display to [Start Time-End Time], with a query time range of 5 minutes. Clicking the "Play" button or refreshing the page returns to viewing the "last 10 minutes" of processes.

![](img/8.process.png)

#### Added Global Overview, Service Category Filtering, and Environment/Version Distinction in Service Topology for Application Performance

Application performance monitoring has added a global performance overview view. On the overview page, you can view the number of online services, P90 service response times, maximum impact response times, service error counts, service error rates, and top 10 rankings for P90 services, resources, and operations response times, as well as top 10 rankings for service error rates, resource 5xx error rates, and resource 4xx error rates.

![](img/1.apm_3.png)

In the application performance service list, you can filter by clicking the service type icon. Clicking again restores the full view.

![](img/1.apm_2.png)

In the service list, switching to "Topology Map" mode allows you to view the calling relationships between various services. It supports drawing service topology maps based on service (service) and service environment version (service+env+version) dimensions. Enabling "distinguish environment and version" draws the service topology map according to different environments and versions. For instance, with canary releases, you can view the service calls under different environment versions by enabling environment and version distinction.

![](img/11.changelog_21.png)

#### Optimized SSO Single Sign-On Configuration

SSO single sign-on configuration has changed the user whitelist to email domains, used to verify whether the email suffix entered at the single sign-on matches. Matching emails can obtain the SSO login link. For more SSO configuration details, refer to the documentation **SSO Management**.

![](img/12.sso_2.png)

#### Other Functional Optimizations

- Added "All Sources" option for associated logs in trace detail pages.
- Added reverse selection support for metric filters, adjusting the position of aggregation functions.
- Optimized frequency selection for log, application performance, user access, security checks, and network-generated metrics.
- Optimized <<< custom_key.brand_name >>> deployment workspace owner transfer permission functionality, which is now managed via the backend.
- Optimized SMS templates for alert notifications.
- Optimized the creation of new tests in availability monitoring, supporting direct selection of HTTP, TCP, ICMP, and WEBSOCKET tests.

### DataKit Updates

- Fixed Grok dynamic multiline pattern issues in the Pipeline module.
- Optimized DaemonSet Helm installation, adding pprof environmental variable configuration. All default collector configurations in DaemonSet support environmental variable configuration.
- Tracing collectors initially support Pipeline data processing.
- Test collectors added a failed task exit mechanism.
- Logs added `unknown` level (status) for logs without specified levels.
- Container collectors fixed:
    - Renamed cluster field issues
    - Renamed namespace field issues
    - If Pod Annotation does not specify log `source`, DataKit infers the log source based on priority.
    - Object reporting no longer limited by 32KB character length (due to Annotations exceeding 32KB), and all Kubernetes objects remove `annotation`.

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Microservices Observability Best Practices
    - From development to canary release in a service mesh microservices architecture (Part 1)
    - From development to canary release in a service mesh microservices architecture (Part 2)
    - From development to canary release in a service mesh microservices architecture (Part 3)
- Monitoring Best Practices
    - JAVA OOM Exception Observability Best Practices

For more best practice updates, refer to **Best Practice Version History**.

### Integration Template Updates

#### Added Documents

- Application Performance Monitoring (APM)
    - Node.JS
    - Ruby
- Middleware
    - RocketMQ
- Container Orchestration
    - Istio
    - Kube State Metrics
- Data Storage
    - Aerospike

#### Added Views

- Container Orchestration
    - Kubernetes Overview by Pods
    - Istio Mesh
    - Istio Control Plane
- Alibaba Cloud
    - Alibaba Cloud ASM Mesh
    - Alibaba Cloud ASM Control Plane
    - Alibaba Cloud ASM Workload
- Middleware
    - RocketMQ

## April 8, 2022

### <<< custom_key.brand_name >>> Billing Update

#### Added Alibaba Cloud Account Settlement Method

In <<< custom_key.brand_name >>> Billing Center "Manage Workspaces," you can view all bound workspaces under the account and modify the settlement method for already bound workspaces. You can change the settlement method to any of <<< custom_key.brand_name >>> Billing Center account, Amazon Cloud account, and Alibaba Cloud account.

### <<< custom_key.brand_name >>> Updates

#### Added DQL Query Viewer

DQL is a language developed specifically for <<< custom_key.brand_name >>>, with simple syntax for easy use. You can perform data queries using DQL in <<< custom_key.brand_name >>> workspaces or terminal devices.

In <<< custom_key.brand_name >>> workspaces, click the menu bar's "DQL Query" to open the DQL query viewer, or use the shortcut `Alt+Q`. The DQL query viewer supports table and JSON output formats and saves 7 days of historical query records.

![](img/3.dql_1.png)

#### Added TCP/ICMP/Websocket Testing Protocols in Availability Monitoring

<<< custom_key.brand_name >>> supports custom testing tasks. By creating testing tasks based on different protocols such as HTTP, TCP, ICMP, and WEBSOCKET, you can comprehensively monitor network performance, quality, and stability of data transmission from different regions and ISPs to various services.

![](img/4.dailtesting_tcp_1.1.png)

#### Added Infrastructure Network Module

In infrastructure, the original host network Map and Pod network Map have been moved to the new "Network" module. This supports viewing host and Pod network Maps. Pod network Map fills in seven-layer network metrics: requests per second, error rate, and average response time. For more details, refer to the documentation **Network**.

![](img/5.network_2.png)

#### Added HTTP Seven-Layer Network Data Display for Container Pods

Infrastructure container Pods now support HTTP seven-layer network data collection and display. After successful Pod network data collection, the data is reported to <<< custom_key.brand_name >>> workspaces. In "Infrastructure"-"Container"-"Pod" detail pages under "Network," you can view all Pod network performance monitoring data in the workspace. For more details, refer to the documentation **Pod Network**.

![](img/5.network_4.png)

#### Added Quick Selection and Reset Features in Viewer Filters

In any viewer's "Quick Filter," you can perform "reverse selection" or "reset" when selecting field filter content. "Reverse selection" hides selected field filter content (clicking "reverse selection" again restores the selected state), while "reset" clears the filter conditions. For more details, refer to **Log Viewer Quick Filter**.

![](img/1.log_7.png)

#### Optimized Log Blacklist

<<< custom_key.brand_name >>> supports filtering out qualifying logs using a log blacklist. After configuring the log blacklist, matching logs are no longer reported to <<< custom_key.brand_name >>> workspaces, helping users save log storage costs.

The log blacklist optimization now supports matching all log sources and two configuration methods:

- Trigger blacklist filtering if any one filter condition is met.
- Trigger blacklist filtering if all filter conditions are met.

For more blacklist configurations, refer to the documentation **Log Blacklist**.

![](img/1.log_10.png)

#### Other Functional Optimizations

- Added span count statistics in trace detail pages.
- Optimized the way timeline data is drawn in trace-associated hosts.
- Cancelled the option for time slicing in overview charts. If time slicing was previously enabled in an overview chart, it defaults to disabling time slicing after optimization.
- Fixed issues with combined chart editing in browser zoom situations.
- Optimized automatic refreshing not triggering when manual pausing occurs in log viewers.

### DataKit Updates

- Process collector filtering only affects metric collection; object collection remains unaffected.
- Optimized DataKit sending to DataWay timeout issues.
- Optimized Gitlab collector.
- Fixed log truncation issues.
- Fixed partial configuration non-effectiveness after reloading various trace collectors.

For more DataKit updates, refer to **DataKit Version History**.

### <<< custom_key.brand_name >>> Mobile App Updates

Added site login capability, optimizing the scene and event viewer to maintain the same viewing experience as the web version.

- Supports users selecting their account's corresponding site and logging in via account password or verification code.
- Supports users viewing all sources or any source log data.
- Supports users viewing all dashboards under the current space and switching "All Dashboards," "My Favorites," "Imported Projects," "My Creations," and "Frequently Browsed" through a dropdown menu for quick filtering of corresponding dashboards.
- Supports users viewing all unresolved event contents triggered by anomaly detection libraries in the **Events** viewer through "All"; supports viewing unresolved events notified to users via email, DingTalk bots, WeChat bots, Lark bots, Webhook, etc., through "Mine".

### Best Practices Updates

- <<< custom_key.brand_name >>> Tips
    - Multi-microservice project performance observability practices
    - Advanced usage of ddtrace
    - Using ExternalName in Kubernetes clusters to map DataKit services
- Integration Best Practices
    - Best practices for integrating OpenTelemetry trace data
- Microservices Observability Best Practices
    - Achieving microservices observability with Alibaba Cloud ASM best practices

For more best practice updates, refer to **Best Practice Version History**.

### Integration Template Updates

#### Added Alibaba Cloud PolarDB Oracle Integration Documents, Views, and Monitors

Alibaba Cloud PolarDB Oracle metrics display includes CPU usage rate, memory usage rate, network traffic, connection count, IOPS, TPS, data disk size, etc.

![](img/image57.png)

#### Added Alibaba Cloud PolarDB PostgreSQL Integration Documents, Views, and Monitors

Alibaba Cloud PolarDB PostgreSQL metrics display includes CPU usage rate, memory usage rate, network traffic, connection count, IOPS, TPS, data disk size, etc.

![](img/image56.png)

#### Added Alibaba Cloud RDS SQLServer Integration Documents, Views, and Detection Libraries

Alibaba Cloud RDS SQLServer metrics display includes CPU usage rate, disk usage rate, IOPS, network bandwidth, TPS, QPS, etc.

![](img/image55.png)

#### Added DataKit Integration Documents, Views, and Monitors

DataKit performance metrics display includes CPU usage rate, memory information, runtime, log records, etc.

![](img/image54.png)

#### Added Nacos Integration Documents and Views

Nacos performance metrics display includes Nacos uptime, Nacos config long connections, Nacos config count, service count, HTTP request counts, etc.

![](img/image53.png)

## March 24, 2022

### <<< custom_key.brand_name >>> Site Updates

<<< custom_key.brand_name >>> now supports multi-site login and registration, adding the "Overseas Region 1 (Oregon)" site. The original "China Region 1 (Alibaba Cloud)" has been changed to "China Region 1 (Hangzhou)," and the original "China Region 2 (AWS)" has been renamed to "China Region 2 (Ningxia)."

Accounts and data from different <<< custom_key.brand_name >>> sites are mutually independent and cannot share or migrate data. You can choose a suitable site for registration and login based on your resource usage. Currently, <<< custom_key.brand_name >>> supports the following three sites:

| Site | Login URL | Operator |
| --- | --- | --- |
| China Region 1 (Hangzhou) | **https://auth.guance.com/** | Alibaba Cloud (China Hangzhou) |
| China Region 2 (Ningxia) | **https://aws-auth.guance.com/** | AWS (China Ningxia) |
| Overseas Region 1 (Oregon) | **https://us1-auth.guance.com/** | AWS (US Oregon) |

For more details on how to select a site, refer to the documentation **<<< custom_key.brand_name >>> Site Explanation**.

### <<< custom_key.brand_name >>> Updates

#### Added Workspace Data Authorization

<<< custom_key.brand_name >>> supports authorizing multiple workspace data to the current workspace via data authorization. This allows querying and displaying data from all workspaces in one workspace using chart components in scenarios, dashboards, and notebooks. For configuration details, refer to the documentation **Data Authorization**.

1. Configure data authorization for workspaces whose data you want to view under "Management"-"Data Authorization".

![](img/9.dataauth_16.png)

2. After obtaining data authorization in a workspace, open "Scenarios"-"Dashboards or Notebooks", choose a chart component, and in "Settings"-"Workspace," select the authorized workspace. You can then use **Chart Queries** to view and analyze data from the authorized workspace.

![](img/9.dataauth_7.png)

#### Added Saving Online Pipeline Sample Test Data

<<< custom_key.brand_name >>> Pipeline supports two types: custom and official library:

- Custom Pipeline script rules can be tested with log sample data after writing to verify if the parsing rules are correct. Saved custom Pipelines will also save the log sample test data.
- The official Pipeline library comes with multiple log sample test data. Before "Cloning," you can choose the appropriate log sample test data that fits your needs. Saved cloned Pipelines will also retain the log sample test data.

For more online Pipeline features, refer to the documentation **Pipelines**.

![](img/10.pipeline_1.png)

#### Optimized Resource Directory Viewer

In <<< custom_key.brand_name >>> workspaces, you can create new object classifications through "Infrastructure"-"Custom"-"Add Object Classification". You can set the resource directory classification name and object fields.

After adding a resource directory classification, you can report custom data through the **Func Function Processing Platform**. For how to report data to <<< custom_key.brand_name >>> workspaces via Func, refer to the documentation **Resource Directory Data Reporting**.

![](img/11.custom_1.png)

#### Optimized Snapshot Sharing with Permanent Valid Links

Snapshot sharing now supports setting expiration times, allowing selection of "48 hours" or "Permanent." In the snapshot list, click the share button to configure advanced settings like "Hide Top Bar" in the pop-up dialog box. For more snapshot sharing details, refer to the documentation **Snapshots**.

Note: Permanent links may pose data security risks, so please use them cautiously.

![](img/6.share_4.png)

#### Optimized Chart Time Intervals

In the chart settings of scenario dashboards, when time intervals are set to "Auto Align," a time interval option appears in the top-right corner of the preview chart. You can select the time interval according to your actual situation to view your data.

![](img/8.table_1.png)

#### Optimized Process, Application Performance, and User Access Detection Data Gap Trigger Strategies

In <<< custom_key.brand_name >>> monitoring modules, when configuring process anomaly detection, application performance metric detection, and user access metric detection monitors, data gap states support three configurations: "Trigger Data Gap Event," "Trigger Recovery Event," and "Do Not Trigger Event." These need to be manually configured.

### DataKit Updates

- Added DataKit command-line completion functionality to assist with terminal operations by providing command prompts and parameter completions.
- Allowed upgrading DataKit to non-stable versions to experience the latest experimental features. Please upgrade cautiously if you are in a production environment.
- Preliminarily supported data collection for Kubernetes/Containerd architectures.
- Added TCP/UDP/ICMP/Websocket protocol support to network testing.
- Adjusted Remote Pipeline storage in DataKit locally to avoid file name case sensitivity issues across different file systems.
- Added decode() function in Pipeline to avoid configuring encoding in log collectors and perform encoding conversion within Pipeline; added scope management for add_pattern().

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Scenario Best Practices
    - Best practices for reporting RUM data to DataKit cluster
- Log Best Practices
    - Best practices for Pod log collection

For more best practice updates, refer to **Best Practice Version History**.

### Integration Template Updates

#### Added Alibaba Cloud PolarDB MySQL Integration Documents, Views, and Detection Libraries

Alibaba Cloud PolarDB MySQL metrics display includes CPU usage rate, memory hit rate, network traffic, connection count, QPS, TPS, read-only node delay, etc.

![](img/image51.png)

## March 10, 2022

### <<< custom_key.brand_name >>> Billing Update

#### Added <<< custom_key.brand_name >>> Prepaid Card

<<< custom_key.brand_name >>> prepaid cards support purchasing through account cash balance, applicable to all <<< custom_key.brand_name >>> consumption modes, including pay-as-you-go and annual subscription packages. Log into the <<< custom_key.brand_name >>> **Billing Center**, click "Manage Prepaid Cards," and enter the prepaid card management page to purchase. After purchasing and paying for the prepaid card, an equivalent invoice is issued based on the actual payment amount. For more details, refer to **Prepaid Card Management**.

### <<< custom_key.brand_name >>> Updates

#### Added User Access Monitoring Resource (Resource), Action (Action), Long Task (Long Task), Error (Error) Viewers

User access monitoring viewers help you view and analyze detailed information about user visits to applications. In <<< custom_key.brand_name >>> workspaces, opening "User Access Monitoring," clicking any application, and then using "Viewers" allows you to understand each user session, page performance, resources, long tasks, and errors impacting user experience. By searching, filtering, and correlated analysis, you can comprehensively understand and improve the application's operational status and usage conditions, enhancing user experience.

<<< custom_key.brand_name >>> user access monitoring viewers include session (Session), view (Page), resource (Resource), action (Action), long_task (Long Task), error (Error).

| Viewer Type | Overview |
| --- | --- |
| Session (Session) | View a series of details about user visits, including visit time, visited page paths, number of actions, visit paths, and error information. |
| Page (View) | View user visit environments, trace back user operation paths, decompose response times of user operations, and understand backend application call chain performance metrics caused by user operations. |
| Resource (Resource) | View various resource information loaded on web pages, including status codes, request methods, resource addresses, and loading durations. |
| Action (Action) | View user interactions during application usage, including action types, page operation details, and operation durations. |
| Long Task (Long Task) | View long tasks blocking the main thread for over 50ms during application usage, including page addresses and task durations. |
| Error (Error) | View frontend errors issued by browsers during application usage, including error types and content. |

#### Added Pod Network Details and Network Distribution

Pod networks support viewing network traffic between Pods. Based on IP/port, you can view network traffic and data connections between source IPs and target IPs, visualizing real-time displays to help businesses monitor business system network states, quickly analyze, track, and locate faults, preventing or avoiding business disruptions due to network performance degradation or interruptions.

Pod network data is reported to <<< custom_key.brand_name >>> consoles after successful collection. In "Infrastructure"-"Containers"-"Pod" detail pages under "Network," you can view all Pod network performance monitoring data in the workspace. For more details, refer to **Pod Network**.

![](img/7.pod_1.png)

In "Infrastructure"-"Containers"-"Pod," click the small icon in the upper-left corner of the network distribution chart to switch to viewing Pod network distribution. In the "network distribution chart," you can visually query network traffic between Pods in the current workspace, quickly analyzing TCP latency, TCP fluctuations, TCP retransmission counts, TCP connection counts, and TCP closure counts between different Pods. For more details, refer to **Pod Network Distribution Chart**.

![](img/7.pod_3.png)

### DataKit Updates

- DataKit collector added support for SkyWalking, Jaeger, and Zipkin data sampling strategies.
- DataKit collector added support for OpenTelemetry data ingestion.
- DataKit documentation library added documents introducing overall log collection methods, including collecting logs from disk files, calling environment APIs to collect logs, pushing logs remotely to DataKit, and sidecar-style log collection.

#### Breaking Changes

**2022/03/22**

- Significant adjustments have been made to Tracing data collection, involving several incompatible changes:
    - DDtrace configuration field `ignore_resources` in the original conf must be changed to `close_resource`, and the field type changes from array (`[...]`) to dictionary array (`map[string][...]`)
    - Original DDTrace data tag `type` field is changed to `source_type`

**2022/03/04**

- For old versions of DataKit with RUM enabled, you need to reinstall the IP library after upgrading, as the old IP library will no longer be usable.

**2021/12/30**

- Old versions of DataKit can no longer push new upgrade commands using `datakit --version`. Use the following commands directly:

- Linux/Mac:

```shell
DK_UPGRADE=1 bash -c "$(curl -L https://static.<<< custom_key.brand_main_domain >>>/datakit/install.sh)"
```

- Windows

```powershell
$env:DK_UPGRADE="1"; Set-ExecutionPolicy Bypass -scope Process -Force; Import-Module bitstransfer; start-bitstransfer -source https://static.<<< custom_key.brand_main_domain >>>/datakit/install.ps1 -destination .install.ps1; powershell .install.ps1;
```

For more DataKit updates, refer to **DataKit Version History**.

### SDK Updates

User access monitoring is compatible with Opentracing protocol tracing tools. Web, mini-program, Android, iOS SDKs support data linkage with OTEL, SkyWalking, Jaeger, and other tracing tools.

### Best Practices Updates

- Custom Integration Best Practices
    - Quick start guide for Pythond collector best practices
    - Integrating Alibaba Cloud "Cloud Monitor Data" best practices
- Log Best Practices
    - Best practices for collecting logs via logback socket

For more best practice updates, refer to **Best Practice Version History**.

### Scenario Template Updates

#### Added MySQL Database Viewer Template for Custom Scenarios

<<< custom_key.brand_name >>>'s custom scenario viewers added a MySQL database viewer template, helping you quickly set up MySQL log viewers. In <<< custom_key.brand_name >>> workspaces, under "Scenarios"-"Viewers"-"Built-in Viewer Templates," click "MySQL Viewer Template" to directly create a MySQL log viewer. If related logs have already been collected, you can use this log viewer for data viewing and analysis.

![](img/11.changelog_11.png)

### Integration Template Updates

#### Added Host System EthTool Integration Documents and Views

EthTool metrics include network interface inbound/outbound traffic, inbound/outbound packets, discarded packets, etc.

![](img/image44.png)

#### Added Host System Conntrack Integration Documents and Views

Conntrack performance metrics include successful search entries, inserted packets, connection counts, etc.

![](img/image43.png)

## February 22, 2022

#### Added Log Configuration Pipeline Script

Pipeline is used for log data parsing, defining parsing rules to split heterogeneous log formats into structured data that meets our requirements. <<< custom_key.brand_name >>> provides three methods for text processing in log Pipelines:

- DataKit: After installing DataKit on servers, configure the DataKit log collector and corresponding pipeline files in the terminal tool to process text data.
- DCA: DataKit Control APP is a desktop client application for DataKit. Install it first, and then you can view and edit default built-in log pipeline files in DataKit and manually add custom pipeline files.
- Pipelines: Support manual configuration and viewing of log pipeline files in <<< custom_key.brand_name >>> workspaces without needing to log into the DataKit server for operations.

![](img/6.pipeline_1.png)

#### Added IFrame Chart Component

<<< custom_key.brand_name >>> added an IFrame chart component supporting HTTPS or HTTP link configurations. In the IFrame URL, you can input external URLs directly for viewing, or use template variables for viewing. For more configuration details, refer to the documentation **IFrame**.

![](img/7.ifram_2.png)

#### Added Event Detail Historical Records and Associated SLO

In the event detail page, the basic attributes, status & trends, and associated events layout has been optimized, and historical records and associated SLOs have been added. Clicking the event name in the anomaly event list allows you to view these details.

The newly added event history supports viewing detection object hosts, anomaly/recovery times, and duration.

![](img/9.event_6.png)

If SLO is configured in monitoring, you can view associated SLOs, including SLO name, achievement rate, remaining quota, target, etc.

![](img/9.event_8.png)

#### Default Absolute Time Enabled When Saving Snapshots

<<< custom_key.brand_name >>> now defaults to enabling absolute time when saving snapshots.

- If absolute time is selected when saving a snapshot, the shared snapshot will show the saved snapshot's absolute time. For example, if you saved a snapshot choosing the last 15 minutes and opened the snapshot link at 14:00, it will show the previous absolute time data.
- If absolute time is not selected when saving a snapshot, the shared snapshot will show the saved snapshot's absolute time. For example, if you saved a snapshot choosing the last 15 minutes and opened the snapshot link at 14:00, it will show data from 13:45 to 14:00.

For more snapshot sharing details, refer to the documentation **Snapshots**.

![](img/8.snap_1.png)

#### Optimized Data Gap Event Configuration and Trigger Condition Unit Prompts in Monitors

<<< custom_key.brand_name >>> added three data gap status configurations: "Trigger Data Gap Event," "Trigger Recovery Event," and "Do Not Trigger Event."

- For metric-type data monitors, you need to manually configure the data gap handling strategy.
- For log-type data monitors, the default recovery event strategy "Trigger Recovery Event" does not require configuring data gaps, and the recovery event cycle is obtained from the "Normal" condition cycle.

![](img/11.changelog1.png)

#### Optimized Metric Expression Calculation Units in Chart Queries

<<< custom_key.brand_name >>> optimized the logic for calculating units in chart queries. If query A has units, the result of query A plus a number retains the same units. For example, if A's unit is KB, then A + 100 also uses KB as its unit. For more details, refer to the documentation **Chart Queries**.

#### Added "Time Series" Pay-as-you-go Mode

<<< custom_key.brand_name >>> added a "Time Series" pay-as-you-go mode and optimized the "DataKit + Time Series" pay-as-you-go mode. For specific billing modes, refer to the documentation **Pay-as-you-go**.

#### Other Optimization Features

- Chart queries for data sources such as logs, application performance, security checks, and network support full selection (`*`);
- Optimized chart query text, button styles, and text prompts;
- Iconified workspace operation buttons like edit, delete, etc.;
- Other UI display optimizations.

## January 20, 2022

#### Added Open API and API Key Management

<<< custom_key.brand_name >>> supports obtaining and updating workspace data via Open API interfaces. Before calling API interfaces, you need to create an API Key as an authentication method. For more details, refer to the documentation **API Key Management**.

![](img/image42.png)

#### Added Metric Dictionary and Metric Unit Management

After metric data collection, you can view all collected metric sets and their metrics and labels in <<< custom_key.brand_name >>> workspaces under "Metric Dictionary". You can manually set units for custom metric data. For more details, refer to the documentation **Metric Dictionary**.

- Metrics help you understand overall system availability, such as server CPU usage, website load times, etc. Combined with <<< custom_key.brand_name >>>'s provided logs and traces, they help you quickly pinpoint and resolve faults.
- Labels help correlate data. <<< custom_key.brand_name >>> supports uploading all metrics, logs, and trace data uniformly to the workspace. By tagging the collected data with the same labels for correlation queries, you can perform correlation analysis to identify and resolve potential risks.

![](img/7.metrics_1.png)

#### Added Funnel Chart for Scene Charts

Funnel charts are generally suitable for flow analysis with standardized processes, long cycles, and multiple stages. Comparing data across stages can intuitively highlight issues. Additionally, funnel charts are suitable for website business flow analysis, showing the final conversion rate from entering the website to completing a purchase, as well as conversion rates at each step. For more details, refer to the documentation **Funnel Chart**.

![](img/image41.png)

#### Added Saving Dashboards to Built-in Views and Binding Label Data

After creating a dashboard view, you can click the "Settings" button and choose "Save to Built-in Views" to save the dashboard view to the "User Views" in built-in views.

![](img/4.dashboad_1.png)

When saving a dashboard view to built-in views, you can choose binding relationships, such as selecting "label". After saving to built-in views, you can view the saved dashboard view under "Management"-"Built-in Views"-"User Views". Since "label:*" binding was set, you can view bound built-in views in the host/container detail pages where "Label Attributes" have been set in infrastructure. For more details, refer to the documentation **Saving Dashboards as Built-in Views**.

![](img/4.dashboad_3.png)

#### Added Container Detail Page Association with Pod

In container detail pages, you can view related Pod (associated field: pod_name) basic information and performance metrics within the selected time component range. For more container association queries, refer to the documentation **Container**.

Note: To view related Pods in container details, you need to match the "pod_name" field; otherwise, you cannot view the related Pod page in container details.

![](img/8.contrainer_1.png)

#### Added Monitor Group Management

<<< custom_key.brand_name >>> added the grouping feature, allowing you to customize meaningful monitor combinations when setting up monitors. You can filter monitors via "Groups" for easier management.

Note:
- Each monitor must select a group upon creation, defaulting to "Default Group".
- When a group is deleted, monitors under that group automatically revert to the "Default Group".

![](img/2.monitor_1.png)

#### Added Format Configuration for Log Viewers, Table Charts, and Log Stream Charts

<<< custom_key.brand_name >>> added format configuration, allowing you to hide sensitive log data or highlight important log data, and perform quick filtering by replacing original log content. Format configuration is supported in log viewers, table charts, and log stream charts.

![](img/5.browser_5.png)

#### Optimized Mute Management, Adding Disable/Enable Rules

<<< custom_key.brand_name >>> added mute rule disable/enable functionality to quickly manage mute tasks. For more details, refer to the documentation **Mute Management**.

- Enable: Mute rules follow normal procedures.
- Disable: Mute rules do not take effect; if the mute notification policy selects "xx minutes before" and the mute notification operation has not yet been executed, the notification will not execute.

Note: Enabling/disabling rules generate audit events, which can be viewed under "Management"-"Basic Settings"-"Audit Logs" in <<< custom_key.brand_name >>> workspaces.

![](img/2.monitor_6.png)

#### Added Log Pipeline Usage Manual

<<< custom_key.brand_name >>> added a log pipeline usage manual to help you understand how to use DataKit's built-in debugging tools to assist in writing Pipeline scripts.

```shell
# Debugging script example
datakit --pl datakit.p --txt '2022-01-12T18:40:51.962+0800 WARN diskio diskio/input.go:320 Error gathering disk info: open /run/udev/data/b252:1: no such file or directory'

# Successful extraction example
Extracted data(drop: false, cost: 3.108038ms):
{
  "code": "diskio/input.go:320",
  "level": "WARN",
  "message": "2022-01-12T18:40:51.962+0800 WARN diskio diskio/input.go:320 Error gathering disk info: open /run/udev/data/b252:1: no such file or directory",
  "module": "diskio",
  "msg": "Error gathering disk info: open /run/udev/data/b252:1: no such file or directory",
  "time": 1641984051962000000
}
```

#### Added Outer Functions in DQL

<<< custom_key.brand_name >>> added two outer functions `rate()` and `irate()`.

- `rate()`: Calculates the average change rate of a metric over a specified time range. Suitable for alerts and slowly moving counters.
- `irate()`: Calculates the instantaneous change rate of a metric over a specified time range, suitable for drawing volatile, fast-changing counters.

For more details, refer to the documentation **DQL Outer Functions**.

---

This concludes the translation of the provided document. If there are any further sections or additional content you would like translated, feel free to provide the text, and I'll continue translating it for you.