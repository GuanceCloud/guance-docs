# Generate Metrics
---


Guance Cloud supports the generation of new metric data based on existing data in the current space, so that you can design and implement new technical indicators according to your needs.

### New Rule

Enter the "Log"-"Generate Indicator" page, and click "New Rule" to start creating a new generation metric rule.

![](img/2.log_metric_1.png)

**Step 1**: Data filtering. Filter out all/single log data sources existing in the current space and start generating new data based on this data source.

- Source: Data source, that is, the log data source that has been collected. **Note: "*" denotes all data sources**

**Step 2**: Data query. Based on the selected data source, you can add filter and aggregate expressions to existing data, requesting new metric results and data sets.

- Aggregation method: including Avg (taking average value), Min (taking minimum value), Max (taking maximum value), Count (taking data points), p75, p95 and p99.

| Aggregation Method | Description |
| --- | --- |
| count | Number of statistics |
| avg | Average statistics, you need to select aggregated fields. |
| max | To count the maximum value, you need to select the aggregated field. |
| min | To count the minimum value, you need to select the aggregated field. |
| P75 | Count 75% of the values of the specified fields, and the aggregated fields need to be selected. |
| P95 | Count 95% of the values of the specified fields, and the aggregated fields need to be selected. |
| P99 | Count 799% of the values of the specified fields, and the aggregated fields need to be selected. |

- Sample metrics: Sample metrics generated from set data, that is, new metric results are generated by querying and aggregating sample metrics
- Dimensions: Data aggregation by selected objects, that is, a statistical value is generated for each selected object in the data request
- Filter: The function supports adding one/more filter criteria to existing label data and adding "and" (and), "or" (or) relationships to the same row of filter criteria

**Step 3:** Generate metrics. Set the way and result of generating metrics, including the period of generating metrics, the label name of newly generated metrics and the measurement name.

- Frequency: the execution period of generating metrics, which defaults to 1 minute, that is, new metric data is generated every 1 minute; The selected time of frequency is also used as the aggregation time, and the frequency is selected as 1 minute, so the metric is generated by aggregation every 1 minute, and the time range of each aggregation is also 1 minute.
- Time range: Based on the selected frequency as the time interval, the default query of the chart is 6 hours, that is, the statistical display effect of a certain data within 6 hours; When the modification "frequency" >= 1 hour, the query time range is fixed at 7 days.
- Measurement: Set the name of the measurement where the metric is stored
- Metric: Set the name of the metric. Metric names cannot be duplicated. Multiple metrics can be added.

**Step 4:** After completing the generation rule, click OK to complete the generation of indicator rules and start data collection.

All the added rules will be displayed in the Generate Metric interface. Users can "Enable/Disable", "Open in Metric Analysis", "Open in Metric Management", "Edit" and "Delete" operations.

![](img/5.log_metric_1.png)

### Edit Rules

On the Generate Metric page, you can view all generated indicator rules that have been created and edit them.

**Note: Because the data source and aggregate expression of generating indicator rules determine the data type, some rules do not support editing and modification.**

![](img/2.log_metric_3.png)

### Enable/Disable Rules

On the Generate Metrics page, you can modify the rule status. After the metric generation rule is disabled, the corresponding data will not be written to the measurement, and the writing will resume after it is enabled.

### Delete Rule

On the Generate Metrics page, unnecessary rules can be deleted. After the rules are deleted, the measurement will not be deleted, but data writing will stop.

### View Metrics

#### View in Metric Analysis

On the Generate Metrics page, click the Open in Metrics Analysis button on the right side of the rule to jump to the Metrics Analysis page for query and analysis.

Note: Metrics generation is based on data aggregation within the selected frequency and query time range. If no data is submitted during the period, metrics cannot be generated, and query or search in metric cannot be performed.

![](img/5.log_metric_2.png)

â€‹	

#### View in Metric Management

On the Generate Metric page, click the Open in Metric Management button on the right side of the rule to jump to the Metric Management page to view metrics and tags, and support editing indicator units and descriptions.

![](img/5.log_metric_3.png)
