# Synthetic Testing Anomaly Detection
---

Used to monitor Synthetic Tests data within the workspace. You can set a threshold range for the specified data volume generated by dial testing tasks over a period of time. Once the data volume reaches these thresholds, the system will trigger an alert. Additionally, you can customize alert levels so that different threshold ranges can trigger corresponding level alerts when the specified data volume is reached.

## Application Scenarios

Supports monitoring data volumes generated by various types of dial tests based on protocols such as `HTTP`, `TCP`, `ICMP`, and `WEBSOCKET`. For example, monitoring the unavailability of URLs deployed in production environments.

## Detection Configuration

![](../img/5.monitor_5.png)

### Detection Frequency

The execution frequency of the detection rules; default is 5 minutes.

### Detection Interval

The time range for querying detection metrics. Affected by the detection frequency, the selectable detection intervals will vary.

| Detection Frequency | Detection Interval (Dropdown Options) |
| --- | --- |
| 1m | 1m/5m/15m/30m/1h/3h |
| 5m | 5m/15m/30m/1h/3h |
| 15m | 15m/30m/1h/3h/6h |
| 30m | 30m/1h/3h/6h |
| 1h | 1h/3h/6h/12h/24h |
| 6h | 6h/12h/24h |
| 12h | 12h/24h |
| 24h | 24h |

3) **Detection Metrics**: Set the metrics for detecting the data volume of specified data generated by all or individual dial testing tasks within the current workspace.

:material-numeric-1-circle-outline: Dial Testing Metrics:

| Field | Description |
| --- | --- |
| Dial Testing Type | Includes four types of dial testing: `HTTP`, `TCP`, `ICMP`, `WEBSOCKET`. |
| Dial Testing Address | Supports monitoring all or individual dial testing tasks available within the current workspace. |
| Metric | Supports detection based on metric dimensions, including average response time, P50 response time, P75 response time, P90 response time, P99 response time, availability, error request count, request count, and availability rate. |
| Dimension | Any string type (`keyword`) field in the configuration data can be selected as a detection dimension. Currently, up to three fields can be chosen. By combining multiple detection dimension fields, a specific detection object can be determined. Guance will determine whether the statistical metrics for a given detection object meet the threshold conditions to trigger events.<br />*For example: selecting detection dimensions `host` and `host_ip` would result in a detection object like `{host: host1, host_ip: 127.0.0.1}`.* |
| Filter | Filters the detection metric data based on metric tags, thus limiting the scope of detected data. You can add one or more tag filters, fuzzy matches, and fuzzy mismatches.

:material-numeric-2-circle-outline: Count Statistics

You can query and statistically analyze dial testing tasks based on four different dial testing types using keyword searches or tag filtering.

In addition to simple queries, expression-based queries are also supported.

### Trigger Conditions

Set the trigger conditions for alert levels: You can configure any one of the critical, major, minor, or normal trigger conditions.

Configure the trigger conditions and severity levels. When the query results contain multiple values, an event is triggered if any value meets the trigger condition.

> For more details, refer to [Event Level Description](event-level-description.md).

If **Continuous Trigger Judgment** is enabled, you can configure the number of consecutive judgments required to trigger an event again, with a maximum limit of 10 times.


???+ abstract "Alert Levels"

	1. **Critical (Red), Major (Orange), Minor (Yellow)**: Based on configured condition operators.
  

	2. **Normal (Green)**: Based on the configured detection count, as follows:

	- Each execution of a detection task counts as one detection. For example, if the [detection frequency = 5 minutes], then one detection = 5 minutes.    
	- You can customize the detection count. For example, if the [detection frequency = 5 minutes], then 3 detections = 15 minutes.   

	| Level | Description |
	| --- | --- |
	| Normal | After the detection rule takes effect, if a critical, major, or minor anomaly event occurs and the data returns to normal within the configured custom detection count, a recovery alert event is generated.<br/> :warning: Recovery alert events are not subject to [alert silencing](../alert-setting.md). If no recovery alert event detection count is set, the alert event will not recover and will remain in the [**Events > Unrecovered Events List**](../../events/event-explorer/unrecovered-events.md).|
	

### Data Gaps

Seven strategies can be configured for handling data gaps.

1. Linked to the detection interval time range, judge the query results of the most recent minutes for the detection metrics, **do not trigger an event**;

2. Linked to the detection interval time range, judge the query results of the most recent minutes for the detection metrics, **treat the query results as 0**; at this point, the query results will be compared with the thresholds configured in the **trigger conditions** above to determine if an anomaly event should be triggered.

3. Customize the filling of detection interval values, **trigger data gap events, critical events, major events, minor events, and recovery events**; it is recommended that the custom data gap time configuration be **>= detection interval time**. If the configured time <= detection interval time, there may be simultaneous satisfaction of data gaps and anomalies, in which case only the data gap processing result will be applied.


### Information Generation

Enabling this option will generate "information" events for detection results that do not match any of the above trigger conditions.

**Note**: If trigger conditions, data gaps, and information generation are configured simultaneously, the following priority order applies: data gaps > trigger conditions > information event generation.