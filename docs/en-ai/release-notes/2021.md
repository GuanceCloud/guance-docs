# Change Log (2021)
---

This document records the update content of each online release of Guance, including DataKit, Guance best practices, Guance integration documents, and Guance.

## December 30, 2021

#### Optimization of Built-in View Binding

Guance supports associating built-in views with different link services, applications, log sources, projects, etc., by binding fields. According to the bound fields, you can view the associated built-in views (system views, user views) on the corresponding Explorer detail pages. Supported Explorers include custom scenario Explorers, infrastructure, logs, traces, RUM, Security Check, Synthetic Tests, etc.

![](img/4.view_bang_2.png)

#### Optimization of Log Explorer

- In the Log Explorer, the left-side source list is expanded by default upon first login, which can be manually collapsed; the Explorer will remember the last state.
- Clicking the settings button on the left side in the Log Explorer allows you to manually add filter fields for quick filtering.
- Hover over log content in the log data list to expand and view the full content of the log. Clicking the "Copy" button copies the entire log content to the clipboard. If possible, the system formats the log JSON; otherwise, it displays the log content normally.

![](img/6.log_12.png)

#### Optimization of Associated Display on Explorer Detail Pages

The associated display on detail pages of log, infrastructure, trace, Security Check Explorers has been optimized. This includes related queries for hosts, Metrics, traces, containers, Pods, etc., supporting two types of associated displays: fixed and non-fixed (displayed based on whether they contain associated fields).

For example, in the Log Explorer detail page associated with a host, the associated field is "host". To view related hosts in the log details, the "host" field needs to match. After matching, you can view basic information and metric performance status of the host under the associated host.

- Attribute View: Includes basic information about the host, integration runtime status, and cloud vendor information if cloud host collection is enabled.

![](img/7.host_1.png)

- Metric View: You can view performance metric charts for related hosts within the default 15 minutes, such as CPU, memory, etc. Clicking 「Open this View」 leads to the built-in view, where you can customize and modify the host view via cloning and save it as a user view, which can be viewed by binding it to the log detail page.

![](img/7.host_2.png)

#### Optimization of Snapshot Sharing

Snapshot sharing supports hiding the top bar on the share page. In the snapshot list, clicking the share button allows you to set advanced settings like "Hide Top Bar" in the pop-up dialog box.

![](img/12.share_pic_1.png)

#### Optimization of Thousand-Separator Display for Chart Query Results

Guance dashboard chart query results support automatic addition of thousand separators for data display. If units are set, the data format follows the specified unit. After setting, you can preview the changes.

![](img/13.table_4.png)

#### Other Optimizations

- Optimized network topology diagram query performance for hosts, adding target domain names to display nodes in the topology diagram. That is, if the target host is not in the current workspace but the target domain exists and its port is less than 10000, the target domain will be displayed in the topology diagram.
- Optimized sorting logic for favorites in scenario dashboards and Note Explorers:
   - Unfavorited dashboards are sorted in reverse chronological order by creation time
   - Favorited dashboards are sorted in reverse chronological order by favorite time
   - Favorited dashboards appear above unfavorited ones
- Optimized cascading query logic for view variables, i.e., when two variables are linked, selecting `*` does not filter the linked variable, showing all value options.
- Added help documentation links to the collapsible navigation bar on the left.

## December 16, 2021

#### Addition of Similarity Metric Query in Time Series Charts

In analysis mode of time series charts, you can select "Chart Query" as metric trend lines/columns and "View Similar Trend Metrics." By selecting an absolute time range, you can query similar metric trends within the space.

![](img/12.changelog_8.png)

#### Addition of Associated Data Statistics Display on Explorer Detail Pages

Added statistical display of related logs, traces, containers, etc., in lists on Explorer detail pages. This supports directly obtaining statistical quantities of related data from the tab titles on Explorer detail pages, including infrastructure, logs, APM, RUM, Security Check, etc.

![](img/12.changelog2.png)

#### Addition of Export Function for Explorer Charts

Guance supports exporting any chart from the "Guance" space Explorer to dashboards, notes, or clipboard.

![](img/12.changelog_3.1.png)

#### Addition of Match Search in Explorer Search Bar

Guance supports wildcard searches in the Explorer search bar using field filters like "host:cc*", suitable for filtering log data from hosts with consistent naming prefixes. Additionally, a "Delete" button has been added to the right of the Explorer search bar to support one-click deletion of text input.

![](img/12.changelog4.png)

#### Optimization of Log Explorer and Related Data Queries

- Through the "Container" section below the log details page, you can view all container (Container) data related to the host within the past ten minutes.
- Related trace and container data on the log details page can be filtered by "trace_id" or "host".
- The log details page supports both JSON and text viewing modes for message type-based automatic formatting.
- Using the Approximate Text Viewer, you can view detailed information about associated logs after Pattern clustering.
- Removed color from hover tips in the Log Explorer.

![](img/image36.png)

#### Optimization of Mute Policy, Supporting Mute Settings for Monitors

Guance supports users in muting monitors in the "Monitoring" feature through "Mute Management," managing all mute rules in the current workspace. Guance offers three types of mutes: host mute, monitor mute, group mute. These support muting different hosts, monitors, groups, preventing alert notifications from being sent to any notification targets during the mute period.

![](img/image35.png)

#### Optimization of Monitor Management

Duplicate monitors in the monitor list can affect users' ability to quickly locate monitoring objects. Guance supports choosing whether to create duplicate monitors from templates. Users can also use the new "Batch Management" tool to customize export/deletion of monitors.

![](img/12.changelog_5.png)

#### Optimization of View Variable Query Display

- Added default values for dashboard view variables, allowing preview of all current view variables and selection of initial variables to view on the dashboard.
- Supports adjusting the order of view variables via drag-and-drop while hovering (hover).
- Removed the "Settings" button for view variables, enabling direct use of "Sort," "Hide," and "Delete" functions in the view variable list.

![](img/12.changelog_6.png)

#### Optimization of Dashboard, Notes Lock Time Setting

Guance supports adding "More" options to lock time settings for dashboards and notes, customizing the lock time range. After this optimization, the lock time component and chart component functionalities remain consistent.

![](img/12.changelog_7.png)

#### Optimization of Help Center Entry

In the Guance Help Center, you can quickly view product documentation, updates, blogs, live review recordings, and join our official service group via QR code.

![](img/12.changelog.png)

## December 2, 2021

#### Addition of Owner Member Role

Guance adds an owner role for the current workspace, currently supporting four types of workspace member permissions: "Owner," "Admin," "Standard Member," and "Read-Only Member," constraining management, configuration, operation, and browsing permissions for different member categories. The "Owner" role has the highest operation permissions, able to designate "Admins" and manage, configure, operate, and browse data freely. In the Guance workspace's 「Management」-「Member Management」-「Edit」, you can edit and update member permissions.

![](img/6.changelog_4.png)

#### Addition of Custom Explorers in Scenarios

Guance provides customizable Explorers based on log data ranges in scenarios, supporting collaborative building of custom-scenario Explorers among workspace members, meeting customized viewing needs. Completed "Explorers" can be exported and shared with others, sharing Explorer templates.

![](img/image32.png)

#### Addition of User View Export to Dashboards

Guance supports exporting user-created views in 「Built-in Views」 to JSON files, which can be used for importing into different workspaces or built-in views.

![](img/6.changelog_5.png)

#### Optimization of Host Network Observability, Adding Network Flow Data List View

Guance supports viewing different visual charts based on selected protocols in the "Network" section of the infrastructure "Host" detail page, and customizing the display fields for network flow data lists.

By clicking 「View Network Flow Data」, you can view network flow data from the past two days by default, including time, source IP/port, destination IP/port, source host, transmission direction, protocol, bytes sent, etc. Supports custom display fields or adding filter conditions, filtering all string-type keyword fields.

![](img/6.changelog_2.png)

#### Addition of Sourcemap Functionality

When deploying applications in production environments, to prevent code leakage and other security issues, files are typically transformed and compressed during packaging. While these measures ensure code security, they result in obfuscated error stack information that cannot directly pinpoint issues, complicating subsequent bug resolution.

To address this, Guance provides sourcemap functionality for web applications, supporting the deobfuscation of code to facilitate error localization and faster problem resolution.

![](img/image33.png)

#### Addition of Security Check Data Analysis for Host Associations

Guance supports viewing Security Check data related to the host within the past day and performing keyword searches, multi-label filtering, and data sorting on these Security Check data.

![](img/6.changelog_6.png)

#### Addition of Kubernetes Installation Guide for DataKit Collector

Guance supports adding a guide for installing the DataKit collector on Kubernetes clusters in the workspace 「Integration」-「DataKit」.

![](img/6.changelog_8.png)

#### Optimization of Associated Trace Query for User Access Monitoring

Guance supports adding attributes to the current filter or copying (copying the tag to the local clipboard) in the trace details page and user access page performance details page (User Access Monitoring View Explorer).

![](img/image34.png)

#### Optimization of Registration Upgrade Process

Guance added the option to choose to activate the billing platform directly when registering an account and optimized the upgrade process to Agile Edition after logging into the workspace.

#### Billing Price Adjustment

Guance adopted the latest technology to optimize data storage costs and adjusted billing prices accordingly. A tiered billing model based on data retention policies was introduced, covering log data, APM Traces, RUM PV, etc.

Additionally, to assist enterprises in achieving more cost-effective and comprehensive observability of IT infrastructure and application systems, Guance launched three package bundles—Startup Accelerator Pack, Entrepreneur Development Pack, and Enterprise Standard Pack—and stackable traffic packs for enterprises to choose according to their own needs and bundle usage.

#### Other Optimizations

- Added LCP, FID, CLS, FCP-related detection metrics for user access indicator monitoring. In the Guance workspace 「Monitoring」-**Monitor**, click 「+ New Monitor」, select 「User Access Indicator Detection」, and enter the configuration page for detection rules.
- Changed the grouping in simple queries of monitors to detection dimensions, determining which dimension triggers the detection rule. Guance supports adding multiple detection dimensions, triggering alerts if any one meets the alert condition.
- Optimized navigation menu display, presenting secondary menus at the top when the Guance workspace toolbar is collapsed.

## November 18, 2021

#### Addition of SSO Login

Guance supports creating identity providers in workspaces for SSO login. Users can obtain the corresponding SSO login link by entering their company email during login, clicking the SSO login link to complete verification. In the Guance workspace 「Management」-「SSO Management」-「New Identity Provider」, you can set up SSO single sign-on for employees.

![](img/image31.png)

#### Addition of SLO Charts in Dashboards and Notes

Added SLO charts in scenario dashboards and notes. SLO charts can directly select configured monitoring SLOs for SLO data display, synchronously displaying SLO data results by selecting different SLO names.

![](img/7.slo_1.png)

#### Addition of Custom Group Field for Infrastructure Groups

In the Guance infrastructure Explorer, click the settings button next to the group on the right side, and you can add custom group labels. After adding, you can choose to aggregate and display data based on the added group labels.<br />Note: Only administrators can add custom group labels.

![](img/4.host_1.png)

#### Addition of Notification Silence Configuration for SLO

If an event is not very urgent but has a high notification frequency, you can reduce the notification frequency by setting notification silence. After setting notification silence, events will continue to occur, but notifications will no longer be sent, and generated events will be stored in event management.

![](img/7.slo_2.png)

#### Optimization of Chart Links

Guance supports adding built-in links and custom links to charts, allowing you to jump from the current chart to the target page and pass data information by modifying the corresponding variable values in the link template, achieving data linkage. Chart links support opening from a new page, current page, or slide-out detail page, enabling linked analysis.

![](img/8.changelog_1.png)

#### Billing Price Adjustment

- Daily DataKit price reduced to 3 yuan per unit
- Synthetic Tests API dial testing adjusted to 1 yuan per 10,000 requests


#### Other Optimizations

- Launch of new free version in China Region 1 (Alibaba Cloud): Free Plan divided into Alibaba Cloud login and AWS login. Alibaba Cloud login timeline data retention policy is 30 days, other data retention policies are 7 days; AWS login all data retention policies are 1 day;
- Optimized SLO deduction logic: Monitors in disabled status do not count towards deductions;
- Added dashboard label function: When creating/modifying a dashboard view, you can add custom labels to dashboards to help with quick filtering;
- Optimized log highlight display: When searching logs in the search bar, only matched keywords are highlighted in the returned list;
- Optimized Explorer search: Added help documentation links to the Explorer search dropdown;
- Optimized Markdown format for text charts: Added support for unordered and ordered lists, optimizing display format.

## November 4, 2021

#### Addition of Scenario Notes

In scenarios, you can create multiple notes for summary reports, supporting the insertion of real-time visual charts for data analysis, text documents for explanations, combining charts and documents for data analysis and summary reports; supports exporting data from infrastructure, logs, APM, RUM Explorers to notes for data analysis; supports sharing notes with all workspace members, retaining anomaly data analysis, helping to trace, locate, and solve problems.

![](img/5.notebook_4.png)

#### Upgrading Scenario Views to Dashboards

Guance's scenario views have been upgraded to dashboards, and adjustments have been made to the functionality and layout of dashboards. In scenarios, you can create multiple dashboards to build data insight scenarios, supporting keyword searches for dashboards, adding visual charts for data analysis, and quickly filtering and finding corresponding dashboards from "My Favorites", "Import Projects", "My Creations", and "Frequently Browsed".

![](img/image26.png)

#### Addition of Export to Dashboards and Notes in Explorers

Infrastructure, log monitoring, APM, Synthetic Tests, Security Check Explorers now support exporting to dashboards and notes.

![](img/10.changelog_1.png)

#### Upgrading Anomaly Detection Library to Monitoring

The original "Anomaly Detection Library" has been upgraded to "Monitoring". Names such as "Anomaly Detection Library" and "Detection Rules" have changed. Specific changes are as follows:

- Monitor (formerly "Anomaly Detection Rule") provides various monitoring methods such as "Threshold Detection" and "Log Detection", allowing users to configure detection rules and trigger conditions and receive alert notifications in real-time.
- Templates (formerly "Built-in Detection Library"), Guance includes several pre-built availability monitoring templates for Docker, Elasticsearch, Host, Redis. After successfully creating a template, the corresponding official monitors are automatically added to the current workspace.
- Groups (formerly "Custom Detection Library"), the group function supports creating meaningful monitor combinations, making it easier to manage various monitors.

 

![](img/6.changelog_1.png)

#### Addition of SLO Monitoring Function, Supporting Export to Dashboards

"Monitoring" has added SLO monitoring, supporting scoring of service quality provided by service providers (Providers) in the cloud era, comparing the corresponding SLI (Service Level Indicator) to see if it meets target requirements. Additionally, Guance supports exporting SLO views to dashboards for synchronized SLO monitoring.

![](img/image27.png)

#### Other Optimizations

- Chart Optimizations:
    - Overview chart removed group selection;
    - Adjusted style choices for time series, pie, and bar charts;
    - Added tooltip information for time slices;
    - Support editing chart JSON and linking with queries/settings, validating input JSON and showing error messages if errors exist;
    - Style optimizations for time series charts in analysis mode;
- Paid plans and bills added prompts, settlement method choices between aliyun or aws, and bill lists directly show links to corresponding cloud service control panels for viewing bill information.


## October 21, 2021

#### Addition of Host Network Distribution Diagram

Added a host network distribution diagram providing observable infrastructure networking. In 「Infrastructure」-「Host」, click the small icon in the upper left corner to switch to viewing host network distribution. In 「Network Distribution Diagram」, you can visually query network traffic between hosts in the current workspace, quickly analyzing TCP latency, TCP fluctuation, TCP retransmissions, TCP connections, and TCP closures between different hosts.

![](img/3.host_netmap_4.png)

#### Addition of User Access Monitoring Tracking Function

Added a "Tracking" function to User Access Monitoring. Supports creating tracking tasks through User Access Monitoring to monitor custom trace paths in real-time. By pre-setting trace paths, you can filter trace data centrally, precisely querying user access experiences, promptly discovering vulnerabilities, anomalies, and risks.

![](img/image25.png)

#### Addition of JSON Format Query for Scenario Charts

When editing charts in 「Scenarios」, each correct chart query corresponds to a JSON text. Supports parsing JSON text and chart queries within the workbench, helping you understand chart drawing details.

![](img/image24.png)

#### Optimization of DCA Desktop Client Application

Optimized DCA desktop client UI display, added host status.

- online: Indicates normal data reporting, allowing you to view DataKit's operational status and configuration collectors via DCA;
- unknown: Indicates remote management configuration not enabled or not on the same local network;
- offline: Indicates the host has not reported data for over 10 minutes or the hostname has been changed. Hosts that do not report data normally will be removed from the list if they do not report data for over 24 hours.

![](img/1.dca_2.png)

#### Optimization of Event Host Linked Queries and Detection Rule Queries

Optimized the event module to support linked queries for associated hosts, enabling real-time monitoring of logs, containers, processes, traces, inspection events related to the event within the selected time component range; supports one-click viewing of associated detection rules and querying other triggered events under the corresponding detection rules.

![](img/image23.png)

#### Adjustment of Billing Methods

- Choose billing settlement methods based on node login methods, including CloudCare accounts, Aliyun, AWS. Among them, CloudCare account settlement is the general method, Alibaba Cloud login nodes can choose Aliyun account settlement (in progress), AWS login nodes can choose AWS account settlement (already available).
- Removed Session count and Browser dial test count billing dimensions. In 「Paid Plans and Bills」, removed Session count and Browser dial test count statistics and views, added Security Check count statistics graph.


#### Other Optimizations

- Optimized chart addition function in scenarios, removing the 「Add Chart」 button in 「Edit」 mode, making all addable chart types selectable at the top of the scenario;
- Optimized scenario chart grouping function, supporting only deleting groups while keeping existing charts in the default group;
- Added regional ranking switch for China map/World map, default off;
- Optimized Explorer query method, merging search and filter bars, supporting keyword searches, label field filters, and associated searches based on tags, fields, and text.

## September 28, 2021

#### Addition of Host Network Performance Monitoring

Host network performance monitoring supports viewing network traffic between host services, containers, and any tagged infrastructure. It supports viewing network traffic and data connections between source hosts and destinations based on IP/ports, visualizing real-time data to help businesses understand the network operating status of business systems, quickly analyze, track, and locate faults to prevent or avoid business issues caused by network performance degradation or interruptions.

After successful collection of host network data, it reports to the Guance console. In 「Infrastructure」-「Host」 details page under 「Network」, you can view all network performance monitoring data information within the workspace.

![](img/3.network_1.png)
#### Addition of Linked Query for Charts

In scenario views, you can click to view the DQL query statement, associated links, etc., of the chart or perform linked queries for related logs, containers, processes, traces, etc., under different group query tags. When the chart query contains host (host) information, you can view related host monitoring views. For example, clicking any chart can display the DQL query statement, set links, and linked queries for related logs, containers, processes, traces, and host monitoring views.

![](img/1.changelog.png)

#### Addition of Rectangular Tree Map

A rectangular tree map is used to visualize the proportion of metric data under different groups. The color represents the group's tag (Tag), and the area represents the metric data. When multiple metric queries are added, you can choose the main metric to display, and the size of the area is shown based on the selected metric data results, Top/Bottom, and quantity. For example, this chart uses visualization to display the CPU usage rate ranking of hosts.

![](img/image21.png)

#### Addition of Associated Query for APM and User Access Monitoring

In the trace details of APM monitoring, you can view associated (same trace_id) real user access experience data through the "Related View" at the top of the page. This feature not only helps you view proactively monitored APM data but also helps you quickly gain insights into real user visits. More APM monitoring can be referenced in the **Trace Analysis** documentation.

![](img/image22.png)

#### Addition of Absolute Time Range for Infrastructure Queries

Infrastructure added absolute time ranges for queries on 「Host」, 「Container」, 「Process」. By default, it displays host data from the past 24 hours, container data from the past ten minutes, and process data from the past ten minutes, which can be refreshed manually. Hovering over an offline host shows the offline handling prompt.

![](img/7.changelog_host.png)

#### Optimization of Year-over-Year Comparison Feature for Charts

Optimized the year-over-year comparison feature for charts, supporting comparisons of concurrent data for time series charts, overview charts, etc. You can choose to compare year-over-year (comparing the same time point in adjacent periods) or quarter-over-quarter (comparing adjacent periods). Based on the locked chart time, you can choose quarter-over-quarter, daily quarter-over-quarter, weekly quarter-over-quarter, monthly quarter-over-quarter, weekly year-over-year, monthly year-over-year, etc.

![](img/3.view_2.png)

#### Optimization of Chart Query SLIMIT
<br />Default SLIMIT is added to grouped chart queries to limit the number of points or series returned by **time series charts**. One chart limits the return of 10,000 points, and one query returns a maximum of 10 time series.

![](img/7.changelog_view_1.png)

#### Changing Cloud Dial Testing to Availability Monitoring

Cloud dial testing is split into API dial testing and Browser dial testing, which is renamed to availability monitoring. After the change, API dial testing is retained. Other features such as overview analysis, viewer analysis, and user-defined node functionality remain unchanged. For more details, refer to the **Availability Monitoring** documentation.

#### Billing Price Adjustment

- Log price reduced from 1 yuan per 1 million entries to 0.5 yuan per 1 million entries
- User access monitoring price removed Session billing dimension, adjusted to 0.3 yuan per 1,000 PVs

Refer to the **Pay-as-you-go** documentation for more pricing and data expiration policy details.
## September 9, 2021

#### Renaming DataFlux to "Guance"

In the cloud computing era, observability is increasingly adopted and valued by more enterprises. DataFlux, the observability platform introduced by Zhiyun Technology for the cloud era, has been officially renamed to "Guance" to make it easier for enterprises and users to understand. The URL is now "www.guance.com".

We have also designed a new logo for "Guance", using letters C and G to form a radar wave-like graphic, embodying the characteristics of detection and observation, fully aligning with the concept of observability and reflecting the core protection system that "Guance" builds for enterprises and users based on data.

![](img/logo.png)

#### Addition of Log Approximate Text Viewer

Guance supports similarity analysis on the `message` field of raw log data, calculating similarity based on the selected time range and retrieving 10,000 log entries for approximate analysis within that time frame. High-similarity logs are clustered, extracting and statistically analyzing common Patterns to help quickly identify abnormal logs and locate issues.

![](img/5.logging_4.png)

**Pattern Cluster Details**

Clicking on the Pattern cluster list draws out the current Pattern cluster list, with returned data sorted in descending order by time, supporting the display of up to 50 recent log entries, which can be shown in 1 line, 3 lines, or 10 lines.

![](img/5.logging_5.1.png)

#### Addition of Container Jobs and Cron Jobs Viewer

Guance added Container 「Jobs」 and 「Cron Jobs」 viewers. In 「Infrastructure」-「Container」, select the corresponding viewer from the left-side object list to view the running status and service capability metrics of Jobs and Cron Jobs in Kubernetes, thereby achieving real-time monitoring of Kubernetes clusters and deployed resources. Refer to the **Container** documentation for more details.

![](img/15.changelog_1.1.png)

#### Addition of DCA Desktop Client Application

DCA, DataKit Control APP, is a desktop client application aimed at facilitating the management of installed and configured collectors, supporting viewing of integration lists, configuration file management, Pipeline management, and online viewing of integration configuration documentation. You can remotely connect to DataKit via DCA, change collectors online, and apply changes after saving updates.

In the "Guance" workspace, click 「Integration」-「DCA」 sequentially to download the installation package. After downloading, install it on your computer to remotely manage DataKit.

![](img/1.dca_1.png)

#### Addition of Mobile App

DataFlux Mobile helps you view log data, scene views, etc., from Guance on mobile devices anytime and receive all alert events notified via email, DingTalk bot, WeChat Work bot, Webhook, etc.

In the Guance workspace, you can download the DataFlux Mobile app via 「Integration」-「Mobile」.

![](img/15.changelog_2.png)

#### Addition of Label Filtering Function for Metrics, Optimizing Three Viewing Modes for Metrics

DataKit collectors automatically append the tag `host=<DataKit host name>` to all collected data,

Labels are a collection of properties identifying a data point's source object, consisting of label names and label values. In the 「Metrics」 page, you can choose to view the metric view corresponding to the selected label value. As shown in the figure below: Filter by host in the label bar and view its `usage_system`, `usage_total`, `usage_user`, `usage_iowait` metric views.

![](img/3.metric_3.1.png)

On the left side of the 「Metrics」 page, you can choose to switch between metric viewing modes, supporting three modes: Tile mode, Mixed mode, List mode, with Tile mode selected by default.

#### Optimization of Anomaly Detection

Added window (window) function for use in anomaly detection rule queries and chart queries, i.e., supporting statistical calculations for each record using selected time intervals as windows (record sets) and detection frequency as offsets.

•  In chart queries, you can add window functions, i.e., using selected time intervals as windows (supporting 1 minute, 5 minutes, 15 minutes, 30 minutes, 1 hour, 3 hours), combined with aggregation functions to execute statistical calculations for each record.<br />•  When configuring anomaly detection rules, a new window function is added to the plotting area for displaying real-time anomaly detection metric data that triggers alerts.

![](img/image16.png)

Added percent() function for use in aggregation functions in anomaly rule queries and chart queries. Supports adding the percent() function in aggregation functions, including p50 (median value), p75 (value at the 75th percentile), p90 (value at the 90th percentile), p99 (value at the 99th percentile).

Added label filtering for use in anomaly rule queries and chart queries, supporting selection of host label attributes for filtering display. Before selecting labels in queries, you need to set label attributes for hosts in 「Infrastructure」-「Host」.

#### Optimization of Unresolved Event Display Styles

In the unresolved event list, you can preview the window function for the event's last 6 hours:<br />•  The dashed border effect indicates the time period affected by the anomaly event<br />•  Depending on the alert level corresponding to colored blocks, you can view related anomaly detection metric data for threshold, log, APM indicators, RUM indicators, Security Check, anomaly process, cloud dial testing detection, including critical, error, warning.<br />•  For detection rule types such as mutation, interval, water level, the vertical line on the chart quickly identifies the time point when the current event was triggered.

![](img/image15.png)

In the event details page, you can view the status distribution, DQL function, and window function line chart of anomaly events.<br />•  Status distribution: Displays the event status (critical, important, warning, data gap) within the selected time range (defaulting to the last 6 hours)<br />•  DQL query statement: Returns real-time metric data based on custom query statements defined by anomaly detection rules, defaulting to the last 6 hours of real-time metric data<br />•  Window function: Based on anomaly detection rules, using the selected time range as a window (record set) and detection frequency as an offset, re-executes statistical calculations for each record, returning real-time anomaly detection metric data used to trigger alerts. Defaults to the last 6 hours of real-time anomaly detection metric data

![](img/6.57.31.png)


#### Optimization of Scenario View Analysis

In preview mode, double-clicking a chart enlarges it to enter analysis mode for viewing. In edit mode, double-clicking a chart enters edit mode for adding, deleting, and modifying charts.

#### Optimization of Built-in View Binding for Infrastructure

When selecting built-in views, duplicate view names are filtered. When system views and user views have the same name, only user views are displayed, meaning only user views can be chosen. If you need to select a system view, you must rename or delete the duplicate user view.

#### Optimization of Billing Method, Addition of Cloud Dial Testing Billing, Adjustment of Data Expiration Policy

- Added PV count statistics: Session counts and PV counts are billed based on the lower actual cost.
- Added billing for cloud dial testing task counts: Opened self-built node management for cloud dial testing, supporting any space administrator to create new dial testing nodes globally; cloud dial testing billing dimensions charge based on the number of calls for cloud dial testing tasks in the current workspace; Free Plan workspaces can create up to 5 dial testing tasks and only support "China region" dial testing nodes; Agile Edition and above workspaces support creating more dial testing tasks and using more foreign dial testing nodes.


## August 26, 2021
### DataFlux Studio

#### Addition of Label Filtering in Chart Queries

DataFlux supports selecting host label attributes for display filtering. Before choosing labels in chart queries, you need to set label attributes for hosts in 「Infrastructure」-「Host」. As shown in the following figure, there are two hosts with the "production" label attribute, so data from these two hosts is displayed.

![](img/3.query_4.1.png)

#### Addition of Container Cluster, Replicate Set, Node Viewers

DataFlux added Cluster, Replicate Set, Node Viewers for containers, supporting the viewing of operational status and service capability metrics for Clusters, Replicate Sets, Nodes in Kubernetes, thereby achieving real-time monitoring of Kubernetes clusters and deployed resources.

![](img/image14.png)

#### Addition of Quick Filtering for User Access Monitoring View

DataFlux supports adding custom filter fields in the View Viewer by clicking the settings button for quick filtering on the left side. After selecting the fields to add, click "Complete".

![](img/8.rum_2.png)

Note: If the added filter field represents a time field, you can filter and view corresponding page content by selecting a time range. For example, loading_time (page load time).

![](img/8.rum_3.png)

#### Addition of Navigation Menu Help Entry, Multiple Viewer Data Collection Guidance Entries

DataFlux added a help documentation entry in the navigation menu. When viewers have not uploaded data, DataFlux provides quick access to "How to Start Data Collection" to help you promptly initiate real-time monitoring in different viewers. This includes how to start log monitoring, how to start cloud dial testing, how to collect host objects, etc.

#### Optimization of Log Viewer

DataFlux optimized the Log Viewer, using different colors to highlight different parts of the log, allowing you to quickly grasp key data information from the log. It supports light and dark themes.

| Log Content | Light Theme | Dark Theme |
| --- | --- | --- |
| Date (log occurrence time) | Yellow | Light Yellow |
| Keywords (HTTP protocol related, e.g., GET) | Green | Light Green |
| Text (string enclosed in quotes) | Blue | Light Blue |
| Default (plain text without any markers) | Black | Gray |
| Numbers (log status codes, e.g., 404) | Purple | Light Purple |

![](img/1.logging_7.3.png)

#### Optimization of Security Check Overview Statistics

DataFlux supports customizing the view on the Security Check overview page. By clicking the 「Jump」 button, you can navigate to the corresponding built-in view for viewing and editing, copying, and exporting the view.

![](img/image13.png)

#### Optimization of Workspace Switching

DataFlux supports switching to other workspaces or creating new workspaces by clicking the 「Current Space」 name.

![](img/WeChat9a634816694a7d55cac97283c93c943a.png)

#### Optimization of System Theme Color Switching

DataFlux added an "Automatic" option for system theme colors, automatically switching theme colors based on computer appearance settings.

![](img/4.color_1.1.png)

#### Other Optimizations

- Optimized APM 「Service」 details, allowing direct navigation to 「Traces」 to view resource traces when clicking on resource names in the service details page;
- Optimized User Access Monitoring View 「Performance」 details, clicking on error data (marked as "Error" in the View list), can view error details;
- Optimized label name and value display in the Metrics Viewer;
- Optimized X-axis time display in time series charts: default time range is the last 15 minutes, segmented by minute intervals; last day, segmented by hour intervals; last 7 days, segmented by day intervals;
- Optimized expression queries, ensuring consistent group labels when multiple query statements are included in chart queries;
- Optimized host integration runtime status, adding DataKit version information for installed hosts in 「Infrastructure」-「Host」-「Integration Runtime Status」;
- Optimized snapshot sharing, allowing sharing snapshots with anyone who has the sharing link, or encrypted sharing with those who have both the link and key.

## August 12, 2021
### DataFlux Studio

#### Addition of 3 Permission Roles, Optimization of Scenario View Permissions

DataFlux now supports defining three types of workspace member permissions: "Admin", "Standard Member", and "Read-Only Member", restricting management, operation, and viewing permissions for different member categories. "Admins" can customize permission scopes for members, such as limiting read-only members' access to scenario views and limiting standard members' editable scenario views.

In the DataFlux workspace's 「Management」-「Member Management」-「Modify」, you can edit and update member permissions.

![](img/12.changelog_1.png)

#### Addition of Connection Tracking and File Layout Optimization in Infrastructure Host Details View

DataFlux supports viewing host system information in the infrastructure host details page, including host name, operating system, processor, memory, network, disk, connection tracking count, file handle count, etc.

![](img/3.host_7.png)

#### Addition of Scene View Snapshot Save Function

In the DataFlux workspace, enter 「Scene」-「Node」, click the 「Settings」 button in the top navigation bar, and select 「Save Snapshot」 to save the current view data as a snapshot.

![](img/12.changelog_4.png)

Additionally, DataFlux supports quickly saving snapshots via page function buttons and keyboard shortcuts (Ctrl+K). In