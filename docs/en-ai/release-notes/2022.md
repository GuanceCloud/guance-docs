# Changelog (2022)

This document records the update content of each online release of <<< custom_key.brand_name >>>, including DataKit, <<< custom_key.brand_name >>> best practices, <<< custom_key.brand_name >>> integration documents, and <<< custom_key.brand_name >>>.

## December 29, 2022

### <<< custom_key.brand_name >>> Updates

#### Added MFA Authentication Management

<<< custom_key.brand_name >>> provides MFA authentication management to add an extra layer of security beyond account usernames and passwords. After enabling MFA authentication, you need to perform a second verification during login to enhance your account's security. For more details, refer to the documentation **MFA Management**.

#### Added Workspace IP Access Login Whitelist

<<< custom_key.brand_name >>> supports configuring an IP whitelist for workspaces to restrict visitor access. After enabling the IP whitelist, only IPs from the whitelist can log in normally, while other sources will be denied access. For more details, refer to the documentation **IP Whitelist**.

Note: Only administrators and owners can set the IP whitelist. Owners are not subject to IP whitelist access restrictions.

![](img/6.space_ip_1.png)

#### Added Service Network Topology

In K8S environments, you can use the Service network topology diagram to view request relationships, response times, error rates, etc., between various Services in the K8S environment. When you find that a Service has connection issues, you can click to view the corresponding logs of the Service to locate the problem. For more details, refer to the documentation **Service Network**.

![](img/5.service_map_1.2.gif)

#### Other Functionality Improvements

- Pipeline usage improvements
- Log clustering analysis now supports custom fields
- Super large logs, after being split, support viewing associated logs
- Backup log display improvements
- Sensitive fields of data authorization support all types of data except metrics

### DataKit Updates

- Prometheus collector supports collecting data via Unix Socket
- Allows **non-root users to run DataKit**

- Optimized eBPF HTTP flow protocol determination
- Optimized Datakit installation upgrade commands on Windows
- Optimized Pythond packaging usage
- Pipeline provides more detailed operation error messages
- Pipeline reftable provides local storage implementation based on SQLite

For more DataKit updates, refer to **DataKit Version History**.

### Smart Inspection Updates

#### Official Smart Inspection Discontinued

Official smart inspections such as "Memory Leaks", "Application Performance Detection", and "Disk Usage" have been discontinued. Users can configure through **custom inspection** script libraries.

#### Added Cloud Account Instance Dimension Billing Inspection

Cloud account instance dimension billing inspection helps users manage abnormal cost warnings at the cloud service instance level, predict cost situations, and provide high-growth, high-consumption instance prompts and bill visualization capabilities, supporting multi-dimensional visualization of cloud service resource consumption.

#### Added Alibaba Cloud Preemptible Instance Survival Inspection

Due to fluctuations in market prices for preemptible instances, it is necessary to specify a bidding model when creating a preemptible instance. When the real-time market price for the specified instance specification is lower than the bid and inventory is sufficient, the preemptible instance can be successfully created. Therefore, inspecting preemptible instances for cloud assets becomes particularly important. Through inspection, if it is found that a preemptible instance is about to be released, it will prompt the latest prices of available zones for the current specification of preemptible instances, along with historical prices, and provide appropriate handling suggestions.

For more smart inspection updates, refer to **Smart Inspection Change Log**.

## December 15, 2022

### <<< custom_key.brand_name >>> Updates

#### Added Profile and Network Billing

<<< custom_key.brand_name >>> added Profile and Network billing items. Profile counts the number of application performance Profiles reported in the workspace on the current day, and Network counts the number of hosts (host) reporting network data in the workspace on the current day. For more details, refer to the documentation **Billing Method**.

#### <<< custom_key.brand_name >>> Registration Process Optimization

<<< custom_key.brand_name >>> simplified the registration process to help you quickly complete registration and start using <<< custom_key.brand_name >>>. For more details, refer to the documentation **Register <<< custom_key.brand_name >>> Commercial Plan**.

#### Added Warroom Feature

<<< custom_key.brand_name >>> provides a "Warroom" dashboard where you can get an overview of key metric trends across all workspaces, helping you quickly understand critical data conditions in each workspace and promptly identify and resolve anomalies. For more details, refer to the documentation **Key Metrics Management**.

![](img/3.key_metrics_6.1.png)

#### Added Dashboard Carousel Functionality

<<< custom_key.brand_name >>> provides carousel functionality for multiple related business dashboards. After setting up, you can display them on large screens. For more details, refer to the documentation **Carousel Dashboards**.

![](img/1.dashboard_player_2.png)

#### Binding External SLS Indexes in Workspaces

<<< custom_key.brand_name >>> added support for binding SLS indexes, allowing you to quickly view and analyze your log data uniformly. Additionally, <<< custom_key.brand_name >>> added support for field mapping functions to help map SLS index fields for cluster analysis. For more details, refer to the documentation **Log Index**.

![](img/7.log_index_1.png)

#### Link Viewer Chart Display Optimization

In the link viewer, new trend charts for "Span count" and "Error Span count" have been added. You can quickly view trends in Span count, Error Span count, request count, Error request count, and response time indicators through the viewer's chart.

![](img/4.apm_1.png)

#### Other Functionality Improvements

- View variable interaction optimization
- Built-in view configuration interaction optimization
- Workspace arrears lock process optimization
- Workspace invitation user experience optimization
- Help documentation added an evaluation system, including good and poor reviews
- Monitoring batch function optimization
- SLO added enable/disable functionality
- Wildcard left * match query limit optimization

### DataKit Updates

- Added **Golang Profiling** integration
- logfwd supports injecting image fields via `LOGFWD_TARGET_CONTAINER_IMAGE`
- Trace collector:
    - Optimized error-stack/error-message format issues
    - Adjusted SkyWalking compatibility to support the full 8.X series
- eBPF httpflow added `pid/process_name` fields, optimized kernel version support
- Adjustments to datakit.yaml are recommended, consider updating the yaml file
- GPU card collection supports remote mode

For more DataKit updates, refer to **DataKit Version History**.

### Smart Inspection Updates

#### Added Smart Inspection Onboarding Page

<<< custom_key.brand_name >>> default supports three smart inspection templates: Memory Leak, Disk Usage Rate, and Application Performance Detection. This update allows existing workspaces to manually delete default smart inspections, while simultaneously notifying the unified offline time; newly created workspaces no longer provide these three smart inspections by default, adding a newbie guide prompt.

![](img/6.bot_obs_1.png)

#### Smart Inspection Component Supports Custom Jump Links Configuration

When configuring custom inspections, you can configure custom jump links. For how to configure custom inspections, refer to the documentation **Custom Inspections**.

For more smart inspection updates, refer to **Smart Inspection Update Logs**.

### Best Practices Updates

- Insight
    - Scene (Scene) - **SpringBoot project external Tomcat scenario trace observability**.

For more best practice updates, refer to **Best Practice Version History**.

## December 1, 2022

### <<< custom_key.brand_name >>> Updates

#### Added Application Performance New Service List Feature

The APM service list supports real-time viewing of ownership, dependencies, performance, associated dashboards, and correlation analysis for different services, quickly identifying and resolving service performance issues, helping teams efficiently build and manage large-scale end-to-end distributed applications. For more details, refer to the documentation **Service List**.

![](img/9.service_list_7.gif)

#### Dashboard Chart Experience Optimization

- Added manual input for chart units, colors, and aliases. You can customize preset units, colors, and aliases according to current standards, such as unit input format being: aggregation function(metrics), like `last(usage_idle)`
- Added Y-axis configuration for time series charts, allowing manual configuration of maximum and minimum values for the Y-axis
- Added grouping display for pie charts and bar charts, which only show tag values in the legend when enabled
- Added gradient intervals for hexagonal maps, China maps, and world maps, including automatic and custom options
- Bar chart and histogram display optimization

For more details, refer to the documentation **Visualization Charts**.

![](img/10.view_chart_1.gif)

#### View Variable Experience Optimization

- Added support for multi-selection in view variables
- Added whether to set multiple default values when configuring view variables

For more details, refer to the documentation **View Variables**.

![](img/10.view_chart_2.png)

#### User Access Monitoring Session Viewer Adjustment

In the user access monitoring Session viewer, new "Session" and "All Records" viewing lists have been added:

- Session: Counts deduplicated Session data within the current time range, displaying the latest Session data by default;
- All Records: Displays all reported Session data, with the same Session potentially corresponding to multiple records.

Note: In the Session session list, if the added display columns do not exist in the current Session data, there may be empty data in the session list. For more details, refer to the documentation **Session (Session)**.

![](img/6.rum_session_1.1.png)

#### Events Added Mobile Jump Options

After receiving alert event notifications, users can click "Go to <<< custom_key.brand_name >>> View" to go to the <<< custom_key.brand_name >>> mobile app to view detailed information about abnormal events.

#### Other Functionality Improvements

- Newbie guide page optimization, supports minimization
- User access monitoring application list optimization, added customizable interval switching queries for time widgets
- Host label addition interaction optimization

### DataKit Updates

- Added Python Profiling integration
- Pythond added custom event reporting functionality
- netstat supports specific port metrics collection

- Optimized Redis collector CPU usage rate collection, added new metrics fields
- Optimized logfwd collector configuration
- Enhanced encapsulation of host object fields, added network, disk-related fields

For more DataKit updates, refer to **DataKit Version History**.

### Smart Inspection Updates

- Kubernetes Pod Abnormal Restart Inspection
- MySQL Performance Inspection
- Server-side Application Error Inspection
- Memory Leak Inspection
- Disk Usage Rate Inspection
- Application Performance Inspection
- Frontend Application Log Error Inspection

For more smart inspection updates, refer to **Smart Inspection Update Logs**.

### Best Practices Updates

- Monitoring Monitoring
    - Performance Optimization - **Utilizing async-profiler for Application Performance Tuning**

For more best practice updates, refer to **Best Practice Version History**.

## November 17, 2022

### <<< custom_key.brand_name >>> Updates

#### Pipeline Usage Experience Optimization 

- Pipeline supports multi-selection for filter condition configuration

- Supports setting any one Pipeline script as the "default Pipeline script". If the current data type does not match other Pipeline scripts during processing, the data will be processed according to the rules of the default Pipeline script.

- Categorized script functions

![](img/3.changelog_6.jpg)

#### Event Optimization

- Supports writing user-defined events, for more details, refer to the documentation **Writing Event Data via OpenAPI**.

- Added quick filters on the left side of unresolved events in the event viewer

![](img/3.changelog_4.png)

#### Custom Viewer Supports Selecting More Types of Data

When creating a new viewer in a scenario, you can choose 5 types of data: logs, application performance, user access, security inspection, Profile. Once saved, changes cannot be modified.

![](img/3.changelog_8.png)

#### Member Management Added Member Grouping Functionality

In member management, added member grouping functionality. You can edit member groups; a member can belong to multiple groups. When configuring notification targets for alert strategies, you can configure member group labels.

![](img/3.changelog_5.png)

#### Optimized Built-in View Binding Functionality

In the scenario "Built-in Views" - "User Views", bound fields now support fuzzy matching. After binding fields, you can associate and view corresponding built-in views in the viewer. For more details, refer to the documentation **Binding Built-in Views**.

![](img/3.changelog_2.1.png)

#### Added One-click Import/Export of Dashboards, Custom Viewers, Monitors in Workspaces

In "Management" - "Basic Settings", added one-click import/export of dashboards, custom viewers, monitors, etc., in JSON configurations within the workspace. You can import dashboards, custom viewers, monitors, etc., from other workspaces into the current workspace.

![](img/3.changelog_7.png)

#### Application Performance Monitoring Log Page Added Custom Correlation Fields

In the APM detail page, under the associated log page, if you have administrator or higher permissions, you can customize correlation fields. You can click the settings button to the right of the correlation fields, select the fields you want to correlate in the pop-up dialog box, support manual input, support drag-and-drop order adjustment, confirm to complete configuration.

![](img/9.apm_explorer_10.1.png)

#### Other Functionality Improvements

- When using fuzzy matching and fuzzy non-matching in filter conditions, left * matching is supported
- Infrastructure analysis dimensions optimized, last report time in host detail page
- Support user quick login to previous single sign-on
- Blacklist application performance monitoring added support for filtering "all services"
- Registration process optimization for users registered at the "China Region 4 (Guangzhou)" site upgraded to the Commercial Plan
- Field descriptions support viewing in quick filters, display columns, etc.

### DataKit Updates

- Added **SNMP Collector**
- Added **IPMI Collector**
- Added bulk injection DDTrace-Java tool
- The latest DDTrace-Java SDK enhances SQL desensitization functionality
- Remote Pipeline optimization
    - Pipeline supports source mapping relationship configuration for batch configuration between Pipeline and data sources
    - Pipeline provides categorized function information to facilitate remote Pipeline writing
- Optimized **Kafka message subscription**, no longer limited to obtaining SkyWalking-related data, also supports throttling, multi-version coverage, sampling, and load balancing settings
- Alleviated short lifecycle Pod log collection issues via additional configuration parameters (`ENV_INPUT_CONTAINER_LOGGING_SEARCH_INTERVAL`)
- Pure container environments support configuring log collection inside containers via **label method**
- Added Pipeline functions
    - **sample()**: Sampling function
    - **b64enc()**: Base64 encoding function
    - **b64dec()**: Base64 decoding function
    - **append()**: List append function

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Insight
    - <<< custom_key.brand_name >>> Tips (Skills) - Configuring DataKit HTTPS

- Monitoring Monitoring
    - APM - Common ddtrace parameter usage
    - APM - ddtrace-api usage guide
    - APM - ddtrace sampling
    - APM - ddtrace log association

For more best practice updates, refer to **Best Practice Version History**.

## November 11, 2022

#### <<< custom_key.brand_name >>> Added "China Region 4 (Guangzhou)" Site

<<< custom_key.brand_name >>> supports multi-site registration and login, adding the "China Region 4 (Guangzhou)" site, combining the existing "China Region 1 (Hangzhou)", "China Region 2 (Ningxia)", and "Overseas Region 1 (Oregon)", fully covering domestic and international regions to provide users with comprehensive data observability.

Note that accounts and data across <<< custom_key.brand_name >>> different sites are mutually independent and cannot share or migrate data. You can choose a suitable site for registration and login based on your resource usage situation. Currently, <<< custom_key.brand_name >>> supports the following four sites.

| **Site**          | **Login URL**             | **Operator** | Settlement Method                     |
| ----------------- | ------------------------- | ------------ | ------------------------------------- |
| China Region 1 (Hangzhou)   | https://auth.guance.com/     | Alibaba Cloud     | <<< custom_key.brand_name >>> Corporate Account, Cloud Account       |
| China Region 2 (Ningxia)   | https://aws-auth.guance.com/ | AWS        | <<< custom_key.brand_name >>> Corporate Account, Cloud Account       |
| Overseas Region 1 (Oregon) | https://us1-auth.guance.com/ | AWS        | <<< custom_key.brand_name >>> Corporate Account, Cloud Account       |
| China Region 4 (Guangzhou)   | https://cn4-auth.guance.com/ | Huawei Cloud     | <<< custom_key.brand_name >>> Corporate Account, Huawei Cloud Stored Value Card |

## November 3, 2022

### <<< custom_key.brand_name >>> Updates

#### Added <<< custom_key.brand_name >>>, SLS Joint Solution

<<< custom_key.brand_name >>> added an SLS storage solution, supporting Alibaba Cloud SLS users to quickly use <<< custom_key.brand_name >>> for data viewing and analysis. During <<< custom_key.brand_name >>> Commercial Plan registration/upgrading, choosing "Alibaba Cloud Account Settlement" allows you to select the SLS storage solution, storing data under your own Alibaba Cloud account for exclusive data. For more details, refer to the documentation **SLS Storage**.

The joint solution between <<< custom_key.brand_name >>> and SLS supports synchronizing data from your Alibaba Cloud account to <<< custom_key.brand_name >>> workspaces for querying and analysis. You can click "Bind Index" in <<< custom_key.brand_name >>> workspace "Logs" - "Index" to synchronize log data from the index. For more details, refer to the documentation **Log Index**.

![](img/2.log_index_1.png)

#### Optimized New User Guide Pages

<<< custom_key.brand_name >>> added new user guide pages for major functional modules such as scenarios, events, infrastructure, metrics, logs, APM, RUM, Synthetic Tests, Security Checks, CI Visualization, and Monitoring, optimizing the welcome home page of the workspace to make it easier for users to understand and use <<< custom_key.brand_name >>>.

#### Added 3 Smart Inspection Configuration Documents

- **Cloud Account Billing Inspection**: Helps users manage budget warnings, abnormal fee warnings, predict costs, and provides visual capabilities, supporting multi-dimensional visualization of cloud service resource consumption;
- **Frontend Application Log Error Inspection**: Helps detect new error messages (clustered Error Messages) in frontend applications over the past hour, assisting developers and operations personnel in timely fixing code to avoid continuous damage to user experience;
- **Alibaba Cloud Asset Inspection**: Provides users with more insight into the performance status of cloud vendor products.

#### Added Tracing Error Tracking Viewer

In APM, added an error tracking viewer to help you quickly view similar errors and their distribution in traces, quickly locating performance issues. For more details, refer to the documentation **Tracing**.

![](img/1.apm_error_1.png)

#### Optimized Time Series Chart and Overview Chart Year-over-Year Comparison Functionality

Year-over-year comparison functionality is no longer linked with locked time. The button defaults to off. After enabling year-over-year comparison, the comparison dimensions support 4 options: Hour (compared with one hour ago), Day (compared with one day ago), Week (compared with one week ago), Month (compared with one month ago). For more details, refer to the documentation **Year-over-Year Comparison**.

#### Other Functionality Improvements

- Added a "Save Snapshot" button in the "Settings" for dashboards/notebooks/viewers;
- Added more options to the time widget;

- Pipeline and blacklist functionalities added import, batch export, and batch deletion;
- Smart inspections added dashboard, bar chart components;
- Optimized Func page under the Integration menu.

### DataKit Updates

- Improved Prometheus ecosystem compatibility, adding **ServiceMonitor and PodMonitor collection recognition**
- Added **Java Profiling** based on async-profiler

- eBPF collection added **interval parameter**, facilitating adjustment of the amount of collected data
- All remote collectors default to using their collection address as the value for the `host` field to avoid misinterpretation of the `host` field during remote collection
- APM data collected by DDTrace can automatically extract error-related fields for better APM error tracking at the center
- MySQL collector added extra fields `Com_commit/Com_rollback` collection

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Monitoring Monitoring
    - APM - Kafka Observability Best Practices

- Cloud Platform Integration
    - Alibaba Cloud - Alibaba Cloud ACK Integration <<< custom_key.brand_name >>>

For more best practice updates, refer to **Best Practice Version History**.

## October 20, 2022

### <<< custom_key.brand_name >>> Updates

#### Monitoring Optimization

##### Added Outlier Detection

Outlier detection uses algorithms to check whether specific objects' metrics/statistics deviate significantly within certain groups. If deviations exceed a certain degree, an outlier detection anomaly event is generated for subsequent alert tracking. For more details, refer to the documentation **Outlier Detection**.

![](img/7.changelog_1.1.png)

##### Logic Optimization for Sudden Change Detection

The new sudden change detection compares the absolute or relative (%) change values of the same metric between two different time periods to determine if an anomaly occurs. It is commonly used to track peaks or data changes in a metric, generating more precise events when anomalies occur. For more details, refer to the documentation **Sudden Change Detection**.

![](img/7.changelog_2.png)

##### Interval Detection Logic Optimization

The new interval detection performs anomaly detection on selected time range data. When the proportion of anomalous data points exceeds the set percentage, an interval detection anomaly event is generated. This is often used to monitor stable-trend data/metrics. For more details, refer to the documentation **Interval Detection**.

![](img/7.changelog_3.png)

##### Other Optimizations

- Adjusted read-only member permissions to support viewing configurations for monitors, smart inspections, SLOs, mute management, and alert policies
- Changed "trigger data gap event" and "trigger recovery event" configuration from time range selection to manual input

![](img/7.changelog_9.1.png)

- Supported configuring monitors based on "event" data

![](img/7.changelog_4.png)

- Added "Information" event notification level selection for alert configurations

![](img/7.changelog_5.png)

#### Scenario Chart Optimization

##### Added Histogram Chart Component

Histograms, also known as quality distribution charts, are used to represent data distribution, a common statistical chart, usually representing data intervals on the horizontal axis and distribution on the vertical axis. For more details, refer to the documentation **Histogram**.

![](img/7.changelog_8.png)

##### Chart Function Optimization

- Added time slice functionality to overview charts, rectangular tree maps, funnel charts
- Changed "view similar trend metrics" from supporting only metric queries to supporting all data types, including logs, application performance, user access, etc.
- Added support for viewing all content exceeding chart width in top lists
- Honeycomb chart display optimization

#### Viewer Optimization

##### Added Analysis Mode to Viewers

Added "Analysis" functionality to log, application performance monitoring, user access monitoring, availability testing, security inspection, and CI viewers, adjusting "Grouping" to "Analysis" for infrastructure. Supports multidimensional analysis and statistics based on **1-3 tags** to reflect data distribution characteristics and trends across different dimensions and times. In analysis mode, it supports various data chart analyses, including time series charts, top lists, pie charts, and rectangular tree maps. For more details, refer to the documentation **Viewer Analysis Mode**.

![](img/5.log_analysis.gif)

##### Optimized Associated Log Viewing Experience

In the details pages of infrastructure, application performance monitoring, user access monitoring, and CI visualization viewers, the associated log viewing experience has been optimized. By default, it displays log content based on the "maximum display lines" and "display columns" set in the log viewer, supporting custom adjustments via "display columns".

![](img/7.changelog_6.png)

#### Log Index Optimization

After setting up indexes in "Logs" - "Indexes," log-related queries added an index option, defaulting to index `default`. You can query and analyze log data based on the indexes you set up, involving features like log viewers, custom scenario viewers, chart log queries, log monitors, etc. For more details, refer to the documentation **Log Index**.

![](img/5.log_3.1.png)

#### Optimized Metric Analysis Chart Queries

Added time intervals and legend options to metric analysis, adjusting the order of aggregation functions displayed in legends. For more details, refer to **Metric Analysis**.

![](img/7.changelog_7.png)

#### Other Functional Optimizations

- Added dropdown menus in user access monitoring applications to help users quickly switch between different application data
- Added Pipelines shortcuts in the directories for metrics, user access monitoring, application performance monitoring, infrastructure, and security inspection

### DataKit Updates

- DataKit collectors and Pipeline support synchronization via **etcd/Consul** configuration centers
- Optimized Prometheus Remote Write
    - Collection supports filtering tags via regex
    - Supports filtering metric set names via regex
- Pipeline Optimization
    - Optimized **grok()** and **json()** functions to perform trim-space operations by default
    - Added **match()** function
    - Added **cidr()** function
- Increased detailed fields for open file lists in the process collector
- Enhanced external data (T/R/L) disk caching and queue processing
- Added usage over-limit tips in Monitor: If current space usage exceeds limits, a red text `Beyond Usage` warning appears at the bottom of Monitor
- Optimized position logging functionality in sparse log scenarios to avoid losing original position records when DataKit restarts

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Monitoring Monitoring
    - Infrastructure Monitoring (ITIM) - **Ansible Batch Processing Practical Combat**.

- Cloud Native
    - Logs - **<<< custom_key.brand_name >>> Collecting Amazon ECS Logs**.

For more best practice updates, refer to **Best Practice Version History**.

## September 29, 2022

### <<< custom_key.brand_name >>> Updates

#### Added Field Management

<<< custom_key.brand_name >>> supports unified management of field data in the current workspace, including system fields and custom fields. You can view field descriptions in scenario chart queries, monitor detection metrics, DQL simple query modes, etc., helping you quickly understand field meanings and apply them. The figure below shows viewing the `host` field description in scenario chart queries. For more details, refer to the documentation **Field Management**.

![](img/3.field_9.png)

#### Optimized Metric Functionality

##### Metric Viewer Transformation

The original "Metric Viewer" has been changed to "Metric Analysis," supporting users to visualize queried data in time series chart formats (line chart, area chart, bar chart). For more details, refer to **Metric Analysis**.

![](img/4.changelog_1.2.png)

##### Optimized Metric Management

- Supports searching "metric sets" and "metrics" in "Metric Management";

- Supports modifying the "unit" and "description" of metrics in "Metric Management";
- Supports viewing tag description information in "Metric Management".

For more details, refer to **Metric Management**.

![](img/4.changelog_2.1.png)

#### Added Exporting Event Content in PDF Format

On the event details page, the **Jump to Monitor** button now includes explanatory text. Clicking :material-export-variant: allows you to choose **Export JSON File** and **Export PDF File** to obtain all critical data for the current event.

![](img/4.changelog_5.png)

#### Monitor Adjustments

- Monitor names do not support customization; the event title input generates the monitor name synchronously;
- Monitors support "info" event generation logic. Trigger conditions can choose to enable or disable information: normal detection results also generate events;
- Monitor configuration steps reordered to: Detection Configuration - Event Notification - Association.

**Note:** In the latest version, "monitor name" is generated synchronously with the "event title." Old monitors may have inconsistent "monitor name" and "event title," so please synchronize to the latest version as soon as possible for a better user experience, supporting one-click replacement of event titles.

![](img/4.changelog_3.png)

#### Silent Rules Support Dynamic Configuration

In silent management, optimize the silence scope, supporting options for monitors, smart inspections, custom inspections, SLOs, alert policies, and adding tag options.

**Note:** Silence scope is mandatory, tags are optional. Silent rules only take effect when both "silence scope" and "tags" conditions are met. For example, if the silence scope selects `Application Performance Detection` and `Disk Usage`, and the tag selects: `host:izbp152ke14timzud0du15z`, then alerts will be silenced and not sent to notification targets when conditions meet either `Application Performance Detection` and `host:izbp152ke14timzud0du15z` or `Disk Usage` and `host:izbp152ke14timzud0du15z`.

![](img/4.changelog_7.1.png)

#### Optimized Pipeline Configuration Page

In text processing (Pipeline), support adding multiple sample parsing tests, fixing the issue of incorrect one-click sample retrieval for metric data. For more details, refer to **Text Processing (Pipeline)**.

![](img/10.pipeline_4.png)

#### Other Functional Optimizations

- Notes added global locked time configuration. After configuring the global locked time, all charts on the note page display data according to this locked time.
- Unresolved event queries adjusted to recent 48 hours data, supporting manual refresh
- User access monitoring supports overriding logic for views with the same name
- Initialization parameters for Web, WeChat Mini Programs, and uniapp-based mini programs added `isIntakeUrl` configuration, used to determine whether to collect corresponding resource data based on the requested resource URL, defaulting to all collections 
- Smart inspections added support for custom inspections
- Operation column in the metrics page adjusted, added "Open in Metric Analysis" and "Open in Metric Management" operation icons
- Management navigation menu position adjusted, SSO management moved to member management, notification target management moved to monitoring, built-in views moved to scenes

### Best Practices Updates

- Cloud Native: **Best Practices for Multiple Kubernetes Cluster Metrics Collection**.

For more best practice updates, refer to **Best Practice Version History**.

## September 15, 2022

### <<< custom_key.brand_name >>> Updates

#### Added Log Viewer DQL Search Mode

In the log viewer, you can switch to the DQL manual input query mode by clicking the toggle icon ![](img/8.explorer_2.png) in the search bar, supporting custom input of filter conditions and search conditions.

- Filter Conditions: Support `and / or` combinations, support using `()` parentheses to indicate execution priority, support `=` , `!=` operators;
- Search Conditions: Support using the DQL function `query_string()` to search logs.

For more details, refer to the documentation **DQL Search**.

![](img/8.explorer_1.1.png)

#### Optimized Application Performance Monitoring

##### Chain Viewer Detail Page Optimization

- Optimized layout display on the detail page, added duration, HTTP method, HTTP URL, HTTP status code, TraceId, etc.;
- Flame graph added thumbnail, double-click Span zoom display, click service name highlights corresponding Span;
- Span list added search, click to select Span switches to flame graph synchronized display;
- Service call relationship added search

For more details, refer to the documentation **Chain Viewer**.

![](img/10.changelog_apm.gif)

##### Profile Viewer Detail Page Optimization

Added quick operations on the detail page of the Profile viewer, including search, copy, and click to view methods. For more details, refer to the documentation **Quick Operation Instructions**.

![](img/10.changelog_profile.gif)

#### Optimized Configuration Mode for Monitor Event Notification Content

When creating a monitor, if the event notification content meets the trigger conditions, it supports inputting and previewing markdown formatted text information, supporting the use of template variables.

![](img/10.changelog_3.png)

#### Added Periodic Mute Configuration in Mute Management

Mute management added periodic mute functionality, allowing you to choose "Once" or "Repeat" in the mute time. For more details, refer to **Mute Management**.

![](img/10.changelog_5.1.png)

#### Other Functional Optimizations

- Optimized scene dashboard grouping display and Markdown formatting of scene notes
- Infrastructure viewer display optimization, added CPU usage rate, MEM usage rate hints in the "Pods", "Deployments", "Services" viewer detail pages; added view and copy of corresponding YAML files
- Removed list view mode in metrics viewer, retaining tiled view mode and mixed view mode

- Log multi-index supports jumping to view
- Top 5 values in quick filter support viewing percentage quantities, time field format optimization in viewer, default display format is `2022/09/15 20:53:40`
- Chain viewer time series chart added legend display, quick filter added HTTP-related fields

### DataKit Updates

- Added auto-cloud sync feature, no longer needing to manually specify cloud vendors
- Supports syncing k8s labels to pod metrics and logs as tags
- Supports collecting various yaml information from k8s objects
- Trace collection supports automatically extracting some key meta information
- Simplified **offline installation** process by specifying installation source addresses during installation
- Pipeline new features:
    - Added for loop/dictionary/array support
    - Added arithmetic expression support
    - Pipeline error messages will be displayed on the collected data
    - If the time field slicing fails, supports automatic correction of the time field(`time`) to prevent console page time from not displaying
    - Added **len()** function

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Monitoring Monitoring\- Middleware (Middleware) - **Insight MySQL**.

For more best practice updates, refer to **Best Practice Version History**.

## September 1, 2022

### <<< custom_key.brand_name >>> Updates

#### Billing Updates

<<< custom_key.brand_name >>> adjusted the backup log billing rule, now charging 0.007 yuan per 1 GB of data/day for backup logs. You can adjust the corresponding data retention strategy based on actual needs to save costs. For more details, refer to the documentation **Billing Method**.

#### Help Documentation Directory Updates

- Split changelog directory to support annual viewing of <<< custom_key.brand_name >>> updates;
- Added custom development directory, view documents for custom collectors (Pythond), custom security checks (Scheck), custom DDtrace, etc.;
- Added private deployment directory, view relevant documentation for <<< custom_key.brand_name >>> deployment.

#### Added Event Correlation Analysis in Time Series Charts

Time series charts added event correlation analysis, supporting matching abnormal events related to selected fields through "add filter fields". This achieves the purpose of correlating time series data with events, helping users perceive whether related events occurred during data fluctuations while viewing trends, thus achieving problem localization.

- After configuring event correlation in time series charts, if there are related event records for the selected associated field (e.g., “host:DESKTOP-NEN89U3”), they will be highlighted with shaded blocks on the timeline;
- After configuring event correlation in time series charts, in analysis mode, clicking the highlighted shaded block allows you to view abnormal events related to the selected field (e.g., “host:DESKTOP-NEN89U3”).

For more details, refer to the documentation **Time Series Chart**.

![](img/5.changelog_1.3.png)

#### Added Multi-index Mode for Logs

<<< custom_key.brand_name >>> supports setting up multiple log indexes, filtering logs that meet conditions into different log indexes, and selecting different data retention strategies for log indexes to help users save log data storage costs. For more details, refer to the documentation **Log Index**.

![](img/7.backup_1.png)

#### Optimized Backup Log Rules

Backup log rule creation has been moved to the log index menu. The backup cycle has been adjusted from daily backups at 00:00 for the previous day's logs to checking rules every 5 minutes and performing backups. Thus, backup log data can be viewed within 5 minutes of configuration. For more details, refer to the documentation **Backup Logs**.

#### Optimized Log Context

In the log detail page, when opening a new log viewer to view context, it will filter based on "host", "source", "service", "filename" to view data before and after the current log time.

![](img/2.log_updown_2.png)

#### Optimized User Access Monitoring

##### Added Custom User Access Monitoring Application ID

User access monitoring supports users defining a custom application ID as the unique identifier for the current workspace (previously <<< custom_key.brand_name >>> application IDs were globally unique, meaning application IDs in different spaces could not repeat). Different workspaces can use the same application ID as a unique identifier for the same application, used for SDK data upload matching. For more details, see the documentation:

- **Web Application Integration**

- **Android Application Integration** 

- **iOS Application Integration**

- **Mini Program Application Integration**

![](img/5.changelog.png)

##### Added User Access Monitoring Network Request Error Correlation Tracing View

User access monitoring supports associating and viewing relevant tracing for network (network) errors in the RUM viewer.

![](img/5.changelog_rum.png)

#### Comprehensive Upgrade of Smart Inspections

- Adjusted "Groups" to "Alert Policies" in smart inspections, supporting the selection of alert policies when editing smart inspections;
- Fully adjusted smart inspection event detail pages, including related pages such as basic properties, event details, root cause analysis, alert notifications, historical records, associated events; optimized abnormal chart analysis, added data correlation jump links, abnormal interval prompts, root cause analysis interval prompts, legend display operations, etc.

For more details, refer to **Smart Inspections**.

![](img/4.bot_obs_7.1.png)
![](img/4.bot_obs_7.2.png)


#### Monitoring Optimization

##### Adjust#### Monitoring Optimization

##### Adjusted Grouping to Alert Policies

In the "Monitoring" section, the "Group Management" page has been changed to "Alert Policy Management". You can create alert policies to filter monitors and set alert notifications through new alert policy creation.

![](img/5.changelog_15.png)

In **Monitors**, the original "Group" filter has been adjusted to an "Alert Policy" filter. When configuring a monitor, you can choose an alert policy and modify alert settings by clicking on the monitor's alert policy.

![](img/5.changelog_14.png)

##### Optimized Monitor Configuration

- Adjusted the configuration steps for monitors, including detection frequency, detection interval, alert policies, etc.
- Optimized detection metrics, supporting outer function configurations (fx), including "Label Filtering", "Transformation Functions", "Data Gap Filling"; supports switching to DQL query mode.
- Optimized trigger condition text prompts.
- Removed custom data gap event titles and content for some monitors; adjusted template variable prompt text; changed groups to alert policies and supported editing of alert policies.
- Optimized log detection, application performance metric detection, user access metric detection, infrastructure object detection "Detection Metrics" configuration.

For more details, refer to **Monitor Management**.

![](img/5.changelog_7.0.png)
![](img/5.changelog_7.png)

##### Added "Infrastructure Survival Detection"

"Infrastructure Survival Detection" is used to monitor the operational status of infrastructure. For more details, refer to **Infrastructure Survival Detection**.

![](img/5.changelog_12.png)


##### Added "Process Anomaly Detection"

"Process Anomaly Detection" is used to monitor process data within the workspace, supporting setting alert triggers for one or multiple fields in process data. For more details, refer to **Process Anomaly Detection**.

Note: Infrastructure object detection has been removed. Existing related monitors can continue to be used but no longer support new creations.

![](img/5.changelog_13.png)

##### Optimized "Application Performance Metric Detection"

Added "Trace Statistics" detection method in "Application Performance Metric Detection". It counts the number of traces that meet conditions within a specified time period, triggering an anomaly event when it exceeds a custom threshold. This can be used for service trace error notifications. For more details, refer to **Application Performance Metric Detection**

![](img/5.changelog_11.png)

#### Member Management Optimization

- Read-only members no longer have access to member management pages.
- Supports filtering regular members and SSO members; SSO members only display members corresponding to the currently configured identity provider (IDP).

For more details, refer to **Member Management**.

#### Added Demo Workspace

<<< custom_key.brand_name >>> provides a demo workspace to help you better use various functional modules of <<< custom_key.brand_name >>>. You can click the "Workspace" in the upper left corner, then click "Experience Demo Space" in the pop-up dialog box to enter the demo space for viewing.

![](img/3.demo_space_1.png)

#### Other Functional Optimizations

- Changed the default aggregation function for chart metrics from `last` to `avg`, and for log data from `last` to `count`.
- Optimized legend copy experience in time series charts and pie charts.
- Enhanced interaction display in note editing mode.
- Snapshots now support saving current viewer column information.
- In trace detail pages, formatted display of timestamp fields converts timestamps into date formats.
- Deployment version backend supports modifying workspace data retention strategies.

### DataKit Updates

#### Breaking Changes

- Time fields in GitLab and Jenkins collectors have been adjusted to unify the front-end page data display effect.

#### Collector Function Adjustments

- Optimized IO module data processing, improving data throughput efficiency
- Added disk cache functionality to various Traces
- DataKit self-metric sets added goroutine usage-related metric sets (`datakit_goroutine`)
- MySQL collector added `mysql_dbm_activity` metric set
- Added **netstat collector**
- TDengine added log collection
- Optimized file system type filtering in disk collectors, collecting only common file systems by default
- Log collectors added a `message_length` field indicating the length of each log entry, facilitating filtering logs by length
- CRD supports locating Pod scopes via DaemonSet
- eBPF removed go-bindata dependency
- Container collectors default to opening **k8s and container-related metrics**, which can consume additional timelines

#### Bug Fixes

- Fixed DataKit CPU usage rate calculation errors
- Fixed middleware recognition issues in SkyWalking
- Fixed Oracle exit issues
- Fixed Sink DataWay failure issues
- Fixed JSON write-in issues with HTTP /v1/write/:category interface

#### Documentation Adjustments

- Almost every chapter added jump labels for permanent references in other documents
- Pythond documentation moved to the custom development directory
- Collector documentation moved from "Integration" to the "DataKit" documentation library
- DataKit documentation directory structure adjusted, reducing directory levels
- Nearly every collector added k8s configuration entries
- Adjusted document header display, adding election identifiers besides operating system identifiers for collectors that support elections

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Cloud Native
    - Using CRDs to start your Ingress observability journey

- Monitoring Monitoring
    - APM - DDtrace Custom Instrumentation
    - DDtrace <<< custom_key.brand_name >>> Secondary Development Practice

For more best practice updates, refer to **Best Practice Version History**.

## August 18, 2022

### <<< custom_key.brand_name >>> Updates

#### <<< custom_key.brand_name >>> Billing Update

<<< custom_key.brand_name >>> optimized the billing logic for **Time Series** and the **Data Retention Strategy** for metric data. The original price of 3 yuan per 300 time series was reduced to 3 yuan per 1000 time series. Additionally, metric data now offers 3-day, 7-day, and 14-day data retention strategies, and metric sets support **custom data retention strategies**.

Time series count the total combinations of labels based on the reported metric data in the current workspace. Data retention strategy refers to the storage duration of the reported data in the current workspace, with data exceeding this duration automatically deleted.

Time series are fully counted, meaning daily generated time series will cumulatively add up during the data retention period. Longer data retention periods result in higher time series costs.

This optimization allows for more flexible adjustments to the data retention strategy for metrics, helping you save costs.

### <<< custom_key.brand_name >>> Updates

#### Added Jenkins CI Observability

<<< custom_key.brand_name >>> added Jenkins CI observability, allowing you to directly view CI results in Jenkins through <<< custom_key.brand_name >>>'s CI visualization feature. CI involves continuous integration; developers can push code and check all CI pipelines, success rates, failure reasons, and specific failed stages through <<< custom_key.brand_name >>>, providing code update assurance. For more details, refer to **CI Visualization**.

![](img/17.CI_2.png)

#### Added Chart Sync Search in Custom Viewers

Custom viewers added a chart sync search switch to decide whether search conditions affect chart queries. By default, it is enabled. When there is content in the search box, disabling the switch returns the chart query to its default state; enabling the switch means the chart query is influenced by the selected filters.

![](img/6.custom_explorer_1.png)

#### Added Network Topology and Service Topology Drill-down Analysis

In the infrastructure network topology diagram, click on the host/Pod icon and then click "View Upstream and Downstream" to view the associated upstream and downstream nodes. In the upstream and downstream nodes, click the "Return to Overview" button in the top-left corner to return to the original network topology diagram. You can filter associated upstream and downstream nodes using the search or filter options in the search box. Based on the search or filter results, matching associated upstream and downstream nodes will be displayed. For more details, refer to the documentation **Network View Upstream and Downstream**.

![](img/11.network_1.png)

In the service topology diagram, click on the service icon and then click "View Upstream and Downstream" to view the associated upstream and downstream services. In the upstream and downstream services, click the "Return to Overview" button in the top-left corner to return to the original service topology diagram. Use the search or filter options in the search box to filter associated upstream and downstream services. Based on the search or filter results, matching associated upstream and downstream services will be displayed. For more details, refer to the documentation **Service View Upstream and Downstream**.

![](img/12.apm_service_1.png)

#### Added Deletion of Resource Directory Data and Indexes

<<< custom_key.brand_name >>> supports owners and administrators deleting specific resource directory categories and all resource directories. Enter "Management" - "Basic Settings", click "Delete Resource Directory", and select the deletion method to delete the corresponding object data.

- Specific Resource Directory Category: Only deletes data under the selected object category without deleting indexes.
- All Resource Directories: Deletes all resource directory data and indexes.

Note: Once all resource directories are deleted, all data and indexes reported to the infrastructure custom resources will be deleted and cannot be recovered. All set resource directory data needs to be re-reported, with a limit of five deletions per day for all resource directories.

For more information on resource directories, refer to the documentation **Customization**.

![](img/7.custom_cloud_3.png)

#### Added Snapshot Viewing Entry in Viewers

In <<< custom_key.brand_name >>> indicators, logs, events, application performance monitoring, user access monitoring, cloud testing, security inspection, CI visualization, etc., after saving a snapshot, you can directly click the view snapshot icon in the top-right corner to unfold and view saved snapshots.

- Supports searching snapshots by name keywords, matching related snapshots through fuzzy search.
- The first entry is the default view and does not support sharing, copying links, or deletion.
- Except for the default view, other snapshots support sharing, copying links, and deletion. Clicking the "snapshot name" opens the corresponding data replica in the current viewer.

![](img/2.snapshot_1.png)

#### Added Filter Condition Editing Functionality in Viewers

When using "field:value" format to filter in the <<< custom_key.brand_name >>> viewer search bar, you can click "field:value" to edit and modify the "field:value" pair, applying the modified result as the filter condition.

![](img/13.search_3.png)

#### Optimized User Access View Viewer Associated Chain to Fetch/XHR

In the <<< custom_key.brand_name >>> user access monitoring View viewer detail page, switching to "Fetch/XHR" allows you to view each network request sent by the user to the backend application, including occurrence time, request chain, and duration.

![](img/4.rum_view_3.png)
If a network request has a corresponding `trace_id`, there will be a hint icon before the request. Clicking the request will redirect you to the corresponding chain detail page.

![](img/4.rum_view_4.png)

#### Added High-performance Mode for Chart Data Loading

<<< custom_key.brand_name >>> supports high-performance mode for chart data loading, which is off by default. You can enable it by clicking the "High-performance Mode" option at the bottom left account menu. After enabling high-performance mode, all charts do not dynamically load; they load simultaneously when entering the page, ensuring that all charts are fully loaded when scrolling down to view them beyond the current page.

Note: High-performance mode only affects the current user's chart viewing.

![](img/3.high_performance_1.png)

#### Added Customizable Event Notification Levels in Alert Configurations

Alert configurations support customizing event notification levels, including emergency, important, warning, recovery, data gap, data gap recovery, and data gap considered as recovery. Multiple selections are supported, along with one-click clearing of options. Cleared options need to be manually reselected. For more alert configurations, refer to the documentation **Alert Settings**.

![](img/14monitor.png)

#### Other Functional Optimizations

- Scene dashboards allow hiding/showing large titles in combined charts.
- Optimized event detail page event type text display.
- Added sorting functionality by fields in infrastructure lists.
- Added a hide distribution chart button in the log viewer.
- Viewers support searching display columns by keyword, allowing custom display columns as preset fields. After reporting data through Pipeline slicing and uploading, the data can be directly displayed.
- Added one-click viewing of corresponding integration documentation in built-in templates and views to quickly configure collectors.
- Besides binding linked service, application, log source, project, and tag-related views in built-in views, added support for binding key-value pairs to related views. Also, added support for binding built-in views in the service side panel detail page.
- Optimized Feishu robot notification targets to support custom security checks.
- When configuring monitors, if the configured data range is smaller than the detection frequency, a prompt warns of potential data gaps.

### DataKit Updates (**2022/05/26**)

- Pipeline was adjusted so all data types can be processed through Pipeline configuration.
- The `grok()` function supports directly extracting fields as specified types without needing the `cast()` function for type conversion.
- Pipeline added multiline string support, enhancing readability by writing long strings (like regex slices in grok) over multiple lines.
- Each Pipeline's runtime status can be viewed directly using `datakit monitor -V`.
- Added Kubernetes Pod object CPU/memory metrics.
- Helm added support for more Kubernetes version installations.
- Optimized OpenTelemetry, adding JSON support to HTTP protocol.
- DataKit added logging for automatic correction of line protocol to facilitate debugging data issues.
- Removed all string metrics from time series data.
- In DaemonSet installation, if an election namespace is configured, all participating collectors will have a specific tag (`election_namespace`) added to their data.
- CI observability added Jenkins support.

#### Breaking Changes

For Docker container log collection, the host (Node) `/var/lib` path must be mounted into DataKit (since Docker logs default to the host’s `/var/lib/`). In `datakit.yaml`, add the following configuration to `volumeMounts` and `volumes`:

```yaml
volumeMounts:
- mountPath: /var/lib
  name: lib

# Omit other parts...

volumes:
- hostPath:
    path: /var/lib
  name: lib
```

### Best Practices Updates

- APM
    - Using SkyWalking with <<< custom_key.brand_name >>> to achieve RUM, APM, and log correlation analysis
- Monitoring Best Practices
    - Building observability with OpenTelemetry
    - Integrating OpenTelemetry with Jaeger, Grafana, ELK
    - Integrating OpenTelemetry with Grafana
    - Integrating OpenTelemetry with <<< custom_key.brand_name >>>
- <<< custom_key.brand_name >>> Tips
    - Best practices for OpenTelemetry sampling

For more best practice updates, refer to **Best Practice Version History**.

### Integration Template Updates

#### Added New Documents and Views

- Data Collection
    - Opentelemetry Collector
- Container Orchestration
    - Kubernetes Scheduler
    - Kubernetes Controller Manager
    - Kubernetes API Server
    - Kubernetes Kubelet

#### Added Views

- Container Orchestration
    - Kubernetes Nodes Overview
- Middleware
    - JVM Kubernetes


## May 19, 2022

### <<< custom_key.brand_name >>> Updates

#### Optimized <<< custom_key.brand_name >>> Commercial Plan Registration Process

<<< custom_key.brand_name >>> registration now offers Free Plan and Commercial Plan options. You can register a <<< custom_key.brand_name >>> account based on your actual needs. <<< custom_key.brand_name >>> supports pay-as-you-go billing, offering a ready-to-use cloud platform for comprehensive observability.

#### Added Scene Dashboard User View Templates

<<< custom_key.brand_name >>> includes over 60 built-in system view templates. These templates require no configuration and can be selected and used immediately to meet various monitoring scenario requirements. You can create dashboards by customizing views as user view templates. For more dashboard setup details, refer to the documentation **Dashboard**.

![](img/1.dashboard_1.png)

#### Added Scenario Custom Viewer Log Source and Filter Linkage

The data scope of the scene custom viewer has added a filter function, allowing you to filter fields under the selected log source, supporting matching multiple fields. Combined with search and grouping, this further refines log data filtering.

![](img/7.log_1.png)

#### Added Event Detail Page Content Copy in JSON Format

On the event detail page, you can click the "Copy Complete Event Content" button to obtain all critical data for the current event. If a monitor is configured to link a dashboard, you can click the "Linked Dashboard" button to navigate to the corresponding dashboard.

In the **Associated Information** section of the event detail page, if "Log Detection" configures multiple expression queries (for the same object type), the associated information supports tab switching between multiple expression queries. If there are two expression queries A and B, the associated information will contain tabs A and B for switching views.

![](img/5.event_1.png)

#### Added Log Data Desensitization Processing

<<< custom_key.brand_name >>> added log data desensitization processing. After data is collected and reported to the <<< custom_key.brand_name >>> workspace, some sensitive information may exist, such as IP addresses and user information. You can configure sensitive fields for desensitization handling.

Note:
- Desensitized data is only viewable by workspace administrators and above; standard and read-only members cannot view desensitized information.
- Configuring sensitive fields is only operable by workspace administrators and above; standard and read-only members can only view configured sensitive fields.

For more details, refer to the documentation **Data Permission Management**.

![](img/3.data_7.png)

#### Optimized Log Viewer and Detail Pages

<<< custom_key.brand_name >>>'s **log viewer** now defaults to displaying "time" and "message" fields. This update supports hiding the "message" field display.

In the log detail page, log content automatically displays in JSON and text modes based on the message type. If a log lacks a message field, the log content part will not be displayed. Log content supports expanding and collapsing, defaulting to expanded state. Collapsed state shows only one line height.

Extended fields display all related fields of the log, supporting "copy" and "add to filter" for quick filtering and viewing.

![](img/2.log_2.png)

#### Added Network Data Detection Monitors

**Network Data Detection** monitors network performance metrics within the workspace. By setting threshold ranges, alerts are triggered when metrics reach these thresholds. <<< custom_key.brand_name >>> supports setting alerts for individual metrics and customizing alert levels. In **Monitors**, click «+ Create Monitor», select «Network Data Detection», and enter the detection rule configuration page.

![](img/6.monitor_3.png)

#### Optimized Built-in View Binding Functionality

<<< custom_key.brand_name >>>'s built-in views include system views and user views. This update cancels binding system views as viewer views, supporting only binding user views as viewer views. To bind system views, clone the system view as a user view first. If system and user views share the same name, user views take precedence in the viewer. For how to bind user views as viewer views, refer to the documentation **Binding Built-in Views**.

![](img/4.view_4.png)

#### Other Functional Optimizations

- Paid Plans and Billing added prepaid card balance
- Infrastructure detail style optimizations
- Trace detail page attribute wrapping display optimization
- Monitor configuration template variable display optimization
- Added shortcuts for DQL queries and snapshots
- <<< custom_key.brand_name >>> backend management added template management classification information

### DataKit Updates (2022/5/12)

- eBPF added arm64 support
- Line protocol construction supports automatic correction
- DataKit main configuration added example configuration
- Prometheus Remote Write supports renaming tags
- Merged community edition DataKit features, mainly including Sinker functions and filebeat collectors
- Adjusted container log collection, with DataKit directly supporting containerd container stdout/stderr log collection
- Adjusted hostname acquisition strategy in DaemonSet mode
- Trace collectors support wildcard filtering of resources (`resource`) through service names (`service`)

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Cloud Native
    - Launching Rancher observability with <<< custom_key.brand_name >>>
- Microservices Observability Best Practices
    - Collecting tracing data from Kubernetes clusters using SkyWalking
    - Reporting Kubernetes cluster logs to the same node's DataKit best practices
- Gitlab-CI Observability Best Practices
    - Gitlab-CI Observability Best Practices

For more best practice updates, refer to **Best Practice Version History**.

### Integration Template Updates

#### Added New Documents and Views

- Middleware
    - Resin
    - Beats
- Host System
    - Procstat

#### Added Views

- Container Orchestration
    - Istio Service
- Alibaba Cloud
    - ASM Service

## May 6, 2022

### <<< custom_key.brand_name >>> Updates

#### Optimized <<< custom_key.brand_name >>> Commercial Plan Upgrade Process

<<< custom_key.brand_name >>> upgraded to the commercial plan defaults to opening **<<< custom_key.brand_name >>> Billing Center Account Settlement**, supporting changes to settlement methods to cloud account settlements, including **Alibaba Cloud Account** and **AWS Cloud Account** settlements.

#### Added Process, Log, and Trace Detail Page Associated Network

<<< custom_key.brand_name >>> **process**, **log**, and **trace** detail pages added associated network data analysis, supporting viewing source host/source process service to target network traffic and data connection situations based on IP/port. Through visual representation, it helps businesses understand real-time business system network status, quickly analyze, track, and locate problem faults, preventing or avoiding business issues due to network performance degradation or interruptions.

![](img/9.network_1.png)

#### Scene Module Optimization

##### Optimized Dashboards, Removed Edit Mode

In the scene **dashboard** top navigation bar, removed the "Edit" button and added "Add Chart" to add new charts to the dashboard. After adding charts, click the "Finish Adding" button in the top right corner.

![](img/3.view_2.png)

In the **chart**, click the "Settings" button, select "Modify" to edit the chart.

![](img/3.view_1.png)

##### Added Chart Link Display Switch

<<< custom_key.brand_name >>> supports built-in and custom links in charts, helping you transition from the current chart to the target page. Built-in links are default associated links provided by <<< custom_key.brand_name >>>, primarily based on the current query time range and grouped labels, assisting you in viewing corresponding logs, processes, containers, and traces. The built-in link display switch is off by default and can be enabled in chart editing; custom links are on by default after creation. For more details, refer to the documentation **Chart Links**.

![](img/4.link_1.png)

##### Optimized Conversion Between DQL Query and Simple Query

Click the toggle button next to **DQL Query** to switch it to simple query.<br /> Note: When switching **DQL Query** to **Simple Query**:

- If the **Simple Query** remains unmodified, switching back to **DQL Query** will show the previous DQL query statement;
- If the **Simple Query** is modified, switching back to **DQL Query** will parse according to the latest **Simple Query**.

For more details on DQL queries and simple queries, refer to the documentation **Chart Queries**.

![](img/3.dql_2.png)

#### Monitor and Event Module Optimization

##### Added Event Association Information

<<< custom_key.brand_name >>> now supports viewing related information that triggered the current event, such as viewing relevant logs. This **associated information** is supported for events generated by four types of monitors: log detection, security inspection anomaly detection, process anomaly detection, and availability data detection.

![](img/7.event_1.png)

##### Added Data Gap Event Name and Content Configuration

<<< custom_key.brand_name >>> monitors "Threshold Detection", "Water Level Detection", "Interval Detection", "Sudden Change Detection", "Process Anomaly Detection", "Application Performance Indicator Detection", and "User Access Indicator Detection" now include data gap event title and content configuration. By default, these fields are not editable, but when selecting to trigger data gap events, you can configure the data gap event name using predefined template variables. For more details, refer to **Event Title/Content Templates**.

![](img/6.monitor_2.png)

##### Optimized Availability Data Detection

<<< custom_key.brand_name >>> monitor **Availability Data Detection** now supports choosing HTTP, TCP, ICMP, WEBSOCKET test types.

##### Optimized Alert Notification Templates, Added Associated Jump Links

Emails, DingTalk, WeChat, and Lark received alert notifications include a "<<< custom_key.brand_name >>> jump link". Clicking this link redirects you to the <<< custom_key.brand_name >>> event details page, with a time range of 15 minutes prior to the current time. For instance, an event at 18:45:00 will redirect to the event details page with a fixed time range of 18:30:00 ~ 18:45:00. For more alert notifications, refer to the documentation **Alert Settings**.

#### Other Functional Optimizations

- Optimized service servicemap metric query performance
- Added numerical field support for > | >= | < | <= | [] 5 types of expressions in viewers
- Added cascading filter support for label tags in metrics viewers
- Optimized DQL query error messages

### DataKit Updates

- Filter functionality in the process collector only applies to metric collection; object collection is unaffected.
- Optimized DataKit sending DataWay timeout issues.
- Optimized GitLab collector.
- Fixed log truncation issues in log collection.
- Fixed partial configuration non-effectiveness after reloading various trace collectors.

For more DataKit updates, refer to **DataKit Version History**.

### Integration Template Updates

#### Added Redis Sentinel Data Storage Integration Documents and Views

The Redis-sentinel observation scene mainly showcases Redis cluster, slave, and node distribution information.

![](img/777Z.png)

## April 26, 2022

### <<< custom_key.brand_name >>> Updates

#### Optimized SSO Single Sign-On

<<< custom_key.brand_name >>> supports users enabling SSO single sign-on based on workspaces. Users can log in by entering their company email, obtaining the corresponding SSO login link, and completing verification. In <<< custom_key.brand_name >>> workspace "Management" - "SSO Management" - "Enable", you can set up SSO single sign-on for employees. Key updates in this optimization include:

- Workspaces now support configuring only one SSO single sign-on instead of multiple identity providers.
- If multiple workspaces configure the same identity provider (IdP) data, after SSO single sign-on, you can switch to view data from corresponding workspaces.
- In SSO single sign-on configuration, "user whitelist" is replaced with "email domain," requiring only the email suffix domain to match the IdP-configured user email suffix for single sign-on.
- SSO single sign-on enablement, configuration updates, and deletions support email notifications and generate audit events.
- SSO single sign-on users support deletion and editing, with edits allowing permission upgrades to "Administrator".

For more SSO single sign-on details, refer to the documentation **SSO Management**.

![](img/12.sso_4.png)

## April 21, 2022

### <<< custom_key.brand_name >>> Community Edition Launch

<<< custom_key.brand_name >>> Community Edition offers teachers, students, cloud enthusiasts, and others a simple yet fully functional productized local deployment platform. Welcome to apply for free and download to try out, building your own <<< custom_key.brand_name >>> platform and experiencing complete product features.

### <<< custom_key.brand_name >>> Updates

#### Added Gitlab CI Observability

<<< custom_key.brand_name >>> now supports visualizing the process and results of Gitlab's built-in CI. You can directly view CI results in Gitlab through <<< custom_key.brand_name >>>'s CI visualization feature. CI involves continuous integration, where developers can check all CI pipelines, success rates, failure reasons, and specific failed stages upon pushing code, providing code update assurance. For more details, refer to **CI Viewer**.

![](img/10.ci_7.1.png)

#### Added Online Help Assistant

<<< custom_key.brand_name >>> added an online assistant named Obus to help you quickly find basic tutorials, advanced guides, best practices, DataKit, Func, and other documents in the workspace. You can click provided keywords or directly input keywords in the search bar to get relevant document explanations. For more details, refer to the documentation **Help**.

![](img/3.help_1.3.png)

#### Added Dashboard Refresh Frequency Setting

<<< custom_key.brand_name >>> now supports setting a refresh frequency for scene dashboards. The initial refresh frequency is set to 30 seconds, with options of 10 seconds, 30 seconds, and 60 seconds. If the time control is paused, it will not refresh.

![](img/9.dashboard_1.png)

#### Added 48-hour Playback for Processes

<<< custom_key.brand_name >>>'s infrastructure process now supports viewing process data collected within the last ten minutes. Click on the time range to view 48-hour playback of processes. After dragging, refreshing pauses, and the time is displayed as [start time - end time]. The query time range is set to 5 minutes. Click the "Play" button or refresh the page to revert to viewing the most recent 10 minutes of processes.

![](img/8.process.png)

#### Added Global Overview, Service Categorization Filtering, and Environment/Version Distinction in Service Topology Diagrams for Application Performance Monitoring

Application performance monitoring added a global performance overview view. You can see online service count, P90 service response time, maximum impact response time, service error count, service error rate statistics on the overview page. Additionally, you can view the top 10 rankings for P90 services, resources, operations response times, and top 10 rankings for service error rates, resource 5xx error rates, and resource 4xx error rates.

![](img/1.apm_3.png)

In the application performance service list, you can categorize services by clicking on the service type icon. Click again to restore full view.

![](img/1.apm_2.png)

In the service list, switch to "Topology Diagram" mode to view call relationships between services. Support drawing topology diagrams based on service (service) and service environment versions (service+env+version). Enabling "Distinguish Environment and Version" draws the service topology diagram according to different environments and versions. For example, with canary releases, you can view service calls under different environments and versions.

![](img/11.changelog_21.png)

#### Optimized SSO Single Sign-On Configuration

Adjusted SSO single sign-on configuration user white list to email domain, used to verify whether the email suffix entered in the single sign-on matches. Matching emails can obtain the SSO login link. More SSO configuration details can be found in the documentation **SSO Management**.

![](img/12.sso_2.png)

#### Other Functional Optimizations

- Added "All Sources" option in associated logs in trace detail pages
- Added reverse selection support for metric filtering, adjusting the position of aggregation functions
- Optimized frequency selection in log, application performance, user access, security inspection, and metric generation
- Optimized handover of ownership permissions for <<< custom_key.brand_name >>> deployment version workspaces, managed via the backend
- Optimized SMS templates for alert notifications
- Optimized available tests creation, supporting direct selection of HTTP, TCP, ICMP, WEBSOCKET tests

### DataKit Updates

- Pipeline module fixed Grok dynamic multiline pattern issue
- Optimized Helm installation for DaemonSet, added pprof environmental variable configuration support, and all default collector configurations in DaemonSet support environmental variable configuration
- Initial support for Pipeline data processing in Tracing collectors
- Added failure task exit mechanism in probing collectors
- Logs added `unknown` level (status) for logs without specified levels
- Container collector fixes:
    - Fixed cluster field naming issues
    - Fixed namespace field naming issues
    - If Pod Annotation does not specify log `source`, DataKit will infer the log source based on this priority
    - Object reporting is no longer limited by the 32KB character limit (due to Annotation content exceeding 32KB); all Kubernetes objects remove `annotation`.

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Microservices Observability Best Practices
    - From development to canary release in a service mesh microservice architecture (Part 1)
    - From development to canary release in a service mesh microservice architecture (Part 2)
    - From development to canary release in a service mesh microservice architecture (Part 3)
- Monitoring Best Practices
    - JAVA OOM Exception Observability Best Practices

For more best practice updates, refer to **Best Practice Version History**.

### Integration Template Updates

#### Added New Documents

- Application Performance Monitoring (APM)
    - Node.JS
    - Ruby
- Middleware
    - RocketMQ
- Container Orchestration
    - Istio
    - Kube State Metrics
- Data Storage
    - Aerospike

#### Added Views

- Container Orchestration
    - Kubernetes Overview by Pods
    - Istio Mesh
    - Istio Control Plane
- Alibaba Cloud
    - Alibaba Cloud ASM Mesh
    - Alibaba Cloud ASM Control Plane
    - Alibaba Cloud ASM Workload
- Middleware
    - RocketMQ

## April 8, 2022

### <<< custom_key.brand_name >>> Billing Updates

#### Added Alibaba Cloud Account Settlement Method

In <<< custom_key.brand_name >>> Billing Center "Manage Workspaces", you can view all bound workspaces under the account, modify the existing workspace settlement method, and switch between <<< custom_key.brand_name >>> Billing Center account, Amazon Cloud account, and Alibaba Cloud account settlements via "Change Settlement Method".

### <<< custom_key.brand_name >>> Updates

#### Added DQL Query Viewer

DQL is a language developed specifically for <<< custom_key.brand_name >>>. It has simple syntax and is easy to use, allowing you to perform data queries in <<< custom_key.brand_name >>> workspaces or terminal devices using DQL.

In <<< custom_key.brand_name >>> workspace, click the menu bar's "DQL Query" to open the DQL query viewer, or use the shortcut key `Alt+Q` to directly open DQL Query. The DQL query viewer supports table and JSON return results and saves historical query records for 7 days.

![](img/3.dql_1.png)

#### Added TCP/ICMP/Websocket Probing Protocols in Availability Monitoring

<<< custom_key.brand_name >>> supports custom probing tasks. By creating probing tasks based on different protocols such as HTTP, TCP, ICMP, WEBSOCKET, you can comprehensively monitor network performance, quality, and stability of data transmission from different regions and carriers to various services.

![](img/4.dailtesting_tcp_1.1.png)

#### Added Infrastructure Network Module

In infrastructure, the original host network Map and Pod network Map from the host and container modules have been moved to the new "network" module, supporting viewing host and Pod network Maps. Pod network Maps have added layer-seven network metrics: requests per second, error rate, and average response time. For more details, refer to the documentation **Network**.

![](img/5.network_2.png)

#### Added Layer-Seven Network Data Display for Infrastructure Container Pods

Infrastructure container Pods now support collecting and displaying layer-seven network data. After successful Pod network data collection, it is reported to the <<< custom_key.brand_name >>> workspace. In "Infrastructure" - "Container" - "Pod" detail page's "Network", you can view all Pod network performance monitoring data in the workspace. For more details, refer to the documentation **Pod Network**.

![](img/5.network_4.png)

#### Added Quick Filter "Reverse Selection" and "Reset" Functions in Viewers

In any viewer's "Quick Filter", you can "reverse select" or "reset" when choosing field filter contents. "Reverse selection" hides selected field filter contents (click "reverse selection" again to revert to selected state), and "reset" clears filter conditions. For more details, refer to **Log Viewer Quick Filters**.

![](img/1.log_7.png)

#### Optimized Log Blacklist

<<< custom_key.brand_name >>> supports filtering out qualified logs using log blacklists. After configuring the log blacklist, matching logs are no longer reported to the <<< custom_key.brand_name >>> workspace, helping users save log storage costs.

Log blacklists now support matching all log sources and two configuration methods:

- Trigger blacklist filtering if any filter condition is met
- Trigger blacklist filtering if all filter conditions are met

For more blacklist configurations, refer to the documentation **Log Blacklist**.

![](img/1.log_10.png)

#### Other Functional Optimizations

- Added span count statistics in trace detail pages
- Optimized host timeline drawing method for associated traces
- Optimized overview chart time slicing, removing options. If previous overview charts had time slicing enabled, it defaults to disabled after optimization.
- Fixed issues with combined chart editing in browsers when zoomed in/out
- Prevented manual pause of page refresh in log viewers from triggering auto-refresh when scrolling to the top

### DataKit Updates

- Filter functionality in the process collector only affects metric collection; object collection remains unaffected.
- Optimized DataKit sending DataWay timeout issues.
- Optimized Gitlab collector.
- Fixed log truncation issues.
- Fixed partial configuration non-effectiveness after reloading various trace collectors.

For more DataKit updates, refer to **DataKit Version History**.

### <<< custom_key.brand_name >>> Mobile App Updates

Added site login capability, optimizing scene and event viewers to maintain the same browsing experience as the web version.

- Supports users selecting accounts corresponding to sites, logging in via company email or verification code.
- Supports viewing all sources or any source of log data.
- Supports viewing all dashboards in the current space and filtering dashboards via dropdown menus for "All Dashboards", "My Favorites", "Imported Projects", "My Creations", and "Frequently Browsed".
- Supports viewing all unresolved event contents triggered by anomaly detection libraries in the **Events** viewer by clicking "All";- Supports viewing unresolved events notified to users via email, DingTalk bots, WeChat bots, Lark bots, or Webhooks by clicking "Mine".

### DataKit Updates

- Added support for memory limits on the host runtime during installation.
- CPU collector added `load5s` metric.
- Supported <<< custom_key.brand_name >>>'s optimized log blacklist feature, adjusting monitor layout and adding blacklist filtering display.
- DaemonSet installation added Helm support, introducing a new best practice for DaemonSet installation.
- eBPF added HTTP protocol collection. During host installation, the eBPF collector is no longer installed by default (requires specific installation instructions); DaemonSet installation remains unaffected.

For more DataKit updates, refer to **DataKit Version History**.

### <<< custom_key.brand_name >>> Mobile App Updates

Added site login capability, optimizing scene and event viewers to maintain the same browsing experience as the web version.

- Supports users selecting accounts corresponding to sites, logging in via company email or verification code.
- Supports viewing all sources or any source of log data.
- Supports viewing all dashboards in the current space and filtering dashboards via dropdown menus for "All Dashboards", "My Favorites", "Imported Projects", "My Creations", and "Frequently Browsed".
- Supports viewing all unresolved event contents triggered by anomaly detection libraries in the **Events** viewer by clicking "All".
- Supports viewing unresolved events notified to users via email, DingTalk bots, WeChat bots, Lark bots, or Webhooks by clicking "Mine".

### Best Practices Updates

- <<< custom_key.brand_name >>> Tips
    - Performance observability practices for multiple microservices projects
    - Advanced usage of ddtrace
    - Using ExternalName to map DataKit services in Kubernetes clusters
- Integration Best Practices
    - Best practices for integrating OpenTelemetry trace data
- Microservices Observability Best Practices
    - Achieving microservices observability based on Alibaba Cloud ASM

For more best practice updates, refer to **Best Practice Version History**.

### Integration Template Updates

#### Added Alibaba Cloud PolarDB Oracle Integration Documents, Views, and Monitors

Alibaba Cloud PolarDB Oracle metrics display includes CPU usage rate, memory usage rate, network traffic, connection count, IOPS, TPS, data disk size, etc.

![](img/image57.png)

#### Added Alibaba Cloud PolarDB PostgreSQL Integration Documents, Views, and Monitors

Alibaba Cloud PolarDB PostgreSQL metrics display includes CPU usage rate, memory usage rate, network traffic, connection count, IOPS, TPS, data disk size, etc.

![](img/image56.png)

#### Added Alibaba Cloud RDS SQLServer Integration Documents, Views, and Detection Libraries

Alibaba Cloud RDS SQLServer metrics display includes CPU usage rate, disk usage rate, IOPS, network bandwidth, TPS, QPS, etc.

![](img/image55.png)

#### Added DataKit Integration Documents, Views, and Monitors

DataKit performance metrics display includes CPU usage rate, memory information, uptime, log records, etc.

![](img/image54.png)

#### Added Nacos Integration Documents and Views

Nacos performance metrics display: Nacos uptime, Nacos config long connections, Nacos config count, Service Count, HTTP request counts, etc.

![](img/image53.png)

## March 24, 2022

### <<< custom_key.brand_name >>> Site Updates

<<< custom_key.brand_name >>> now supports multi-site login and registration, adding the "Overseas Region 1 (Oregon)" site. The original "China Region 1 (Alibaba Cloud)" has been renamed to "China Region 1 (Hangzhou)", and "China Region 2 (AWS)" has been renamed to "China Region 2 (Ningxia)".

Accounts and data across different <<< custom_key.brand_name >>> sites are mutually independent and cannot be shared or migrated. You can choose a suitable site for registration and login based on your resource usage. Currently, <<< custom_key.brand_name >>> supports the following three sites. For how to choose a site, refer to the documentation **<<< custom_key.brand_name >>> Site Description**.

| Site | Login URL | Operator |
| --- | --- | --- |
| China Region 1 (Hangzhou) | **https://auth.guance.com/** | Alibaba Cloud (China Hangzhou) |
| China Region 2 (Ningxia) | **https://aws-auth.guance.com/** | AWS (China Ningxia) |
| Overseas Region 1 (Oregon) | **https://us1-auth.guance.com/** | AWS (US Oregon) |

### <<< custom_key.brand_name >>> Updates

#### Added Workspace Data Authorization

<<< custom_key.brand_name >>> supports authorizing data from multiple workspaces to the current workspace through data authorization, allowing you to query and display data via chart components in scenario dashboards and notes. If you have multiple workspaces, configuring data authorization allows you to view data from all workspaces within one workspace. For more configuration details, refer to the documentation **Data Authorization**.

1. In "Management" - "Data Authorization," configure which workspaces' data you want to authorize for viewing.

![](img/9.dataauth_16.png)

2. After obtaining data authorization in the workspace, open "Scenarios" - "Dashboards or Notes," select a chart component, and in the "Settings" under "Workspace," choose the authorized workspace to query and analyze data from the authorized workspace.

![](img/9.dataauth_7.png)

#### Added Saving Online Pipeline Sample Test Data

<<< custom_key.brand_name >>> Pipeline supports both custom and official libraries:

- Custom Pipeline scripts can input log sample data for testing after writing rules to verify if the configured parsing rules are correct. After saving the custom Pipeline, log sample test data is also saved.
- Official Pipeline libraries come with multiple log sample test data sets. Before "cloning," you can choose the appropriate log sample test data set. After modifying and saving the cloned Pipeline, the log sample test data is also saved.

For more online Pipeline features, refer to the documentation **Pipelines**.

![](img/10.pipeline_1.png)

#### Optimized Resource Directory Viewer

In <<< custom_key.brand_name >>> workspaces, you can create new object categories via "Infrastructure" - "Custom" - "Add Object Category" and set resource directory category names and object fields.

After adding resource directory categories, you can use the **Func Function Processing Platform** to report custom data. For how to report data to <<< custom_key.brand_name >>> workspaces using Func, refer to the documentation **Resource Directory Data Reporting**.

![](img/11.custom_1.png)

#### Optimized Snapshot Sharing with Permanent Links

Snapshot sharing now supports setting expiration times, offering options of "48 hours" or "permanent". In the snapshot list, click the share button, and in the pop-up dialog box, you can set advanced options like "Hide Top Bar". For more snapshot sharing details, refer to the documentation **Snapshots**.

Note: Permanent links may pose data security risks, so please use them cautiously.

![](img/6.share_4.png)

#### Optimized Chart Time Intervals

In the time interval selection of scene dashboard charts, choosing "Auto Align" will show a time interval option in the top-right corner when previewing the chart. You can then choose the time interval according to your actual situation to view your data.

![](img/8.table_1.png)

#### Optimized Data Gap Trigger Strategies for Process, Application Performance, and User Access Detection

When configuring process anomaly detection, application performance indicator detection, and user access indicator detection monitors in <<< custom_key.brand_name >>>'s monitoring module, data gap states now support three configurations: "Trigger Data Gap Event", "Trigger Recovery Event", "Do Not Trigger Event". These need to be manually configured.

#### Other Functional Optimizations

- Optimized integration DataKit and Func installation guide pages.
- Optimized full display of single logs in the log viewer.
- Added NOT combination support for associated searches in viewers.
- Optimized member permission editing display.

### DataKit Updates

- Added DataKit command-line completion functionality to help provide command prompts and parameter completions when operating in the terminal.
- Allowed upgrading DataKit to non-stable versions to experience the latest experimental features. Please upgrade cautiously if you are in a production environment.
- Initially supported data collection for Kubernetes/Containerd architectures.
- Network probing added support for TCP/UDP/ICMP/Websocket protocols.
- Adjusted Remote Pipeline storage in DataKit locally to avoid file name case sensitivity issues caused by different file systems.
- Pipeline added the `decode()` function to avoid configuring encoding in log collectors and achieve encoding conversion in Pipeline; `add_pattern()` added scope management.

For more DataKit updates, refer to **DataKit Version History**.

### Best Practices Updates

- Scene Best Practices
    - Best practices for reporting RUM data to DataKit cluster
- Log Best Practices
    - Best practices for Pod log collection

For more best practice updates, refer to **Best Practice Version History**.

### Integration Template Updates

#### Added Alibaba Cloud PolarDB MySQL Integration Documents, Views, and Detection Libraries

Alibaba Cloud PolarDB MySQL metrics display includes CPU usage rate, memory hit rate, network traffic, connection count, QPS, TPS, read-only node delay, etc.

![](img/image51.png)

## March 10, 2022

### <<< custom_key.brand_name >>> Billing Updates

#### Added <<< custom_key.brand_name >>> Prepaid Card

<<< custom_key.brand_name >>> prepaid cards support purchasing through account cash balance, applicable to all <<< custom_key.brand_name >>> consumption modes, including pay-as-you-go and annual subscription plans. Log into the <<< custom_key.brand_name >>> **Billing Center**, click "Manage Prepaid Cards," and enter the prepaid card management page to purchase. After purchasing and paying for the prepaid card, an equivalent invoice is issued based on the actual payment amount. For more details, refer to **Prepaid Card Management**.

### <<< custom_key.brand_name >>> Updates

#### Added User Access Monitoring Viewers for Resource, Action, Long Task, and Error

User access monitoring viewers help you view and analyze detailed information about user interactions with applications. In <<< custom_key.brand_name >>> workspaces, opening "User Access Monitoring" and clicking on any application allows you to understand each user session, page performance, resources, long tasks, dynamic component errors, delays impacting users, and improve the application's operational status and user experience through comprehensive search, filtering, and correlation analysis.

<<< custom_key.brand_name >>> user access monitoring viewers include session (session), view (page), resource (resource), action (action), long_task (long task), error (error).

| Viewer Type | Overview |
| --- | --- |
| Session (Session) | View a series of user interaction details, including visit time, visited page path, number of actions, visit path, and error information. |
| View (Page) | View user visit environment, backtrack user operation paths, break down response times for user operations, and understand backend application call chain performance metrics resulting from user operations. |
| Resource (Resource) | View various resource information loaded on web pages, including status codes, request methods, resource addresses, and loading times. |
| Action (Action) | View user interactions during application use, including action types, page operation details, and action durations. |
| Long Task (Long Task) | View long tasks blocking the main thread for more than 50ms during user application use, including page address and task duration. |
| Error (Error) | View frontend errors generated by the browser during user application use, including error type and content. |

#### Added Pod Network Details and Distribution

Pod networks support viewing network traffic between Pods. They allow viewing network traffic and data connections between source IP and destination IP based on IP/port, providing real-time visual representation to help businesses understand business system network conditions, quickly analyze, track, and locate fault problems, preventing or avoiding business issues due to network performance degradation or interruptions.

After successful Pod network data collection, it is reported to the <<< custom_key.brand_name >>> console. In "Infrastructure" - "Containers" - "Pod" detail page's "Network", you can view all Pod network performance monitoring data in the workspace. For more details, refer to **Pod Network**.

![](img/7.pod_1.png)

In "Infrastructure" - "Containers" - "Pod", click the small icon at the top-left of the network distribution diagram to switch to viewing Pod network distribution. In the "network distribution diagram", you can visually query network traffic between Pods in the current workspace, quickly analyzing TCP latency, TCP fluctuations, TCP retransmission count, TCP connection count, and TCP closure count between different Pods. For more details, refer to **Pod Network Distribution Diagram**.

![](img/7.pod_3.png)

### DataKit Updates

- DataKit collectors added support for SkyWalking, Jaeger, Zipkin data configuration sampling strategies.
- DataKit collectors added support for OpenTelemetry data ingestion.
- DataKit documentation library added a document on overall log collection, including collecting logs from disk files, API calls, remote push to DataKit, and sidecar-style log collection.

#### Breaking Changes

**2022/03/22**

- Significant adjustments were made to Tracing data collection involving several incompatible changes:
    - Changed the `ignore_resources` field in the existing DDtrace conf to `close_resource`, and changed its type from an array (`[...]`) to a dictionary array (`map[string][...]`)
    - Changed the tag `type` field in the original DDTrace data to `source_type`

**2022/03/04**

- For old versions of DataKit that had RUM enabled, reinstall the IP library after upgrading, as the old IP library will no longer work.

**2021/12/30**

- Old versions of DataKit can no longer push new upgrade commands via `datakit --version`. Use the following commands directly:

- Linux/Mac:

```shell
DK_UPGRADE=1 bash -c "$(curl -L https://<<< custom_key.static_domain >>>/datakit/install.sh)"
```

- Windows

```powershell
$env:DK_UPGRADE="1"; Set-ExecutionPolicy Bypass -scope Process -Force; Import-Module bitstransfer; start-bitstransfer -source https://<<< custom_key.static_domain >>>/datakit/install.ps1 -destination .install.ps1; powershell .install.ps1;
```

For more DataKit updates, refer to **DataKit Version History**.

### SDK Updates

User access monitoring supports Opentracing protocol trace tools, and Web, Mini Programs, Android, iOS SDKs support data linkage with OTEL, SkyWalking, Jaeger, and other trace tools.

### Best Practices Updates

- Custom Access Best Practices
    - Quick-start best practices for Pythond collector
    - Best practices for integrating Alibaba Cloud "Cloud Monitoring Data"
- Log Best Practices
    - Best practices for logback socket log collection

For more best practice updates, refer to **Best Practice Version History**.

### Scenario Template Updates

#### Added MySQL Database Viewer Template for Scenario Custom Viewers

<<< custom_key.brand_name >>>'s scenario custom viewers added a MySQL database viewer template, helping you quickly set up a MySQL log viewer. In <<< custom_key.brand_name >>> workspace "Scenarios" - "Viewers" - "Built-in Viewer Templates", click "MySQL Viewer Template" to directly create a MySQL log viewer. If related logs have already been collected, you can immediately view and analyze data through this log viewer.

![](img/11.changelog_11.png)

### Integration Template Updates

#### Added Host System EthTool Integration Documents and Views

EthTool metrics include network interface ingress/egress traffic, ingress/egress packets, discarded packets, etc.

![](img/image44.png)

#### Added Host System Conntrack Integration Documents and Views

Conntrack performance metrics include successful entry searches, inserted packet count, connection count, etc.

![](img/image43.png)

## February 22, 2022

#### Added Log Configuration Pipeline Script

Pipeline is used for log data parsing. By defining parsing rules, it slices heterogeneous logs into structured data that meets our requirements. <<< custom_key.brand_name >>> provides three ways to handle log Pipeline text:

- DataKit: After installing DataKit on the server, configure the DataKit log collector and corresponding pipeline file in the terminal tool to process text data.
- DCA: DataKit Control APP, a desktop client application for DataKit. Install it first, then view and edit default log pipeline files and add custom pipeline files in the client.
- Pipelines: Support configuring and viewing log pipeline files manually in <<< custom_key.brand_name >>> workspaces without needing to log into the DataKit server.

![](img/6.pipeline_1.png)

#### Added IFrame Chart Component

<<< custom_key.brand_name >>> added an IFrame chart component, supporting HTTPS or HTTP link configurations. You can input external URLs directly in the IFrame URL or use template variables for viewing. For more configuration details, refer to the documentation **IFrame**.

![](img/7.ifram_2.png)

#### Added Event Detail Historical Records and Associated SLOs

The event detail page was optimized to improve basic attributes, status & trend, and associated events layout, adding historical records and associated SLOs. Click the event name in the anomaly event list to view.

Added historical records for events, supporting viewing detection object hosts, abnormal/recovery times, and duration.

![](img/9.event_6.png)

If SLO is configured in monitoring, you can view associated SLOs, including SLO name, compliance rate, remaining quota, target, etc.

![](img/9.event_8.png)

#### Added Absolute Time Default Enablement for Saved Snapshots

<<< custom_key.brand_name >>> added default enablement of absolute time when saving snapshots.

- If absolute time is selected when saving a snapshot, sharing it will display the absolute time when the snapshot was saved. For example, if you save a snapshot for the last 15 minutes and open the snapshot link at 14:00, it will display the data from the previous absolute time.
- If absolute time is not selected when saving a snapshot, sharing it will display the absolute time when the snapshot was saved. For example, if you save a snapshot for the last 15 minutes and open the snapshot link at 14:00, it will display data from 13:45 to 14:00.

For more snapshot sharing details, refer to the documentation **Snapshots**.

![](img/8.snap_1.png)

#### Optimized Monitor Data Gap Trigger Event Configuration and Unit Prompt for Trigger Conditions

<<< custom_key.brand_name >>> added three data gap states for configuration: "Trigger Data Gap Event", "Trigger Recovery Event", "Do Not Trigger Event".

- When configuring metric-based data monitors, you need to manually configure the data gap handling strategy.
- When configuring log-based data monitors, it defaults to selecting the "Trigger Recovery Event" strategy and does not require data gap configuration, obtaining the cycle for data gap recovery events from the "normal" condition.

![](img/11.changelog1.png)

#### Optimized Chart Query Expression Calculation Units

<<< custom_key.brand_name >>> optimized the logic for calculation units in chart queries. If query A has units, the result of arithmetic operations between query A and numbers will also have units. For example, if A's unit is KB, then A+100 will also have the unit KB. For more details, refer to the documentation **Chart Queries**.

#### Added "Time Series" Pay-As-You-Go Mode

<<< custom_key.brand_name >>> added a "Time Series" pay-as-you-go mode and optimized the "DataKit + Time Series" pay-as-you-go mode. For specific billing modes, refer to the documentation **Pay-As-You-Go**.

#### Other Optimization Features

- Charts query data sources for logs, application performance, security inspection, and network support full selection (`*`);
- Optimized chart query text, button styles, and text prompts;
- Workspaces operation buttons are now iconified, such as edit, delete, etc.
- Other UI display optimizations

## January 20, 2022

#### Added OpenAPI and API Key Management

<<< custom_key.brand_name >>> supports retrieving and updating workspace data via OpenAPI interfaces. Before calling the API interface, you need to create an API Key as an authentication method. For more details, refer to the documentation **API Key Management**.

![](img/image42.png)

#### Added Metric Dictionary and Metric Unit Management

After collecting metric data, you can view all collected metric sets and their metrics and tags in the <<< custom_key.brand_name >>> workspace's "Metric Dictionary". You can manually set units for custom metric data. For more details, refer to the documentation **Metric Dictionary**.

- Metrics help you understand overall system availability, such as server CPU usage, website load times, etc. Combined with <<< custom_key.brand_name >>>'s provided logs and traces, it helps you quickly locate and resolve faults.
- Tags help you associate data. <<< custom_key.brand_name >>> supports uploading all metrics, logs, and trace data to the workspace, associating data with the same tags for correlated queries, assisting in correlation analysis and identifying potential risks.

![](img/7.metrics_1.png)

#### Added Funnel Chart for Scenario Charts

Funnel charts are generally suitable for process analysis with standardization, long cycles, and multiple stages. Comparing data across stages can intuitively highlight issues. Additionally, funnel charts are suitable for website business flow analysis, displaying the final conversion rate from entering the website to purchase and conversion rates at each stage. For more details, refer to the documentation **Funnel Chart**.

![](img/image41.png)

#### Added Saving Dashboards to Built-in Views and Binding Label Data

After creating a dashboard view, you can click the "Settings" button and choose "Save to Built-in View" to save the dashboard view to the built-in view's "User View".

![](img/4.dashboad_1.png)

When saving a dashboard view to a built-in view, you can choose the binding relationship, such as "label". After saving to the built-in view, you can view the saved dashboard view in <<< custom_key.brand_name >>> workspace "Management" - "Built-in Views" - "User Views". Setting the binding relationship to `label:*` means that in infrastructure settings with "Label Attributes" for hosts and containers, you can view bound built-in views. For more details, refer to the documentation **Saving Dashboards as Built-in Views**.

![](img/4.dashboad_3.png)

#### Added Container Detail Page Association with Pod

In the container detail page, you can view relevant Pod (associated field: `pod_name`) basic information and performance indicator status **within the selected time range**. For more container association queries, refer to the documentation **Container**.

Note: Viewing related Pods in the container detail page requires matching the `pod_name` field; otherwise, you cannot see the related Pod page in the container detail.

![](img/8.contrainer_1.png)

#### Added Monitor Group Management

<<< custom_key.brand_name >>> added group functionality for setting meaningful monitor combinations during monitor creation, supporting filtering monitors by "Groups" for easier management.

Note:
- Each monitor must select a group upon creation, defaulting to "Default Group".
- When a group is deleted, monitors under that group automatically revert to the "Default Group".

![](img/2.monitor_1.png)

#### Added Log Viewer, Table Chart, and Log Stream Chart Formatting Configuration

<<< custom_key.brand_name >>> added formatting configuration to hide sensitive log data or highlight necessary log data content, and replace original log content for quick filtering. This supports formatting configurations in log viewers, table charts, and log stream charts.

![](img/5.browser_5.png)

#### Optimized Mute Management, Added Disable/Enable Rules

<<< custom_key.brand_name >>> added mute rule disable/enable functionality to quickly manage mute tasks. For more details, refer to the documentation **Mute Management**.

- Enabled: Mute rules follow normal procedures.
- Disabled: Mute rules do not take effect; if set to notify before "xx minutes" and mute notification actions have not been executed yet, notifications will not execute.

Note: Enabling/disabling rules generates audit events that can be viewed in <<< custom_key.brand_name >>> workspace "Management" - "Basic Settings" under Operation Audit.

![](img/2.monitor_6.png)

#### Added Log Pipeline Usage Manual

<<< custom_key.brand_name >>> added a log pipeline usage manual to help you understand how to use DataKit's built-in debugging tools to assist in writing Pipeline scripts.

```shell
# Example debug script
datakit --pl datakit.p --txt '2022-01-12T18:40:51.962+0800 WARN diskio diskio/input.go:320 Error gathering disk info: open /run/udev/data/b252:1: no such file or directory'

# Successful extraction example
Extracted data(drop: false, cost: 3.108038ms):
{
  "code": "diskio/input.go:320",
  "level": "WARN",
  "message": "2022-01-12T18:40:51.962+0800 WARN diskio diskio/input.go:320 Error gathering disk info: open /run/udev/data/b252:1: no such file or directory",
  "module": "diskio",
  "msg": "Error gathering disk info: open /run/udev/data/b252:1: no such file or directory",
  "time": 1641984051962000000
}
```

#### Added Outer Functions for DQL

<<< custom_key.brand_name >>> added two outer functions `rate()` and `irate()`.

- `rate()`: Calculates the average change rate of a metric over a specified time range. Suitable for alerts and slowly moving counters.
- `irate()`: Calculates the instantaneous change rate of a metric over a specified time range, suitable for plotting volatile, fast-changing counters.

For more details, refer to the documentation **DQL Outer Functions**.

---

Please let me know if you need further assistance or have additional sections to translate.