# Data Forwarding to Alibaba Cloud OSS
---

## Start Configuration

1. Select **Alibaba Cloud OSS** as the archive type, which means that the matched log data will be saved to this object storage;   
2. Choose [Access Type](#type);
3. Click **Confirm** to create successfully.

**Note**: If the archive type information changes, ensure that the configuration of the associated platform is updated synchronously to avoid data write failures due to configuration changes. The new configuration rules will take effect within 5 minutes.


## Access Type {#type}

### Role Authorization

![](../img/oss-1.png)

1. You need to use the external ID generated by <<< custom_key.brand_name >>> by default to configure role authorization.

2. After configuring the authorized role on the [Alibaba Cloud configuration console](../aliyun-account.md), fill in the archive information, including the Alibaba Cloud account ID, OSS role name, region, and bucket name.

3. Enter the [Storage Path](#standard) for easier subsequent differentiation and location of the specific data forwarding position.

4. Click **Test Connection**. If the above information meets the specifications, it will prompt that the test connection was successful. Click Confirm to save the current rule.

???+ warning "If the test fails:"

    You need to confirm:

    - Whether the authorization was successful;  
    - Whether the account ID is correct;   
    - Whether the storage bucket exists;  
    - Whether the Region is inconsistent.  

    **In such a case, proceed with caution:**

    - If you click to regenerate the external ID, the historical ID will become invalid after 24 hours, please replace it on the Alibaba Cloud console as soon as possible;  
 
    - Do not repeatedly click to generate the external ID, proceed with caution!

### Access Keys

![](../img/oss-2.png)

1. You need to configure the <<< custom_key.brand_name >>> RAM policy in Alibaba Cloud. After completing the configuration, enter the account information, including the Alibaba Cloud AK & SK, region, and bucket name.

2. Enter the [Storage Path](#standard) for easier subsequent differentiation and location of the specific data forwarding position.

3. Click **Test Connection**. If the above information meets the specifications, it will prompt that the test connection was successful. Click Confirm to save the current rule.

???+ warning "If the test fails:"

    You need to confirm:

    - Whether the account ID is correct;  
    - Whether the AK / SK exists;  
    - Whether the storage bucket exists;  
    - Whether the Region is inconsistent.  

### Account Authorization

![](../img/oss-2-1.png)

1. Alibaba Cloud provides cross-account authorization capabilities. You need to use the dedicated account ID of <<< custom_key.brand_name >>> and add a cross-account access authorization policy according to the [configuration instructions](../ali-cross-account.md).

2. After completing the configuration, select the region and enter the storage bucket name.

3. Enter the [Storage Path](#standard) for easier subsequent differentiation and location of the specific data forwarding position.

4. Click **Test Connection**. If the above information meets the specifications, it will prompt that the test connection was successful. Click Confirm to save the current rule.

???+ warning "If the test fails:"

    You need to confirm:

    - Whether the account ID is correct;   
    - Whether the storage bucket exists;  
    - Whether the Region is inconsistent.

**Regarding overseas sites**: The account IDs for overseas sites differ from those in China. Please distinguish between them:

| Site | ID |
| ---------- | ------------- |
| Hong Kong | 1702505505232494|
| Oregon | 218475797167922022|
| Singapore | 218475797167922022|
| Frankfurt | 218475797167922022|

#### Directory Path (Folder) Naming Convention {#standard}

1. Create single folders and multi-level folders, where a slash (/) indicates creating multi-level folders.  
2. Folder names cannot start or end with a slash (/).  
3. Cannot contain two or more consecutive slashes (/).
4. Applies to all access types.   

**Note**:

- If the folder does not exist, <<< custom_key.brand_name >>> will directly create it, and data will still be stored under this path.
- Be cautious when changing the storage path, as there is about a 5-minute delay in updating configurations. After changes, some data may still be forwarded to the original directory.