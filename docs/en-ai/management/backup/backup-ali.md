# Data Forwarding to Alibaba Cloud OSS
---

## Start Configuration

1. Select **Alibaba Cloud OSS** as the archive type, indicating that the matched log data will be saved to this object storage;
2. Choose [Access Type](#type);
3. Click **Confirm** to create successfully.

**Note**: If the archive type information changes, ensure that the associated platform configuration is updated accordingly to avoid data write failures due to configuration changes. New configuration rules will take effect within 5 minutes.


## Access Type {#type}

### Role Authorization

![](../img/oss-1.png)

1. You need to use the external ID generated by Guance to configure role authorization.

2. After configuring the authorized role on the [Alibaba Cloud console](../aliyun-account.md), fill in the archive information, including Alibaba Cloud Account ID, OSS role name, region, and Bucket name.

3. Enter the [Storage Path](#standard) for easier differentiation and location of the forwarded data.

4. Click **Test Connection**; if the provided information meets the specifications, a successful connection test message will be displayed. Click Confirm to save the current rule.

???+ warning "If the test fails:"

    You need to confirm:

    - Whether the authorization was successful;
    - Whether the Account ID is correct;
    - Whether the storage bucket exists;
    - Whether the Region is inconsistent.

    **When this happens, proceed with caution:**

    - If you regenerate the external ID, the historical ID will expire after 24 hours. Please replace it on the Alibaba Cloud console as soon as possible;

    - Do not repeatedly generate external IDs; proceed with caution!

### Access Keys

![](../img/oss-2.png)

1. You need to configure the Guance RAM policy on Alibaba Cloud. After completing the configuration, enter the account information, including Alibaba Cloud AK & SK, region, and Bucket name.

2. Enter the [Storage Path](#standard) for easier differentiation and location of the forwarded data.

3. Click **Test Connection**; if the provided information meets the specifications, a successful connection test message will be displayed. Click Confirm to save the current rule.

???+ warning "If the test fails:"

    You need to confirm:

    - Whether the Account ID is correct;
    - Whether the AK / SK exists;
    - Whether the storage bucket exists;
    - Whether the Region is inconsistent.

### Account Authorization

![](../img/oss-2-1.png)

1. Alibaba Cloud provides cross-account authorization capabilities. You need to use the dedicated Alibaba Cloud Account ID from Guance and add cross-account access authorization policies according to the [configuration instructions](../ali-cross-account.md).

2. After completing the configuration, select the region and enter the storage bucket name.

3. Enter the [Storage Path](#standard) for easier differentiation and location of the forwarded data.

4. Click **Test Connection**; if the provided information meets the specifications, a successful connection test message will be displayed. Click Confirm to save the current rule.

???+ warning "If the test fails:"

    You need to confirm:

    - Whether the Account ID is correct;
    - Whether the storage bucket exists;
    - Whether the Region is inconsistent.

**Regarding overseas sites**: The Account ID for overseas sites differs from that for China sites. Please differentiate accordingly:

| Site | ID |
| ---------- | ------------- |
| Hong Kong | 1702505505232494 |
| Oregon | 218475797167922022 |
| Singapore | 218475797167922022 |
| Frankfurt | 218475797167922022 |

#### Directory Path (Folder) Naming Convention {#standard}

1. Create a single folder or multiple levels of folders using slashes (/) to indicate multi-level folders.
2. Folder names cannot start or end with a slash (/).
3. Cannot contain more than two consecutive slashes (/).
4. Applies to all access types.

**Note**:

- If the entered folder does not exist, Guance will create it directly, and data will still be stored under this path.
- Be cautious when changing the storage path, as updating configurations may have a delay of about 5 minutes, and some data might still be forwarded to the original directory after changes.