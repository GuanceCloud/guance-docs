<div class="widget-content">
  <button class="widget-btn md-icon helpful-btn">{% include ".icons/material/emoticon-happy-outline.svg" %}</button>
  <button class="widget-btn md-icon improved-btn">{% include ".icons/material/emoticon-sad-outline.svg" %}</button>
</div>

<script>
  var helpfulBtn = document.querySelector('.helpful-btn')
  var imporvedBtn = document.querySelector('.improved-btn')
  helpfulBtn.addEventListener('click', function (ev) {
    ev.preventDefault()
    helpfulBtn.disabled = true
    imporvedBtn.disabled = true
    /* Send feedback value */
    var data = getParams('helpfulBtn')
    console.log('helpfulBtn', data)
  })
  imporvedBtn.addEventListener('click', function (ev) {
    ev.preventDefault()
    /* Retrieve page and feedback value */
    var data = getParams('imporvedBtn')
    helpfulBtn.disabled = true
    imporvedBtn.disabled = true
    console.log('imporvedBtn', data)
  })

  function getParams(type) {
    var page = document.location.pathname
    var text = type === 'helpfulBtn' ? '较好' : '较差'
    var currentTime = +new Date()
    return {
      page,
      text,
      currentTime,
    }
  }
</script>
